!function(I){var g={};function C(c){if(g[c])return g[c].exports;var l=g[c]={i:c,l:!1,exports:{}};return I[c].call(l.exports,l,l.exports,C),l.l=!0,l.exports}C.m=I,C.c=g,C.d=function(I,g,c){C.o(I,g)||Object.defineProperty(I,g,{enumerable:!0,get:c})},C.r=function(I){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})},C.t=function(I,g){if(1&g&&(I=C(I)),8&g)return I;if(4&g&&"object"==typeof I&&I&&I.__esModule)return I;var c=Object.create(null);if(C.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:I}),2&g&&"string"!=typeof I)for(var l in I)C.d(c,l,function(g){return I[g]}.bind(null,l));return c},C.n=function(I){var g=I&&I.__esModule?function(){return I.default}:function(){return I};return C.d(g,"a",g),g},C.o=function(I,g){return Object.prototype.hasOwnProperty.call(I,g)},C.p="",C(C.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/model/Monster.js\nclass Monster{\r\n    // MonsterData consists of element, name, arms, type_arms, legs, eyes, skintype, ability to fly, ability to swim, colour ,map, x coordinate, y coordinate\r\n    constructor(name, element, arms, typearms, legs, eyes, furtype, fly, swim, colour, map, x, y){\r\n        this.name = name;\r\n        this.element = element;\r\n        this.arms = arms;\r\n        this.typearms = typearms;\r\n        this.legs = legs;\r\n        this.eyes = eyes;\r\n        this.furtype = furtype;\r\n        this.fly = fly;\r\n        this.swim = swim;\r\n        this.colour = colour;\r\n        this.map = map;\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n}\r\n\r\nclass FireMonster extends Monster{\r\n    constructor(){\r\n        super();\r\n        this.arms = [1,2,3,4,5,6];\r\n        this.typearms = ["Tentacles","Claws","Claw-wings"];\r\n        this.legs = [2];\r\n        this.eyes = [1,2,3,4];\r\n        this.furtype = ["Scales","Feathers"];\r\n        this.fly = "yes";\r\n        this.swim = "no";\r\n        this.color = ["Red","Orange","Brown"];\r\n    }\r\n}\r\n\r\nclass WaterMonster extends Monster{\r\n    constructor(){\r\n        super();\r\n        this.arms = [1,2,3,4,5,6,7,8];\r\n        this.typearms = ["Tentacles","Fins"];\r\n        this.legs = [1,2,3,4];\r\n        this.eyes = [1,2,3,4,5,6,7,8];\r\n        this.furtype = ["Scales","Slime"];\r\n        this.fly = "no";\r\n        this.swim = "yes";\r\n        this.color = ["Blue","Red","Green"];\r\n    }\r\n}\r\n\r\nclass EarthMonster extends Monster{\r\n    constructor(){\r\n        super();\r\n        this.arms = [2];\r\n        this.typearms = "Claws";\r\n        this.legs = [2,4,6];\r\n        this.eyes = [2];\r\n        this.furtype = ["Hair","Scales","Slime"];\r\n        this.fly = "no";\r\n        this.swim = "no";\r\n        this.color = ["Purple","Orange","White"];\r\n    }\r\n}\r\n\r\nclass WindMonster extends Monster{\r\n    constructor(){\r\n        super();\r\n        this.arms = [2];\r\n        this.typearms = ["Wings","Claw-wings"];\r\n        this.legs = [0,2];\r\n        this.eyes = [2];\r\n        this.furtype = ["Feathers","Hair","Scales"];\r\n        this.fly = "yes";\r\n        this.swim = "no";\r\n        this.color = ["White","Blue","Purple"];\r\n    }\r\n}\n// CONCATENATED MODULE: ./src/model/MonsterService.js\n\r\n\r\n\r\nclass MonsterService_MonsterService\r\n{\r\n    constructor(){\r\n        this.monsters = [\r\n            new Monster("fire", "Marijn", 2, "tentacles", 2, 4, "scales", false, false, "orange", 0, 1, 1)\r\n        ]\r\n    }\r\n\r\n    getMonsters()\r\n    {\r\n        return this.monsters;\r\n    }\r\n\r\n    saveMonster(name, element, arms, typearms, legs, eyes, furtype, fly, swim, colour, map, x, y){\r\n        let newMonster = new Monster(name, element, arms, typearms, legs, eyes, furtype, fly, swim, colour, map, x, y);\r\n        this.monsters.push(newMonster);\r\n    }\r\n\r\n    getLastMonster() {\r\n        return this.monsters[this.monsters.length -1];\r\n    }\r\n    \r\n}\r\n\n// CONCATENATED MODULE: ./src/view/CreateMonsterView.js\nclass CreateMonsterView {\r\n\r\n  constructor(controller) {\r\n    this.controller = controller;\r\n\r\n    this.template = document.getElementById("create_monster");\r\n\r\n    this.radio_fire = document.getElementById("element_fire");\r\n    this.radio_water = document.getElementById("element_water");\r\n    this.radio_earth = document.getElementById("element_earth");\r\n    this.radio_wind = document.getElementById("element_wind");\r\n    this.remove = document.getElementById("remove");\r\n\r\n    this.setElementEvents(controller);\r\n  }\r\n\r\n  updateForm(controller) {\r\n    this.monsterform = document.getElementById("monster_form");\r\n\r\n    let created = document.getElementById("created");\r\n\r\n    this.monsterform.addEventListener("submit", function(e) {\r\n      e.preventDefault();\r\n\r\n      if (created.hasChildNodes()) {\r\n        while (created.firstChild) {\r\n          created.removeChild(created.firstChild);\r\n        }\r\n      }\r\n      this.img = document.createElement("img");\r\n      this.img.setAttribute("class", "created");\r\n\r\n      let src = "";\r\n\r\n      switch (this.element.value) {\r\n        case "fire":\r\n          src = "../src/Resources/orangemonster.png";\r\n          break;\r\n        case "water":\r\n          src = "../src/Resources/bluemonster.png";\r\n          break;\r\n        case "earth":\r\n          src = "../src/Resources/brownmonster.png";\r\n          break;\r\n        case "wind":\r\n          src = "../src/Resources/whitemonster.png";\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n      this.img.src = src;\r\n      this.img.draggable = true;\r\n      this.img.setAttribute(\'id\', \'-1x-1\');\r\n      this.img.addEventListener("dragstart", function(e) {\r\n        e.dataTransfer.setData("Text", e.target.id);\r\n      });\r\n      created.appendChild(this.img);\r\n\r\n      let name = document.getElementById("name").value;\r\n      let element = document.getElementById("element").value;\r\n      let arms = document.getElementById("arms").value;\r\n      let typearms = document.getElementById("type_arms").value;\r\n      let legs = document.getElementById("legs").value;\r\n      let eyes = document.getElementById("eyes").value;\r\n      let furtype = document.getElementById("furtype").value;\r\n      let fly = document.getElementById("fly").value;\r\n      let swim = document.getElementById("swim").value;\r\n      let colour = document.getElementById("colour").value;\r\n      \r\n      controller.addMonster(name, element, arms, typearms, legs, eyes, furtype, fly, swim, colour, null, null, null);\r\n\r\n    });\r\n  }\r\n\r\n  clearForm() {\r\n    let form = document.getElementById("monster_form");\r\n    while (form.hasChildNodes()) {\r\n      form.removeChild(form.firstChild);\r\n    }\r\n  }\r\n\r\n  setElementEvents(controller) {\r\n    let ownclass = this;\r\n    this.radio_fire.addEventListener("click", function() {\r\n          if (this.checked) {\r\n            ownclass.clearForm();\r\n            ownclass.generalFrom();\r\n\r\n            let element = document.getElementById("element");\r\n            element.setAttribute("value", "fire");\r\n\r\n            let arms = document.getElementById("arms");\r\n\r\n            let amountarms = controller.getArms("fire");\r\n\r\n            amountarms.forEach(element => {\r\n              let option = document.createElement("option");\r\n              option.setAttribute("value", `${element}`);\r\n              option.innerHTML = element;\r\n              arms.appendChild(option);\r\n            });\r\n            \r\n\r\n            let typearmsselect = document.getElementById("type_arms");\r\n\r\n            let armtypes = controller.getTypeArms("fire");\r\n\r\n            armtypes.forEach(element => {\r\n              let option = document.createElement("option");\r\n              option.setAttribute("value", `${element}`);\r\n              option.innerHTML = element;\r\n              typearmsselect.appendChild(option);\r\n            });\r\n\r\n            let legslabel = document.getElementById("legslabel");\r\n            legslabel.innerHTML = "Legs: " + controller.getLegs("fire");\r\n\r\n            let legsinput = document.getElementById("legs");\r\n            legsinput.setAttribute("value", controller.getLegs("fire"));\r\n\r\n            let eyesselect = document.getElementById("eyes");\r\n\r\n            let eyes = controller.getEyes("fire");\r\n\r\n            eyes.forEach(element => {\r\n              let option = document.createElement("option");\r\n              option.setAttribute("value", `${element}`);\r\n              option.innerHTML = element;\r\n              eyesselect.appendChild(option);\r\n            });\r\n\r\n            let furtypeselect = document.getElementById("furtype");\r\n\r\n            let furtypes = controller.getFurType("fire");\r\n\r\n            furtypes.forEach(element => {\r\n              let option = document.createElement("option");\r\n              option.setAttribute("value", `${element}`);\r\n              option.innerHTML = element;\r\n              furtypeselect.appendChild(option);\r\n            });\r\n\r\n            let flylabel = document.getElementById("flylabel");\r\n            let fly = document.getElementById("fly");\r\n\r\n            flylabel.innerHTML = "Can fly: " + controller.getFly("fire");\r\n            fly.setAttribute("value", controller.getFly("fire"));\r\n\r\n            let swimlabel = document.getElementById("swimlabel");\r\n            let swim = document.getElementById("swim");\r\n\r\n            swimlabel.innerHTML = "Can swim: " + controller.getSwim("fire");\r\n            swim.setAttribute("value", controller.getSwim("fire"));\r\n\r\n            let colourselect = document.getElementById("colour");\r\n\r\n            let colours = controller.getColor("fire");\r\n\r\n            colours.forEach(element => {\r\n              let option = document.createElement("option");\r\n              option.setAttribute("value", `${element}`);\r\n              option.innerHTML = element;\r\n              colourselect.appendChild(option);\r\n            });\r\n            \r\n          }\r\n    });\r\n\r\n    this.radio_fire.addEventListener("click", this.updateForm(this.controller));\r\n\r\n    this.radio_water.addEventListener("click", function() {\r\n      if (this.checked) {\r\n        let form = document.getElementById("monster_form");\r\n        ownclass.clearForm();\r\n        ownclass.generalFrom();\r\n\r\n        let element = document.getElementById("element");\r\n        element.setAttribute("value", "fire");\r\n\r\n        let arms = document.getElementById("arms");\r\n        // for loop with arms\r\n        \r\n        // for(let i = 1; i < 7; i++) {\r\n        //   let option = document.createElement("option");\r\n        //   option.setAttribute("value", `${i}`);\r\n        //   option.innerHTML = i;\r\n        //   arms.appendChild(option);\r\n        // }\r\n\r\n        let typearmsselect = document.getElementById("type_arms");\r\n\r\n        // let option1 = document.createElement("option");\r\n        // option1.setAttribute("value", "tentacles");\r\n        // option1.innerHTML = "Tentacles";\r\n        // let option2 = document.createElement("option");\r\n        // option2.setAttribute("value", "claws");\r\n        // option2.innerHTML = "Claws";\r\n        // let option3 = document.createElement("option");\r\n        // option3.setAttribute("value", "claw-wings");\r\n        // option3.innerHTML = "Claw-wings";\r\n\r\n        // typearmsselect.appendChild(option1);\r\n        // typearmsselect.appendChild(option2);\r\n        // typearmsselect.appendChild(option3);\r\n\r\n        let legsinput = document.getElementById("legs");\r\n        // legsinput.setAttribute("value", "2");\r\n\r\n        let eyesselect = document.getElementById("eyes");\r\n\r\n\r\n        // for(let i = 1; i < 5; i++) {\r\n        //   let option = document.createElement("option");\r\n        //   option.setAttribute("value", `${i}`);\r\n        //   option.innerHTML = i;\r\n        //   eyesselect.appendChild(option);\r\n        // }\r\n\r\n        let furtypeselect = document.getElementById("furtype");\r\n\r\n        // let option11 = document.createElement("option");\r\n        // option11.setAttribute("value", "scales");\r\n        // option11.innerHTML = "Scales";\r\n        // let option22 = document.createElement("option");\r\n        // option22.setAttribute("value", "feathers");\r\n        // option22.innerHTML = "Feathers";\r\n\r\n        // typefurselect.appendChild(option11);\r\n        // typefurselect.appendChild(option22);\r\n\r\n        let fly = document.getElementById("fly");\r\n\r\n        // flylabel.innerHTML = "Can fly: no";\r\n        // let fly = document.createElement("input");\r\n        // fly.setAttribute("value", "false");\r\n\r\n\r\n        let swim = document.getElementById("swim");\r\n\r\n        // swimlabel.innerHTML = "Can swim: no";\r\n        // let swim = document.createElement("input");\r\n        // swim.setAttribute("value", "false");\r\n\r\n\r\n        let colourselect = document.getElementById("colour");\r\n\r\n        // let option111 = document.createElement("option");\r\n        // option111.setAttribute("value", "red");\r\n        // option111.innerHTML = "Red";\r\n        // let option222 = document.createElement("option");\r\n        // option222.setAttribute("value", "orange");\r\n        // option222.innerHTML = "Orange";\r\n        // let option333 = document.createElement("option");\r\n        // option333.setAttribute("value", "brown");\r\n        // option333.innerHTML = "Brown";\r\n\r\n        // colourselect.appendChild(option111);\r\n        // colourselect.appendChild(option222);\r\n        // colourselect.appendChild(option333);\r\n      }\r\n});\r\n\r\nthis.radio_water.addEventListener("click", this.updateForm(this.controller));\r\n\r\n\r\nthis.radio_earth.addEventListener("click", function() {\r\n  if (this.checked) {\r\n    let form = document.getElementById("monster_form");\r\n    ownclass.clearForm();\r\n    ownclass.generalFrom();\r\n\r\n    let element = document.getElementById("element");\r\n    element.setAttribute("value", "fire");\r\n\r\n    let arms = document.getElementById("arms");\r\n    // for loop with arms\r\n    \r\n    // for(let i = 1; i < 7; i++) {\r\n    //   let option = document.createElement("option");\r\n    //   option.setAttribute("value", `${i}`);\r\n    //   option.innerHTML = i;\r\n    //   arms.appendChild(option);\r\n    // }\r\n\r\n    let typearmsselect = document.getElementById("type_arms");\r\n\r\n    // let option1 = document.createElement("option");\r\n    // option1.setAttribute("value", "tentacles");\r\n    // option1.innerHTML = "Tentacles";\r\n    // let option2 = document.createElement("option");\r\n    // option2.setAttribute("value", "claws");\r\n    // option2.innerHTML = "Claws";\r\n    // let option3 = document.createElement("option");\r\n    // option3.setAttribute("value", "claw-wings");\r\n    // option3.innerHTML = "Claw-wings";\r\n\r\n    // typearmsselect.appendChild(option1);\r\n    // typearmsselect.appendChild(option2);\r\n    // typearmsselect.appendChild(option3);\r\n\r\n    let legsinput = document.getElementById("legs");\r\n    // legsinput.setAttribute("value", "2");\r\n\r\n    let eyesselect = document.getElementById("eyes");\r\n\r\n\r\n    // for(let i = 1; i < 5; i++) {\r\n    //   let option = document.createElement("option");\r\n    //   option.setAttribute("value", `${i}`);\r\n    //   option.innerHTML = i;\r\n    //   eyesselect.appendChild(option);\r\n    // }\r\n\r\n    let furtypeselect = document.getElementById("furtype");\r\n\r\n    // let option11 = document.createElement("option");\r\n    // option11.setAttribute("value", "scales");\r\n    // option11.innerHTML = "Scales";\r\n    // let option22 = document.createElement("option");\r\n    // option22.setAttribute("value", "feathers");\r\n    // option22.innerHTML = "Feathers";\r\n\r\n    // typefurselect.appendChild(option11);\r\n    // typefurselect.appendChild(option22);\r\n\r\n    let fly = document.getElementById("fly");\r\n\r\n    // flylabel.innerHTML = "Can fly: no";\r\n    // let fly = document.createElement("input");\r\n    // fly.setAttribute("value", "false");\r\n\r\n\r\n    let swim = document.getElementById("swim");\r\n\r\n    // swimlabel.innerHTML = "Can swim: no";\r\n    // let swim = document.createElement("input");\r\n    // swim.setAttribute("value", "false");\r\n\r\n\r\n    let colourselect = document.getElementById("colour");\r\n\r\n    // let option111 = document.createElement("option");\r\n    // option111.setAttribute("value", "red");\r\n    // option111.innerHTML = "Red";\r\n    // let option222 = document.createElement("option");\r\n    // option222.setAttribute("value", "orange");\r\n    // option222.innerHTML = "Orange";\r\n    // let option333 = document.createElement("option");\r\n    // option333.setAttribute("value", "brown");\r\n    // option333.innerHTML = "Brown";\r\n\r\n    // colourselect.appendChild(option111);\r\n    // colourselect.appendChild(option222);\r\n    // colourselect.appendChild(option333);\r\n  }\r\n});\r\n\r\nthis.radio_earth.addEventListener("click", this.updateForm(this.controller));\r\n\r\n\r\nthis.radio_wind.addEventListener("click", function() {\r\n  if (this.checked) {\r\n    let form = document.getElementById("monster_form");\r\n    ownclass.clearForm();\r\n    ownclass.generalFrom();\r\n\r\n    let element = document.getElementById("element");\r\n    element.setAttribute("value", "fire");\r\n\r\n    let arms = document.getElementById("arms");\r\n    // for loop with arms\r\n    \r\n    // for(let i = 1; i < 7; i++) {\r\n    //   let option = document.createElement("option");\r\n    //   option.setAttribute("value", `${i}`);\r\n    //   option.innerHTML = i;\r\n    //   arms.appendChild(option);\r\n    // }\r\n\r\n    let typearmsselect = document.getElementById("type_arms");\r\n\r\n    // let option1 = document.createElement("option");\r\n    // option1.setAttribute("value", "tentacles");\r\n    // option1.innerHTML = "Tentacles";\r\n    // let option2 = document.createElement("option");\r\n    // option2.setAttribute("value", "claws");\r\n    // option2.innerHTML = "Claws";\r\n    // let option3 = document.createElement("option");\r\n    // option3.setAttribute("value", "claw-wings");\r\n    // option3.innerHTML = "Claw-wings";\r\n\r\n    // typearmsselect.appendChild(option1);\r\n    // typearmsselect.appendChild(option2);\r\n    // typearmsselect.appendChild(option3);\r\n\r\n    let legsinput = document.getElementById("legs");\r\n    // legsinput.setAttribute("value", "2");\r\n\r\n    let eyesselect = document.getElementById("eyes");\r\n\r\n\r\n    // for(let i = 1; i < 5; i++) {\r\n    //   let option = document.createElement("option");\r\n    //   option.setAttribute("value", `${i}`);\r\n    //   option.innerHTML = i;\r\n    //   eyesselect.appendChild(option);\r\n    // }\r\n\r\n    let furtypeselect = document.getElementById("furtype");\r\n\r\n    // let option11 = document.createElement("option");\r\n    // option11.setAttribute("value", "scales");\r\n    // option11.innerHTML = "Scales";\r\n    // let option22 = document.createElement("option");\r\n    // option22.setAttribute("value", "feathers");\r\n    // option22.innerHTML = "Feathers";\r\n\r\n    // typefurselect.appendChild(option11);\r\n    // typefurselect.appendChild(option22);\r\n\r\n    let fly = document.getElementById("fly");\r\n\r\n    // flylabel.innerHTML = "Can fly: no";\r\n    // let fly = document.createElement("input");\r\n    // fly.setAttribute("value", "false");\r\n\r\n\r\n    let swim = document.getElementById("swim");\r\n\r\n    // swimlabel.innerHTML = "Can swim: no";\r\n    // let swim = document.createElement("input");\r\n    // swim.setAttribute("value", "false");\r\n\r\n\r\n    let colourselect = document.getElementById("colour");\r\n\r\n    // let option111 = document.createElement("option");\r\n    // option111.setAttribute("value", "red");\r\n    // option111.innerHTML = "Red";\r\n    // let option222 = document.createElement("option");\r\n    // option222.setAttribute("value", "orange");\r\n    // option222.innerHTML = "Orange";\r\n    // let option333 = document.createElement("option");\r\n    // option333.setAttribute("value", "brown");\r\n    // option333.innerHTML = "Brown";\r\n\r\n    // colourselect.appendChild(option111);\r\n    // colourselect.appendChild(option222);\r\n    // colourselect.appendChild(option333);\r\n  }\r\n});\r\n\r\nthis.radio_wind.addEventListener("click", this.updateForm(this.controller));\r\n\r\n  }\r\n\r\n  generalFrom(){\r\n    let form = document.getElementById("monster_form");\r\n            // TODO: Remove previous form\r\n\r\n            let fieldset = document.createElement("fieldset");\r\n            let namelabel = document.createElement("label");\r\n            namelabel.innerHTML = "Name:";\r\n            let nameinput = document.createElement("input");\r\n            nameinput.setAttribute("id", "name");\r\n            nameinput.setAttribute("name", "name");\r\n\r\n            fieldset.appendChild(namelabel);\r\n            fieldset.appendChild(nameinput);\r\n\r\n            form.appendChild(fieldset);\r\n\r\n            let element = document.createElement("input");\r\n            element.setAttribute("id", "element");\r\n            // Value will be set by element\r\n            element.hidden = true;\r\n\r\n            form.appendChild(element);\r\n\r\n            let fieldset2 = document.createElement("fieldset");\r\n            let armslabel = document.createElement("label");\r\n            armslabel.innerHTML = "Arms:";\r\n            let select = document.createElement("select");\r\n            select.setAttribute("id", "arms");\r\n            // Amount of options swil be set by element\r\n\r\n            fieldset2.appendChild(armslabel);\r\n            fieldset2.appendChild(select);\r\n\r\n            form.appendChild(fieldset2);\r\n\r\n            let fieldset3 = document.createElement("fieldset");\r\n            let typearmslabel = document.createElement("label");\r\n            typearmslabel.innerHTML = "Type arms:"\r\n\r\n            let typearmsselect = document.createElement("select");\r\n            typearmsselect.setAttribute("id", "type_arms");\r\n\r\n            fieldset3.appendChild(typearmsselect);\r\n\r\n            form.appendChild(typearmslabel);\r\n            form.appendChild(fieldset3);\r\n\r\n            let fieldset4 = document.createElement("fieldset");\r\n            let legslabel = document.createElement("label");\r\n            legslabel.setAttribute("id", "legslabel");\r\n            legslabel.innerHTML = "Legs: ";\r\n\r\n            let legsinput = document.createElement("input");\r\n            legsinput.setAttribute("id", "legs");\r\n            legsinput.setAttribute("class", "hidden");\r\n\r\n            fieldset4.appendChild(legslabel);\r\n            fieldset4.appendChild(legsinput);\r\n            form.appendChild(fieldset4);\r\n\r\n            let fieldset9 = document.createElement("fieldset");\r\n            let eyeslabel = document.createElement("label");\r\n            eyeslabel.innerHTML = "Eyes:";\r\n            let select2 = document.createElement("select");\r\n            select2.setAttribute("id", "eyes");\r\n            // Amount of eyes set by element\r\n\r\n            fieldset9.appendChild(eyeslabel);\r\n            fieldset9.appendChild(select2);\r\n\r\n            form.append(fieldset9);\r\n\r\n            let fieldset5 = document.createElement("fieldset");\r\n            let furtypelabel = document.createElement("label");\r\n            furtypelabel.innerHTML = "Fur type:";\r\n            let typefurselect = document.createElement("select");\r\n            typefurselect.setAttribute("id", "furtype");\r\n\r\n            fieldset5.appendChild(furtypelabel);\r\n            fieldset5.appendChild(typefurselect);\r\n            form.appendChild(fieldset5);\r\n\r\n            let fieldset6 = document.createElement("fieldset");\r\n            let flylabel = document.createElement("label");\r\n            flylabel.setAttribute("id", "flylabel")\r\n            flylabel.innerHTML = "Can fly: ";\r\n            let fly = document.createElement("input");\r\n            fly.setAttribute("id", "fly");\r\n            fly.setAttribute("value", "");\r\n            fly.setAttribute("class", "hidden");\r\n\r\n            fieldset6.appendChild(flylabel);\r\n            fieldset6.appendChild(fly);\r\n\r\n            form.appendChild(fieldset6);\r\n\r\n            let fieldset7 = document.createElement("fieldset");\r\n            let swimlabel = document.createElement("label");\r\n            swimlabel.setAttribute("id", "swimlabel")\r\n            swimlabel.innerHTML = "Can swim: ";\r\n            let swim = document.createElement("input");\r\n            swim.setAttribute("id", "swim");\r\n            swim.setAttribute("value", "");\r\n            swim.setAttribute("class", "hidden");\r\n\r\n            fieldset6.appendChild(swimlabel);\r\n            fieldset6.appendChild(swim);\r\n\r\n            form.appendChild(fieldset7);\r\n\r\n            let fieldset8 = document.createElement("fieldset");\r\n            let colourlabel = document.createElement("label");\r\n            colourlabel.innerHTML = "Colour:"\r\n\r\n            let colourselect = document.createElement("select");\r\n            colourselect.setAttribute("id", "colour");\r\n\r\n            fieldset8.appendChild(colourselect);\r\n\r\n            form.appendChild(colourlabel);\r\n            form.appendChild(fieldset8);\r\n\r\n            let resetbutton = document.createElement("input");\r\n            resetbutton.setAttribute("type", "reset");\r\n            resetbutton.setAttribute("class", "nes-btn is-error");\r\n            resetbutton.setAttribute("value", "Cancel");\r\n\r\n            let submit = document.createElement("input");\r\n            submit.setAttribute("type", "submit");\r\n            submit.setAttribute("class", "nes-btn is-success");\r\n            submit.setAttribute("value", "Submit");\r\n\r\n            form.appendChild(resetbutton);\r\n            form.appendChild(submit);\r\n            this.updateForm(this.controller);\r\n          }\r\n}\r\n\n// CONCATENATED MODULE: ./src/view/MapView.js\nclass MapView {\r\n  constructor(zoocontroller, weathercontroller) {\r\n    this.map = document.getElementById("map");\r\n    this.remove = document.getElementById("remove");\r\n\r\n    this.zoocontroller = zoocontroller;\r\n    this.weathercontroller = weathercontroller;\r\n\r\n    // Zoo width (zw) and zoo height (zh)\r\n\r\n    this.zw = 10;\r\n    this.zh = 10;\r\n\r\n    // Load buttons from index.html\r\n\r\n    let jungle = document.getElementById("jungle");\r\n    let desert = document.getElementById("desert");\r\n    let northpole = document.getElementById("northpole");\r\n\r\n    jungle.disabled = true;\r\n    jungle.setAttribute("class", "nes-btn is-disabled");\r\n\r\n    // ---------------------------------------------------------------------------------------------------------\r\n    // Buttons for switching between environments\r\n    // ---------------------------------------------------------------------------------------------------------\r\n\r\n    jungle.addEventListener("click", () => {\r\n      if (jungle.disabled != true) {\r\n        this.loadGrid(0);\r\n        jungle.disabled = true;\r\n        desert.disabled = false;\r\n        northpole.disabled = false;\r\n\r\n        jungle.setAttribute("class", "nes-btn is-disabled");\r\n        desert.setAttribute("class", "nes-btn is-warning");\r\n        northpole.setAttribute("class", "nes-btn");\r\n      }\r\n    });\r\n\r\n    desert.addEventListener("click", () => {\r\n      if (desert.disabled != true) {\r\n        this.loadGrid(2);\r\n        desert.disabled = true;\r\n        jungle.disabled = false;\r\n        northpole.disabled = false;\r\n\r\n        desert.setAttribute("class", "nes-btn is-disabled");\r\n        jungle.setAttribute("class", "nes-btn is-success");\r\n        northpole.setAttribute("class", "nes-btn");\r\n      }\r\n    });\r\n\r\n    northpole.addEventListener("click", () => {\r\n      if (northpole.disabled != true) {\r\n        this.loadGrid(1);\r\n        northpole.disabled = true;\r\n        desert.disabled = false;\r\n        jungle.disabled = false;\r\n\r\n        northpole.setAttribute("class", "nes-btn is-disabled");\r\n        jungle.setAttribute("class", "nes-btn is-success");\r\n        desert.setAttribute("class", "nes-btn is-warning");\r\n      }\r\n    });\r\n\r\n    // ---------------------------------------------------------------------------------------------------------\r\n\r\n    // Initialise the map from jungle\r\n    this.loadGrid(0);\r\n  }\r\n\r\n  loadGrid(terrain) {\r\n    // Terrain index: 0 is jungle, 1 is northpole, 3 is desert\r\n    this.terrain = terrain;\r\n    this.zoocontroller.loadGrid(this);\r\n  }\r\n\r\n  paintGrid(grid) {\r\n    this.grid = grid;\r\n    this.selected = this.grid[this.terrain].grid;\r\n    this.weathercontroller.updateWeather(\r\n      this.grid[this.terrain].reference_city\r\n    );\r\n    this.initRemove();\r\n    this.drawBoard();\r\n  }\r\n\r\n  drawBoard() {\r\n    let oldBoard = document.getElementById("grid");\r\n    if (oldBoard != null) {\r\n      oldBoard.remove();\r\n    }\r\n\r\n    this.table = document.createElement("table");\r\n    this.table.setAttribute("id", "grid");\r\n\r\n    for (let i = 0; i < this.zw; i++) {\r\n      this.tr = document.createElement("tr");\r\n      for (let y = 0; y < this.zh; y++) {\r\n        this.td = document.createElement("td");\r\n\r\n        // Drag and drop events\r\n        this.td.addEventListener("dragover", function(e) {\r\n          e.preventDefault();\r\n        });\r\n\r\n        this.td.addEventListener("dragenter", function(e) {\r\n          e.preventDefault();\r\n        });\r\n\r\n        let grid = this.grid;\r\n        let terrain = this.terrain;\r\n        let zoocontroller = this.zoocontroller;\r\n\r\n        this.td.addEventListener("drop", function(e) {\r\n          let data = e.dataTransfer.getData("Text");\r\n          let monster = document.getElementById(data);\r\n\r\n          if (monster != null) {\r\n            if (\r\n              !this.hasChildNodes() &&\r\n              monster.getAttribute("draggable") === "true"\r\n            ) {\r\n              let origin = monster.getAttribute("id").split("x");\r\n              let coordid = this.getAttribute("id").split("-");\r\n\r\n              if(monster.getAttribute("id") === "-1x-1") {\r\n                zoocontroller.addMonsterToGrid(\r\n                  grid,\r\n                  terrain,\r\n                  coordid[0],\r\n                  coordid[1]\r\n                );\r\n\r\n                let nowgrid = grid;\r\n                let map = terrain;\r\n                monster.addEventListener("click", function(e) {\r\n                  let coords = monster.getAttribute("id").split("x");\r\n                  let selectedmonster = zoocontroller.getMonsterByPosition(nowgrid, map, coords[0], coords[1]);\r\n  \r\n      \r\n                  alert(\'Monster selected: \' + selectedmonster.name + \'\\n\' +\r\n                  \'Element: \' + selectedmonster.element + \'\\n\' +\r\n                  \'Arms: \' + selectedmonster.arms + \'\\n\' +\r\n                  \'Type of arms: \' + selectedmonster.typearms + \'\\n\' +\r\n                  \'Legs: \' + selectedmonster.legs + \'\\n\' +\r\n                  \'Eyes: \' + selectedmonster.eyes + \'\\n\' +\r\n                  \'Fur type: \' + selectedmonster.furtype + \'\\n\' +\r\n                  \'Can fly: \' + selectedmonster.fly + \'\\n\' +\r\n                  \'Can swim: \' + selectedmonster.swim + \'\\n\' +\r\n                  \'Colour: \' + selectedmonster.colour + \'\\n\'\r\n                  );\r\n                });\r\n\r\n              } else {\r\n                zoocontroller.addExistingMonsterToGrid(\r\n                  grid,\r\n                  terrain,\r\n                  origin[0],\r\n                  origin[1],\r\n                  coordid[0],\r\n                  coordid[1]\r\n                );\r\n              }\r\n\r\n              if (monster.getAttribute("id") !== "-1x-1") {\r\n                zoocontroller.deleteMonsterFromGrid(\r\n                  grid,\r\n                  terrain,\r\n                  origin[0],\r\n                  origin[1]\r\n                );\r\n              }\r\n\r\n              monster.setAttribute("id", coordid[0] + "x" + coordid[1]);\r\n              this.append(monster);\r\n\r\n\r\n            }\r\n          }\r\n        });\r\n\r\n        this.td.setAttribute("id", i + "-" + y);\r\n\r\n        if (typeof this.selected[i].Columns[y] === "object") {\r\n          let monster = this.selected[i].Columns[y];\r\n          this.img = document.createElement("img");\r\n          this.img.setAttribute("class", "monster");\r\n\r\n          //Every monster gets an id based on their coordinates\r\n          this.img.setAttribute("id", i + "x" + y);\r\n\r\n          switch (monster.element) {\r\n            case "fire":\r\n              this.img.src = "../src/Resources/orangemonster.png";\r\n              break;\r\n            case "water":\r\n              this.img.src = "../src/Resources/bluemonster.png";\r\n              break;\r\n            case "earth":\r\n              this.img.src = "../src/Resources/brownmonster.png";\r\n              break;\r\n            case "wind":\r\n              this.img.src = "../src/Resources/whitemonster.png";\r\n              break;\r\n\r\n            default:\r\n              alert("Warning: could not find resource for monster");\r\n              break;\r\n          }\r\n\r\n          this.img.draggable = true;\r\n          this.img.addEventListener("dragstart", function(e) {\r\n            e.dataTransfer.setData("Text", e.target.id);\r\n          });\r\n\r\n          let clicked = this.img;\r\n          let zoocontroller = this.zoocontroller;\r\n          let grid = this.grid;\r\n          let map = this.terrain;\r\n          this.img.addEventListener("click", function(e) {\r\n            let coords = clicked.getAttribute("id").split("x");\r\n            let selectedmonster = zoocontroller.getMonsterByPosition(grid, map, coords[0], coords[1]);\r\n\r\n            alert(\'Monster selected: \' + selectedmonster.name + \'\\n\' +\r\n            \'Element: \' + selectedmonster.element + \'\\n\' +\r\n            \'Arms: \' + selectedmonster.arms + \'\\n\' +\r\n            \'Type of arms: \' + selectedmonster.typearms + \'\\n\' +\r\n            \'Legs: \' + selectedmonster.legs + \'\\n\' +\r\n            \'Eyes: \' + selectedmonster.eyes + \'\\n\' +\r\n            \'Fur type: \' + selectedmonster.furtype + \'\\n\' +\r\n            \'Can fly: \' + selectedmonster.fly + \'\\n\' +\r\n            \'Can swim: \' + selectedmonster.swim + \'\\n\' +\r\n            \'Colour: \' + selectedmonster.colour + \'\\n\'\r\n            );\r\n          });\r\n          this.td.appendChild(this.img);\r\n        }\r\n\r\n        if (this.selected[i].Columns[y] == 1) {\r\n          this.img = document.createElement("img");\r\n          this.img.setAttribute("class", "stone");\r\n\r\n          //Every monster gets an id based on their coordinates\r\n          this.img.setAttribute("id", i + "x" + y);\r\n\r\n          switch (terrain) {\r\n            // Jungle\r\n            case 0:\r\n              this.img.src = "../src/Resources/junglerock.png";\r\n              document.getElementById("map").style.backgroundColor = "#289150";\r\n              break;\r\n\r\n            // Nortpole\r\n            case 1:\r\n              this.img.src = "../src/Resources/icechunk.png";\r\n              document.getElementById("map").style.backgroundColor = "#D8FFFF";\r\n              break;\r\n\r\n            // Desert\r\n            case 2:\r\n              this.img.src = "../src/Resources/cactus.png";\r\n              document.getElementById("map").style.backgroundColor = "#EDC9AF";\r\n              break;\r\n\r\n            default:\r\n              break;\r\n          }\r\n          this.td.appendChild(this.img);\r\n        }\r\n        this.tr.appendChild(this.td);\r\n      }\r\n      this.table.appendChild(this.tr);\r\n    }\r\n    this.map.appendChild(this.table);\r\n  }\r\n\r\n  initRemove() {\r\n    let grid = this.grid;\r\n    let terrain = this.terrain;\r\n    let zoocontroller = this.zoocontroller;\r\n\r\n    this.remove.addEventListener("drop", function(e) {\r\n      let data = e.dataTransfer.getData("Text");\r\n      let monster = document.getElementById(data);\r\n      if (monster != null) {\r\n        let origin = monster.getAttribute("id").split("x");\r\n\r\n        zoocontroller.deleteMonsterFromGrid(\r\n          grid,\r\n          terrain,\r\n          origin[0],\r\n          origin[1]\r\n        );\r\n\r\n        monster.remove();\r\n      }\r\n    });\r\n\r\n    this.remove.addEventListener("dragover", function(e) {\r\n      e.preventDefault();\r\n    });\r\n\r\n    this.remove.addEventListener("dragenter", function(e) {\r\n      e.preventDefault();\r\n    });\r\n  }\r\n}\r\n\n// CONCATENATED MODULE: ./src/Model/WeatherDataService.js\nclass WeatherDataService {\r\n\r\n    constructor() {\r\n        this.apikey = \'6efc35c3c2611e414ea66da76b2e3f0b\';\r\n        this.units = \'metric\';\r\n    }\r\n\r\n    getCurrentWeather(cityName) {\r\n        return fetch(`http://api.openweathermap.org/data/2.5/weather?q=${cityName}&appid=${this.apikey}&units=${this.units}`)\r\n        .then(function(response) {\r\n          return response.json();\r\n        })\r\n        .then(function(myJson) {\r\n          return myJson;\r\n        });\r\n      }\r\n}\n// CONCATENATED MODULE: ./src/View/WeatherView.js\nclass WeatherView {\r\n\r\n    constructor() {\r\n        this.img = document.getElementById(\'weatherimg\');\r\n        this.temp = document.getElementById(\'temp\');\r\n        this.rain = false;\r\n\r\n        this.initRainSwitch();\r\n    }\r\n\r\n    initRainSwitch() {\r\n        let rainswitch = document.getElementById(\'rainswitch\');\r\n        let ownclass = this;\r\n        rainswitch.addEventListener("click", function(e) {\r\n            e.preventDefault();\r\n            if(ownclass.rain) {\r\n                ownclass.updateWeather(ownclass.temperature, "Clear");\r\n                ownclass.rain = false;\r\n            } else {\r\n                ownclass.updateWeather(ownclass.temperature, "Rain");\r\n            }\r\n        });\r\n    }\r\n\r\n    updateWeather(temp, rain) {\r\n        this.temperature = temp;\r\n        this.temp.innerText = `${temp}° Celcius`;\r\n\r\n\r\n        if(rain === \'Rain\' || rain === \'Shower rain\') {\r\n            this.rain = true;\r\n            if(document.getElementById(\'rain\') === null) {\r\n                let canvas = document.createElement(\'canvas\');\r\n                canvas.setAttribute(\'id\', \'rain\');\r\n                document.getElementById(\'map\').appendChild(canvas);\r\n                this.startRain(300);\r\n            }\r\n        } else {\r\n            let canvas = document.getElementById(\'rain\');\r\n            if(canvas !== null) {\r\n                canvas.parentNode.removeChild(canvas);\r\n            }\r\n        }\r\n    }\r\n\r\n    startRain(maxParts) {\r\n        let canvas = document.getElementById("rain");\r\n\r\n        if (canvas.getContext) {\r\n            let ctx = canvas.getContext(\'2d\');\r\n            let w = canvas.width;\r\n            let h = canvas.height;\r\n            ctx.strokeStyle = \'rgba(46,86,147,0.3)\';\r\n            ctx.lineWidth = 0.7;\r\n            ctx.lineCap = \'round\';\r\n\r\n\r\n            let init = [];\r\n            for (let a = 0; a < maxParts; a++) {\r\n                init.push({\r\n                    x: Math.random() * w,\r\n                    y: Math.random() * h,\r\n                    l: Math.random() * 1,\r\n                    xs: -4 + Math.random() * 4 + 2,\r\n                    ys: Math.random() * 10 + 10\r\n                })\r\n            }\r\n\r\n            let particles = [];\r\n            for (let b = 0; b < maxParts; b++) {\r\n                particles[b] = init[b];\r\n            }\r\n\r\n            function draw() {\r\n                ctx.clearRect(0, 0, w, h);\r\n                for (let c = 0; c < particles.length; c++) {\r\n                    let p = particles[c];\r\n                    ctx.beginPath();\r\n                    ctx.moveTo(p.x, p.y);\r\n                    ctx.lineTo(p.x + p.l * p.xs, p.y + p.l * p.ys);\r\n                    ctx.stroke();\r\n                }\r\n                move();\r\n            }\r\n\r\n            function move() {\r\n                for (let b = 0; b < particles.length; b++) {\r\n                    let p = particles[b];\r\n                    p.x += p.xs;\r\n                    p.y += p.ys;\r\n                    if (p.x > w || p.y > h) {\r\n                        p.x = Math.random() * w;\r\n                        p.y = -20;\r\n                    }\r\n                }\r\n            }\r\n\r\n            setInterval(draw, 80);\r\n\r\n        }\r\n    }\r\n}\n// CONCATENATED MODULE: ./src/Controller/WeatherController.js\n\r\n\r\n\r\nclass WeatherController_WeatherController {\r\n    constructor() {\r\n        this.weatherdata = new WeatherDataService();\r\n        this.weatherview = new WeatherView();\r\n    }\r\n\r\n    updateWeather(city) {\r\n        let weatherview = this.weatherview;\r\n        this.weatherdata.getCurrentWeather(city).then(function(data) {\r\n            weatherview.updateWeather(data.main.temp, data.weather[0].main);\r\n        });\r\n    }\r\n}\n// CONCATENATED MODULE: ./src/Model/MapService.js\nclass MapService {\r\n  loadGrid() {\r\n    return fetch("./map/grid.json")\r\n      .then(function(response) {\r\n        return response.json();\r\n      })\r\n      .then(function(grid) {\r\n        let STORAGE_KEY = "zoo-grid";\r\n\r\n        // Put the whole grid from localstorage in a variable\r\n        let storage = JSON.parse(localStorage.getItem(STORAGE_KEY));\r\n\r\n        if (storage != null) {\r\n          grid = storage;\r\n\r\n        // If the grid is not present in localstorage yet, put the whole grid as loaded from the local grid.json file in there\r\n        } else {\r\n          localStorage.setItem(STORAGE_KEY, JSON.stringify(grid));\r\n        }\r\n\r\n        return grid;\r\n      });\r\n  }\r\n\r\n  addMonsterToGrid(grid, terrain, monster, x, y) {\r\n    monster.x = x;\r\n    monster.y = y;\r\n    monster.map = terrain;\r\n    grid[terrain].grid[x].Columns[y] = monster;\r\n    this.saveToLocalStorage(grid);\r\n  }\r\n\r\n  deleteMonsterFromGrid(grid, terrain, x, y) {\r\n    grid[terrain].grid[x].Columns[y] = "0";\r\n    this.saveToLocalStorage(grid);\r\n  }\r\n\r\n  saveToLocalStorage(grid) {\r\n    let STORAGE_KEY = "zoo-grid";\r\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(grid));\r\n  }\r\n\r\n  getMonsterByPosition(grid, map, x, y) {\r\n    return grid[map].grid[x].Columns[y];\r\n  }\r\n\r\n}\r\n\n// CONCATENATED MODULE: ./src/Model/Monster.js\nclass Monster_Monster{\r\n    // MonsterData consists of element, name, arms, type_arms, legs, eyes, skintype, ability to fly, ability to swim, colour ,map, x coordinate, y coordinate\r\n    constructor(name, element, arms, typearms, legs, eyes, furtype, fly, swim, colour, map, x, y){\r\n        this.name = name;\r\n        this.element = element;\r\n        this.arms = arms;\r\n        this.typearms = typearms;\r\n        this.legs = legs;\r\n        this.eyes = eyes;\r\n        this.furtype = furtype;\r\n        this.fly = fly;\r\n        this.swim = swim;\r\n        this.colour = colour;\r\n        this.map = map;\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n}\r\n\r\nclass Monster_FireMonster extends Monster_Monster{\r\n    constructor(){\r\n        super();\r\n        this.arms = [1,2,3,4,5,6];\r\n        this.typearms = ["Tentacles","Claws","Claw-wings"];\r\n        this.legs = [2];\r\n        this.eyes = [1,2,3,4];\r\n        this.furtype = ["Scales","Feathers"];\r\n        this.fly = "yes";\r\n        this.swim = "no";\r\n        this.color = ["Red","Orange","Brown"];\r\n    }\r\n}\r\n\r\nclass Monster_WaterMonster extends Monster_Monster{\r\n    constructor(){\r\n        super();\r\n        this.arms = [1,2,3,4,5,6,7,8];\r\n        this.typearms = ["Tentacles","Fins"];\r\n        this.legs = [1,2,3,4];\r\n        this.eyes = [1,2,3,4,5,6,7,8];\r\n        this.furtype = ["Scales","Slime"];\r\n        this.fly = "no";\r\n        this.swim = "yes";\r\n        this.color = ["Blue","Red","Green"];\r\n    }\r\n}\r\n\r\nclass Monster_EarthMonster extends Monster_Monster{\r\n    constructor(){\r\n        super();\r\n        this.arms = [2];\r\n        this.typearms = "Claws";\r\n        this.legs = [2,4,6];\r\n        this.eyes = [2];\r\n        this.furtype = ["Hair","Scales","Slime"];\r\n        this.fly = "no";\r\n        this.swim = "no";\r\n        this.color = ["Purple","Orange","White"];\r\n    }\r\n}\r\n\r\nclass Monster_WindMonster extends Monster_Monster{\r\n    constructor(){\r\n        super();\r\n        this.arms = [2];\r\n        this.typearms = ["Wings","Claw-wings"];\r\n        this.legs = [0,2];\r\n        this.eyes = [2];\r\n        this.furtype = ["Feathers","Hair","Scales"];\r\n        this.fly = "yes";\r\n        this.swim = "no";\r\n        this.color = ["White","Blue","Purple"];\r\n    }\r\n}\n// CONCATENATED MODULE: ./src/Controller/ZooController.js\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass ZooController_ZooController\r\n{\r\n    //el constructor\r\n    constructor(){\r\n        this.weathercontroller = new WeatherController_WeatherController();\r\n\r\n        this.monsterservice = new MonsterService_MonsterService();\r\n        this.createmonsterview =  new CreateMonsterView(this);\r\n        this.mapservice = new MapService();\r\n        this.fireMonster = new Monster_FireMonster();\r\n        this.waterMonster = new Monster_WaterMonster();\r\n        this.earthMonster =  new Monster_EarthMonster();\r\n        this.windMonster = new Monster_WindMonster();\r\n\r\n        this.mapview = new MapView(this, this.weathercontroller);\r\n    }\r\n\r\n    addMonsterToGrid(grid, terrain, x, y) {\r\n        this.mapservice.addMonsterToGrid(grid, terrain, this.getLastMonster(), x, y);\r\n    }\r\n\r\n    addExistingMonsterToGrid(grid, terrain, ox, oy, x, y) {\r\n        this.mapservice.addMonsterToGrid(grid, terrain, this.getMonsterByPosition(grid, terrain, ox, oy), x, y);\r\n    }\r\n\r\n    deleteMonsterFromGrid(grid, terrain, x, y) {\r\n        this.mapservice.deleteMonsterFromGrid(grid, terrain, x, y);\r\n    }\r\n\r\n    addMonster(name, element, arms, typearms, legs, eyes, furtype, fly, swim, colour, map, x, y){\r\n        this.monsterservice.saveMonster(name, element, arms, typearms, legs, eyes, furtype, fly, swim, colour, map, x, y);\r\n    }\r\n\r\n    loadGrid(mapview) {\r\n        this.mapservice.loadGrid().then(function(grid) {\r\n            mapview.paintGrid(grid);\r\n        });\r\n    }\r\n\r\n    getLastMonster() {\r\n        return this.monsterservice.getLastMonster();\r\n    }\r\n\r\n    getMonsterByPosition(grid, map, x, y) {\r\n        return this.mapservice.getMonsterByPosition(grid, map, x, y);\r\n    }\r\n\r\n    getArms(value){\r\n        let arms;\r\n        switch(value) {\r\n            case "fire":\r\n                arms = this.fireMonster.arms;\r\n                break;\r\n            case "water":\r\n                arms = this.waterMonster.arms;\r\n                break;\r\n            case "wind":\r\n                arms = this.windMonster.arms;\r\n                break;\r\n            case "earth":\r\n                arms = this.earthMonster.arms\r\n                break;\r\n            default:\r\n                arms = 0;\r\n          }\r\n        return arms;\r\n    }\r\n\r\n    getTypeArms(value){\r\n        let typeArms;\r\n        switch(value) {\r\n            case "fire":\r\n                typeArms = this.fireMonster.typearms;\r\n                break;\r\n            case "water":\r\n                typeArms = this.waterMonster.typearms;\r\n                break;\r\n            case "wind":\r\n                typeArms = this.windMonster.typearms;\r\n                break;\r\n            case "earth":\r\n                typeArms = this.earthMonster.typearms;\r\n                break;\r\n            default:\r\n                typeArms = 0;\r\n          }\r\n        return typeArms;        \r\n    }\r\n\r\n    getLegs(value){\r\n        let legs;\r\n        switch(value) {\r\n            case "fire":\r\n                legs = this.fireMonster.legs;\r\n                break;\r\n            case "water":\r\n                legs = this.waterMonster.legs;\r\n                break;\r\n            case "wind":\r\n                legs = this.windMonster.legs;\r\n                break;\r\n            case "earth":\r\n                legs = this.earthMonster.legs;\r\n                break;\r\n            default:\r\n                legs = 0;\r\n          }\r\n        return legs;\r\n    }\r\n\r\n    getEyes(value){\r\n        let eyes;\r\n        switch(value) {\r\n            case "fire":\r\n                eyes = this.fireMonster.eyes;\r\n                break;\r\n            case "water":\r\n                eyes = this.waterMonster.eyes;\r\n                break;\r\n            case "wind":\r\n                eyes = this.windMonster.eyes;\r\n                break;\r\n            case "earth":\r\n                eyes = this.earthMonster.eyes;\r\n                break;\r\n            default:\r\n                eyes = 0;\r\n          }\r\n        return eyes;\r\n    }\r\n\r\n    getFurType(value){\r\n        let furType;\r\n        switch(value) {\r\n            case "fire":\r\n                furType = this.fireMonster.furtype;\r\n                break;\r\n            case "water":\r\n                furType = this.waterMonster.furtype;\r\n                break;\r\n            case "wind":\r\n                furType = this.windMonster.furtype;\r\n                break;\r\n            case "earth":\r\n                furType = this.earthMonster.furtype;\r\n                break;\r\n            default:\r\n                furType = 0;\r\n          }\r\n        return furType;\r\n    }\r\n\r\n    getFly(value){\r\n        let fly;\r\n        switch(value) {\r\n            case "fire":\r\n                fly = this.fireMonster.fly;\r\n                break;\r\n            case "water":\r\n                fly = this.waterMonster.fly;\r\n                break;\r\n            case "wind":\r\n                fly = this.windMonster.fly;\r\n                break;\r\n            case "earth":\r\n                fly = this.earthMonster.fly;\r\n                break;\r\n            default:\r\n                fly = 0;\r\n          }\r\n        return fly;\r\n    }\r\n\r\n    getSwim(value){\r\n        let swim;\r\n        switch(value) {\r\n            case "fire":\r\n                swim = this.fireMonster.swim;\r\n                break;\r\n            case "water":\r\n                swim = this.waterMonster.swim;\r\n                break;\r\n            case "wind":\r\n                swim = this.windMonster.swim;\r\n                break;\r\n            case "earth":\r\n                swim = this.earthMonster.swim;\r\n                break;\r\n            default:\r\n                swim = 0;\r\n          }\r\n        return swim;\r\n    }\r\n\r\n    getColor(value){\r\n        let color;\r\n        switch(value) {\r\n            case "fire":\r\n                color = this.fireMonster.color;\r\n                break;\r\n            case "water":\r\n                color = this.waterMonster.color;\r\n                break;\r\n            case "wind":\r\n                color = this.windMonster.color;\r\n                break;\r\n            case "earth":\r\n                color = this.earthMonster.color;\r\n                break;\r\n            default:\r\n                color = 0;\r\n          }\r\n        return color;\r\n    }\r\n}\n// CONCATENATED MODULE: ./src/app.js\n\r\n\r\nlet zoocontroller = new ZooController_ZooController();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvTW9uc3Rlci5qcz81MThkIiwid2VicGFjazovLy8uL3NyYy9tb2RlbC9Nb25zdGVyU2VydmljZS5qcz8wODkyIiwid2VicGFjazovLy8uL3NyYy92aWV3L0NyZWF0ZU1vbnN0ZXJWaWV3LmpzP2M3NzAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcvTWFwVmlldy5qcz8wOTQ4Iiwid2VicGFjazovLy8uL3NyYy9Nb2RlbC9XZWF0aGVyRGF0YVNlcnZpY2UuanM/ZmM4ZSIsIndlYnBhY2s6Ly8vLi9zcmMvVmlldy9XZWF0aGVyVmlldy5qcz84NjFjIiwid2VicGFjazovLy8uL3NyYy9Db250cm9sbGVyL1dlYXRoZXJDb250cm9sbGVyLmpzPzE1ZjQiLCJ3ZWJwYWNrOi8vLy4vc3JjL01vZGVsL01hcFNlcnZpY2UuanM/MjA4MiIsIndlYnBhY2s6Ly8vLi9zcmMvTW9kZWwvTW9uc3Rlci5qcz84ZTRiIiwid2VicGFjazovLy8uL3NyYy9Db250cm9sbGVyL1pvb0NvbnRyb2xsZXIuanM/YmNkOSIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwLmpzPzExMTIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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Q0FBQzs7QUFFRDs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEscUJBQXFCLE9BQU87QUFDNUI7QUFDQSx5Q0FBeUMsRUFBRTtBQUMzQztBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOzs7QUFHQSxxQkFBcUIsT0FBTztBQUM1QjtBQUNBLHlDQUF5QyxFQUFFO0FBQzNDO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNqbEJPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxtQkFBbUIsYUFBYTtBQUNoQztBQUNBLHFCQUFxQixhQUFhO0FBQ2xDOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCOztBQUVqQixlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQzs7QUNoT3VEOztBQUV2RCx3QkFBd0IsMkJBQWEiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBNb25zdGVye1xyXG4gICAgLy8gTW9uc3RlckRhdGEgY29uc2lzdHMgb2YgZWxlbWVudCwgbmFtZSwgYXJtcywgdHlwZV9hcm1zLCBsZWdzLCBleWVzLCBza2ludHlwZSwgYWJpbGl0eSB0byBmbHksIGFiaWxpdHkgdG8gc3dpbSwgY29sb3VyICxtYXAsIHggY29vcmRpbmF0ZSwgeSBjb29yZGluYXRlXHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBlbGVtZW50LCBhcm1zLCB0eXBlYXJtcywgbGVncywgZXllcywgZnVydHlwZSwgZmx5LCBzd2ltLCBjb2xvdXIsIG1hcCwgeCwgeSl7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgICAgIHRoaXMuYXJtcyA9IGFybXM7XHJcbiAgICAgICAgdGhpcy50eXBlYXJtcyA9IHR5cGVhcm1zO1xyXG4gICAgICAgIHRoaXMubGVncyA9IGxlZ3M7XHJcbiAgICAgICAgdGhpcy5leWVzID0gZXllcztcclxuICAgICAgICB0aGlzLmZ1cnR5cGUgPSBmdXJ0eXBlO1xyXG4gICAgICAgIHRoaXMuZmx5ID0gZmx5O1xyXG4gICAgICAgIHRoaXMuc3dpbSA9IHN3aW07XHJcbiAgICAgICAgdGhpcy5jb2xvdXIgPSBjb2xvdXI7XHJcbiAgICAgICAgdGhpcy5tYXAgPSBtYXA7XHJcbiAgICAgICAgdGhpcy54ID0geDtcclxuICAgICAgICB0aGlzLnkgPSB5O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRmlyZU1vbnN0ZXIgZXh0ZW5kcyBNb25zdGVye1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuYXJtcyA9IFsxLDIsMyw0LDUsNl07XHJcbiAgICAgICAgdGhpcy50eXBlYXJtcyA9IFtcIlRlbnRhY2xlc1wiLFwiQ2xhd3NcIixcIkNsYXctd2luZ3NcIl07XHJcbiAgICAgICAgdGhpcy5sZWdzID0gWzJdO1xyXG4gICAgICAgIHRoaXMuZXllcyA9IFsxLDIsMyw0XTtcclxuICAgICAgICB0aGlzLmZ1cnR5cGUgPSBbXCJTY2FsZXNcIixcIkZlYXRoZXJzXCJdO1xyXG4gICAgICAgIHRoaXMuZmx5ID0gXCJ5ZXNcIjtcclxuICAgICAgICB0aGlzLnN3aW0gPSBcIm5vXCI7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IFtcIlJlZFwiLFwiT3JhbmdlXCIsXCJCcm93blwiXTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFdhdGVyTW9uc3RlciBleHRlbmRzIE1vbnN0ZXJ7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5hcm1zID0gWzEsMiwzLDQsNSw2LDcsOF07XHJcbiAgICAgICAgdGhpcy50eXBlYXJtcyA9IFtcIlRlbnRhY2xlc1wiLFwiRmluc1wiXTtcclxuICAgICAgICB0aGlzLmxlZ3MgPSBbMSwyLDMsNF07XHJcbiAgICAgICAgdGhpcy5leWVzID0gWzEsMiwzLDQsNSw2LDcsOF07XHJcbiAgICAgICAgdGhpcy5mdXJ0eXBlID0gW1wiU2NhbGVzXCIsXCJTbGltZVwiXTtcclxuICAgICAgICB0aGlzLmZseSA9IFwibm9cIjtcclxuICAgICAgICB0aGlzLnN3aW0gPSBcInllc1wiO1xyXG4gICAgICAgIHRoaXMuY29sb3IgPSBbXCJCbHVlXCIsXCJSZWRcIixcIkdyZWVuXCJdO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRWFydGhNb25zdGVyIGV4dGVuZHMgTW9uc3RlcntcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmFybXMgPSBbMl07XHJcbiAgICAgICAgdGhpcy50eXBlYXJtcyA9IFwiQ2xhd3NcIjtcclxuICAgICAgICB0aGlzLmxlZ3MgPSBbMiw0LDZdO1xyXG4gICAgICAgIHRoaXMuZXllcyA9IFsyXTtcclxuICAgICAgICB0aGlzLmZ1cnR5cGUgPSBbXCJIYWlyXCIsXCJTY2FsZXNcIixcIlNsaW1lXCJdO1xyXG4gICAgICAgIHRoaXMuZmx5ID0gXCJub1wiO1xyXG4gICAgICAgIHRoaXMuc3dpbSA9IFwibm9cIjtcclxuICAgICAgICB0aGlzLmNvbG9yID0gW1wiUHVycGxlXCIsXCJPcmFuZ2VcIixcIldoaXRlXCJdO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgIGNsYXNzIFdpbmRNb25zdGVyIGV4dGVuZHMgTW9uc3RlcntcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmFybXMgPSBbMl07XHJcbiAgICAgICAgdGhpcy50eXBlYXJtcyA9IFtcIldpbmdzXCIsXCJDbGF3LXdpbmdzXCJdO1xyXG4gICAgICAgIHRoaXMubGVncyA9IFswLDJdO1xyXG4gICAgICAgIHRoaXMuZXllcyA9IFsyXTtcclxuICAgICAgICB0aGlzLmZ1cnR5cGUgPSBbXCJGZWF0aGVyc1wiLFwiSGFpclwiLFwiU2NhbGVzXCJdO1xyXG4gICAgICAgIHRoaXMuZmx5ID0gXCJ5ZXNcIjtcclxuICAgICAgICB0aGlzLnN3aW0gPSBcIm5vXCI7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IFtcIldoaXRlXCIsXCJCbHVlXCIsXCJQdXJwbGVcIl07XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBNb25zdGVyIH0gZnJvbSAnLi9Nb25zdGVyJztcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgTW9uc3RlclNlcnZpY2Vcclxue1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICB0aGlzLm1vbnN0ZXJzID0gW1xyXG4gICAgICAgICAgICBuZXcgTW9uc3RlcihcImZpcmVcIiwgXCJNYXJpam5cIiwgMiwgXCJ0ZW50YWNsZXNcIiwgMiwgNCwgXCJzY2FsZXNcIiwgZmFsc2UsIGZhbHNlLCBcIm9yYW5nZVwiLCAwLCAxLCAxKVxyXG4gICAgICAgIF1cclxuICAgIH1cclxuXHJcbiAgICBnZXRNb25zdGVycygpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubW9uc3RlcnM7XHJcbiAgICB9XHJcblxyXG4gICAgc2F2ZU1vbnN0ZXIobmFtZSwgZWxlbWVudCwgYXJtcywgdHlwZWFybXMsIGxlZ3MsIGV5ZXMsIGZ1cnR5cGUsIGZseSwgc3dpbSwgY29sb3VyLCBtYXAsIHgsIHkpe1xyXG4gICAgICAgIGxldCBuZXdNb25zdGVyID0gbmV3IE1vbnN0ZXIobmFtZSwgZWxlbWVudCwgYXJtcywgdHlwZWFybXMsIGxlZ3MsIGV5ZXMsIGZ1cnR5cGUsIGZseSwgc3dpbSwgY29sb3VyLCBtYXAsIHgsIHkpO1xyXG4gICAgICAgIHRoaXMubW9uc3RlcnMucHVzaChuZXdNb25zdGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRMYXN0TW9uc3RlcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tb25zdGVyc1t0aGlzLm1vbnN0ZXJzLmxlbmd0aCAtMV07XHJcbiAgICB9XHJcbiAgICBcclxufVxyXG4iLCJleHBvcnQgY2xhc3MgQ3JlYXRlTW9uc3RlclZpZXcge1xyXG5cclxuICBjb25zdHJ1Y3Rvcihjb250cm9sbGVyKSB7XHJcbiAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xyXG5cclxuICAgIHRoaXMudGVtcGxhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNyZWF0ZV9tb25zdGVyXCIpO1xyXG5cclxuICAgIHRoaXMucmFkaW9fZmlyZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWxlbWVudF9maXJlXCIpO1xyXG4gICAgdGhpcy5yYWRpb193YXRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWxlbWVudF93YXRlclwiKTtcclxuICAgIHRoaXMucmFkaW9fZWFydGggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVsZW1lbnRfZWFydGhcIik7XHJcbiAgICB0aGlzLnJhZGlvX3dpbmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVsZW1lbnRfd2luZFwiKTtcclxuICAgIHRoaXMucmVtb3ZlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZW1vdmVcIik7XHJcblxyXG4gICAgdGhpcy5zZXRFbGVtZW50RXZlbnRzKGNvbnRyb2xsZXIpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlRm9ybShjb250cm9sbGVyKSB7XHJcbiAgICB0aGlzLm1vbnN0ZXJmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb25zdGVyX2Zvcm1cIik7XHJcblxyXG4gICAgbGV0IGNyZWF0ZWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNyZWF0ZWRcIik7XHJcblxyXG4gICAgdGhpcy5tb25zdGVyZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgaWYgKGNyZWF0ZWQuaGFzQ2hpbGROb2RlcygpKSB7XHJcbiAgICAgICAgd2hpbGUgKGNyZWF0ZWQuZmlyc3RDaGlsZCkge1xyXG4gICAgICAgICAgY3JlYXRlZC5yZW1vdmVDaGlsZChjcmVhdGVkLmZpcnN0Q2hpbGQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICB0aGlzLmltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcbiAgICAgIHRoaXMuaW1nLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY3JlYXRlZFwiKTtcclxuXHJcbiAgICAgIGxldCBzcmMgPSBcIlwiO1xyXG5cclxuICAgICAgc3dpdGNoICh0aGlzLmVsZW1lbnQudmFsdWUpIHtcclxuICAgICAgICBjYXNlIFwiZmlyZVwiOlxyXG4gICAgICAgICAgc3JjID0gXCIuLi9zcmMvUmVzb3VyY2VzL29yYW5nZW1vbnN0ZXIucG5nXCI7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwid2F0ZXJcIjpcclxuICAgICAgICAgIHNyYyA9IFwiLi4vc3JjL1Jlc291cmNlcy9ibHVlbW9uc3Rlci5wbmdcIjtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJlYXJ0aFwiOlxyXG4gICAgICAgICAgc3JjID0gXCIuLi9zcmMvUmVzb3VyY2VzL2Jyb3dubW9uc3Rlci5wbmdcIjtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJ3aW5kXCI6XHJcbiAgICAgICAgICBzcmMgPSBcIi4uL3NyYy9SZXNvdXJjZXMvd2hpdGVtb25zdGVyLnBuZ1wiO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmltZy5zcmMgPSBzcmM7XHJcbiAgICAgIHRoaXMuaW1nLmRyYWdnYWJsZSA9IHRydWU7XHJcbiAgICAgIHRoaXMuaW1nLnNldEF0dHJpYnV0ZSgnaWQnLCAnLTF4LTEnKTtcclxuICAgICAgdGhpcy5pbWcuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdzdGFydFwiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgZS5kYXRhVHJhbnNmZXIuc2V0RGF0YShcIlRleHRcIiwgZS50YXJnZXQuaWQpO1xyXG4gICAgICB9KTtcclxuICAgICAgY3JlYXRlZC5hcHBlbmRDaGlsZCh0aGlzLmltZyk7XHJcblxyXG4gICAgICBsZXQgbmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmFtZVwiKS52YWx1ZTtcclxuICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVsZW1lbnRcIikudmFsdWU7XHJcbiAgICAgIGxldCBhcm1zID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhcm1zXCIpLnZhbHVlO1xyXG4gICAgICBsZXQgdHlwZWFybXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR5cGVfYXJtc1wiKS52YWx1ZTtcclxuICAgICAgbGV0IGxlZ3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxlZ3NcIikudmFsdWU7XHJcbiAgICAgIGxldCBleWVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJleWVzXCIpLnZhbHVlO1xyXG4gICAgICBsZXQgZnVydHlwZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZnVydHlwZVwiKS52YWx1ZTtcclxuICAgICAgbGV0IGZseSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmx5XCIpLnZhbHVlO1xyXG4gICAgICBsZXQgc3dpbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3dpbVwiKS52YWx1ZTtcclxuICAgICAgbGV0IGNvbG91ciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29sb3VyXCIpLnZhbHVlO1xyXG4gICAgICBcclxuICAgICAgY29udHJvbGxlci5hZGRNb25zdGVyKG5hbWUsIGVsZW1lbnQsIGFybXMsIHR5cGVhcm1zLCBsZWdzLCBleWVzLCBmdXJ0eXBlLCBmbHksIHN3aW0sIGNvbG91ciwgbnVsbCwgbnVsbCwgbnVsbCk7XHJcblxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjbGVhckZvcm0oKSB7XHJcbiAgICBsZXQgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW9uc3Rlcl9mb3JtXCIpO1xyXG4gICAgd2hpbGUgKGZvcm0uaGFzQ2hpbGROb2RlcygpKSB7XHJcbiAgICAgIGZvcm0ucmVtb3ZlQ2hpbGQoZm9ybS5maXJzdENoaWxkKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEVsZW1lbnRFdmVudHMoY29udHJvbGxlcikge1xyXG4gICAgbGV0IG93bmNsYXNzID0gdGhpcztcclxuICAgIHRoaXMucmFkaW9fZmlyZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBpZiAodGhpcy5jaGVja2VkKSB7XHJcbiAgICAgICAgICAgIG93bmNsYXNzLmNsZWFyRm9ybSgpO1xyXG4gICAgICAgICAgICBvd25jbGFzcy5nZW5lcmFsRnJvbSgpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVsZW1lbnRcIik7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgXCJmaXJlXCIpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGFybXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFybXNcIik7XHJcblxyXG4gICAgICAgICAgICBsZXQgYW1vdW50YXJtcyA9IGNvbnRyb2xsZXIuZ2V0QXJtcyhcImZpcmVcIik7XHJcblxyXG4gICAgICAgICAgICBhbW91bnRhcm1zLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgbGV0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XHJcbiAgICAgICAgICAgICAgb3B0aW9uLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIGAke2VsZW1lbnR9YCk7XHJcbiAgICAgICAgICAgICAgb3B0aW9uLmlubmVySFRNTCA9IGVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgYXJtcy5hcHBlbmRDaGlsZChvcHRpb24pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICBsZXQgdHlwZWFybXNzZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR5cGVfYXJtc1wiKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBhcm10eXBlcyA9IGNvbnRyb2xsZXIuZ2V0VHlwZUFybXMoXCJmaXJlXCIpO1xyXG5cclxuICAgICAgICAgICAgYXJtdHlwZXMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgICBsZXQgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcclxuICAgICAgICAgICAgICBvcHRpb24uc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgYCR7ZWxlbWVudH1gKTtcclxuICAgICAgICAgICAgICBvcHRpb24uaW5uZXJIVE1MID0gZWxlbWVudDtcclxuICAgICAgICAgICAgICB0eXBlYXJtc3NlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBsZWdzbGFiZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxlZ3NsYWJlbFwiKTtcclxuICAgICAgICAgICAgbGVnc2xhYmVsLmlubmVySFRNTCA9IFwiTGVnczogXCIgKyBjb250cm9sbGVyLmdldExlZ3MoXCJmaXJlXCIpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGxlZ3NpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGVnc1wiKTtcclxuICAgICAgICAgICAgbGVnc2lucHV0LnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIGNvbnRyb2xsZXIuZ2V0TGVncyhcImZpcmVcIikpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGV5ZXNzZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImV5ZXNcIik7XHJcblxyXG4gICAgICAgICAgICBsZXQgZXllcyA9IGNvbnRyb2xsZXIuZ2V0RXllcyhcImZpcmVcIik7XHJcblxyXG4gICAgICAgICAgICBleWVzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgbGV0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XHJcbiAgICAgICAgICAgICAgb3B0aW9uLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIGAke2VsZW1lbnR9YCk7XHJcbiAgICAgICAgICAgICAgb3B0aW9uLmlubmVySFRNTCA9IGVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgZXllc3NlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBmdXJ0eXBlc2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmdXJ0eXBlXCIpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGZ1cnR5cGVzID0gY29udHJvbGxlci5nZXRGdXJUeXBlKFwiZmlyZVwiKTtcclxuXHJcbiAgICAgICAgICAgIGZ1cnR5cGVzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgbGV0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XHJcbiAgICAgICAgICAgICAgb3B0aW9uLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIGAke2VsZW1lbnR9YCk7XHJcbiAgICAgICAgICAgICAgb3B0aW9uLmlubmVySFRNTCA9IGVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgZnVydHlwZXNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBmbHlsYWJlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmx5bGFiZWxcIik7XHJcbiAgICAgICAgICAgIGxldCBmbHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZseVwiKTtcclxuXHJcbiAgICAgICAgICAgIGZseWxhYmVsLmlubmVySFRNTCA9IFwiQ2FuIGZseTogXCIgKyBjb250cm9sbGVyLmdldEZseShcImZpcmVcIik7XHJcbiAgICAgICAgICAgIGZseS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBjb250cm9sbGVyLmdldEZseShcImZpcmVcIikpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHN3aW1sYWJlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3dpbWxhYmVsXCIpO1xyXG4gICAgICAgICAgICBsZXQgc3dpbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3dpbVwiKTtcclxuXHJcbiAgICAgICAgICAgIHN3aW1sYWJlbC5pbm5lckhUTUwgPSBcIkNhbiBzd2ltOiBcIiArIGNvbnRyb2xsZXIuZ2V0U3dpbShcImZpcmVcIik7XHJcbiAgICAgICAgICAgIHN3aW0uc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgY29udHJvbGxlci5nZXRTd2ltKFwiZmlyZVwiKSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgY29sb3Vyc2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb2xvdXJcIik7XHJcblxyXG4gICAgICAgICAgICBsZXQgY29sb3VycyA9IGNvbnRyb2xsZXIuZ2V0Q29sb3IoXCJmaXJlXCIpO1xyXG5cclxuICAgICAgICAgICAgY29sb3Vycy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgIGxldCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xyXG4gICAgICAgICAgICAgIG9wdGlvbi5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBgJHtlbGVtZW50fWApO1xyXG4gICAgICAgICAgICAgIG9wdGlvbi5pbm5lckhUTUwgPSBlbGVtZW50O1xyXG4gICAgICAgICAgICAgIGNvbG91cnNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnJhZGlvX2ZpcmUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMudXBkYXRlRm9ybSh0aGlzLmNvbnRyb2xsZXIpKTtcclxuXHJcbiAgICB0aGlzLnJhZGlvX3dhdGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcclxuICAgICAgaWYgKHRoaXMuY2hlY2tlZCkge1xyXG4gICAgICAgIGxldCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb25zdGVyX2Zvcm1cIik7XHJcbiAgICAgICAgb3duY2xhc3MuY2xlYXJGb3JtKCk7XHJcbiAgICAgICAgb3duY2xhc3MuZ2VuZXJhbEZyb20oKTtcclxuXHJcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVsZW1lbnRcIik7XHJcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcImZpcmVcIik7XHJcblxyXG4gICAgICAgIGxldCBhcm1zID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhcm1zXCIpO1xyXG4gICAgICAgIC8vIGZvciBsb29wIHdpdGggYXJtc1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIGZvcihsZXQgaSA9IDE7IGkgPCA3OyBpKyspIHtcclxuICAgICAgICAvLyAgIGxldCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xyXG4gICAgICAgIC8vICAgb3B0aW9uLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIGAke2l9YCk7XHJcbiAgICAgICAgLy8gICBvcHRpb24uaW5uZXJIVE1MID0gaTtcclxuICAgICAgICAvLyAgIGFybXMuYXBwZW5kQ2hpbGQob3B0aW9uKTtcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIGxldCB0eXBlYXJtc3NlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHlwZV9hcm1zXCIpO1xyXG5cclxuICAgICAgICAvLyBsZXQgb3B0aW9uMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XHJcbiAgICAgICAgLy8gb3B0aW9uMS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcInRlbnRhY2xlc1wiKTtcclxuICAgICAgICAvLyBvcHRpb24xLmlubmVySFRNTCA9IFwiVGVudGFjbGVzXCI7XHJcbiAgICAgICAgLy8gbGV0IG9wdGlvbjIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xyXG4gICAgICAgIC8vIG9wdGlvbjIuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgXCJjbGF3c1wiKTtcclxuICAgICAgICAvLyBvcHRpb24yLmlubmVySFRNTCA9IFwiQ2xhd3NcIjtcclxuICAgICAgICAvLyBsZXQgb3B0aW9uMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XHJcbiAgICAgICAgLy8gb3B0aW9uMy5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcImNsYXctd2luZ3NcIik7XHJcbiAgICAgICAgLy8gb3B0aW9uMy5pbm5lckhUTUwgPSBcIkNsYXctd2luZ3NcIjtcclxuXHJcbiAgICAgICAgLy8gdHlwZWFybXNzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uMSk7XHJcbiAgICAgICAgLy8gdHlwZWFybXNzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uMik7XHJcbiAgICAgICAgLy8gdHlwZWFybXNzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uMyk7XHJcblxyXG4gICAgICAgIGxldCBsZWdzaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxlZ3NcIik7XHJcbiAgICAgICAgLy8gbGVnc2lucHV0LnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIFwiMlwiKTtcclxuXHJcbiAgICAgICAgbGV0IGV5ZXNzZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImV5ZXNcIik7XHJcblxyXG5cclxuICAgICAgICAvLyBmb3IobGV0IGkgPSAxOyBpIDwgNTsgaSsrKSB7XHJcbiAgICAgICAgLy8gICBsZXQgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcclxuICAgICAgICAvLyAgIG9wdGlvbi5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBgJHtpfWApO1xyXG4gICAgICAgIC8vICAgb3B0aW9uLmlubmVySFRNTCA9IGk7XHJcbiAgICAgICAgLy8gICBleWVzc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICBsZXQgZnVydHlwZXNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZnVydHlwZVwiKTtcclxuXHJcbiAgICAgICAgLy8gbGV0IG9wdGlvbjExID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcclxuICAgICAgICAvLyBvcHRpb24xMS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcInNjYWxlc1wiKTtcclxuICAgICAgICAvLyBvcHRpb24xMS5pbm5lckhUTUwgPSBcIlNjYWxlc1wiO1xyXG4gICAgICAgIC8vIGxldCBvcHRpb24yMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XHJcbiAgICAgICAgLy8gb3B0aW9uMjIuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgXCJmZWF0aGVyc1wiKTtcclxuICAgICAgICAvLyBvcHRpb24yMi5pbm5lckhUTUwgPSBcIkZlYXRoZXJzXCI7XHJcblxyXG4gICAgICAgIC8vIHR5cGVmdXJzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uMTEpO1xyXG4gICAgICAgIC8vIHR5cGVmdXJzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uMjIpO1xyXG5cclxuICAgICAgICBsZXQgZmx5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmbHlcIik7XHJcblxyXG4gICAgICAgIC8vIGZseWxhYmVsLmlubmVySFRNTCA9IFwiQ2FuIGZseTogbm9cIjtcclxuICAgICAgICAvLyBsZXQgZmx5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gICAgICAgIC8vIGZseS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcImZhbHNlXCIpO1xyXG5cclxuXHJcbiAgICAgICAgbGV0IHN3aW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN3aW1cIik7XHJcblxyXG4gICAgICAgIC8vIHN3aW1sYWJlbC5pbm5lckhUTUwgPSBcIkNhbiBzd2ltOiBub1wiO1xyXG4gICAgICAgIC8vIGxldCBzd2ltID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gICAgICAgIC8vIHN3aW0uc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgXCJmYWxzZVwiKTtcclxuXHJcblxyXG4gICAgICAgIGxldCBjb2xvdXJzZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbG91clwiKTtcclxuXHJcbiAgICAgICAgLy8gbGV0IG9wdGlvbjExMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XHJcbiAgICAgICAgLy8gb3B0aW9uMTExLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIFwicmVkXCIpO1xyXG4gICAgICAgIC8vIG9wdGlvbjExMS5pbm5lckhUTUwgPSBcIlJlZFwiO1xyXG4gICAgICAgIC8vIGxldCBvcHRpb24yMjIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xyXG4gICAgICAgIC8vIG9wdGlvbjIyMi5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcIm9yYW5nZVwiKTtcclxuICAgICAgICAvLyBvcHRpb24yMjIuaW5uZXJIVE1MID0gXCJPcmFuZ2VcIjtcclxuICAgICAgICAvLyBsZXQgb3B0aW9uMzMzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcclxuICAgICAgICAvLyBvcHRpb24zMzMuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgXCJicm93blwiKTtcclxuICAgICAgICAvLyBvcHRpb24zMzMuaW5uZXJIVE1MID0gXCJCcm93blwiO1xyXG5cclxuICAgICAgICAvLyBjb2xvdXJzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uMTExKTtcclxuICAgICAgICAvLyBjb2xvdXJzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uMjIyKTtcclxuICAgICAgICAvLyBjb2xvdXJzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uMzMzKTtcclxuICAgICAgfVxyXG59KTtcclxuXHJcbnRoaXMucmFkaW9fd2F0ZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMudXBkYXRlRm9ybSh0aGlzLmNvbnRyb2xsZXIpKTtcclxuXHJcblxyXG50aGlzLnJhZGlvX2VhcnRoLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcclxuICBpZiAodGhpcy5jaGVja2VkKSB7XHJcbiAgICBsZXQgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW9uc3Rlcl9mb3JtXCIpO1xyXG4gICAgb3duY2xhc3MuY2xlYXJGb3JtKCk7XHJcbiAgICBvd25jbGFzcy5nZW5lcmFsRnJvbSgpO1xyXG5cclxuICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlbGVtZW50XCIpO1xyXG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcImZpcmVcIik7XHJcblxyXG4gICAgbGV0IGFybXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFybXNcIik7XHJcbiAgICAvLyBmb3IgbG9vcCB3aXRoIGFybXNcclxuICAgIFxyXG4gICAgLy8gZm9yKGxldCBpID0gMTsgaSA8IDc7IGkrKykge1xyXG4gICAgLy8gICBsZXQgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcclxuICAgIC8vICAgb3B0aW9uLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIGAke2l9YCk7XHJcbiAgICAvLyAgIG9wdGlvbi5pbm5lckhUTUwgPSBpO1xyXG4gICAgLy8gICBhcm1zLmFwcGVuZENoaWxkKG9wdGlvbik7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgbGV0IHR5cGVhcm1zc2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eXBlX2FybXNcIik7XHJcblxyXG4gICAgLy8gbGV0IG9wdGlvbjEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xyXG4gICAgLy8gb3B0aW9uMS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcInRlbnRhY2xlc1wiKTtcclxuICAgIC8vIG9wdGlvbjEuaW5uZXJIVE1MID0gXCJUZW50YWNsZXNcIjtcclxuICAgIC8vIGxldCBvcHRpb24yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcclxuICAgIC8vIG9wdGlvbjIuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgXCJjbGF3c1wiKTtcclxuICAgIC8vIG9wdGlvbjIuaW5uZXJIVE1MID0gXCJDbGF3c1wiO1xyXG4gICAgLy8gbGV0IG9wdGlvbjMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xyXG4gICAgLy8gb3B0aW9uMy5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcImNsYXctd2luZ3NcIik7XHJcbiAgICAvLyBvcHRpb24zLmlubmVySFRNTCA9IFwiQ2xhdy13aW5nc1wiO1xyXG5cclxuICAgIC8vIHR5cGVhcm1zc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjEpO1xyXG4gICAgLy8gdHlwZWFybXNzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uMik7XHJcbiAgICAvLyB0eXBlYXJtc3NlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24zKTtcclxuXHJcbiAgICBsZXQgbGVnc2lucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsZWdzXCIpO1xyXG4gICAgLy8gbGVnc2lucHV0LnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIFwiMlwiKTtcclxuXHJcbiAgICBsZXQgZXllc3NlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXllc1wiKTtcclxuXHJcblxyXG4gICAgLy8gZm9yKGxldCBpID0gMTsgaSA8IDU7IGkrKykge1xyXG4gICAgLy8gICBsZXQgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcclxuICAgIC8vICAgb3B0aW9uLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIGAke2l9YCk7XHJcbiAgICAvLyAgIG9wdGlvbi5pbm5lckhUTUwgPSBpO1xyXG4gICAgLy8gICBleWVzc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgbGV0IGZ1cnR5cGVzZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZ1cnR5cGVcIik7XHJcblxyXG4gICAgLy8gbGV0IG9wdGlvbjExID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcclxuICAgIC8vIG9wdGlvbjExLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIFwic2NhbGVzXCIpO1xyXG4gICAgLy8gb3B0aW9uMTEuaW5uZXJIVE1MID0gXCJTY2FsZXNcIjtcclxuICAgIC8vIGxldCBvcHRpb24yMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XHJcbiAgICAvLyBvcHRpb24yMi5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcImZlYXRoZXJzXCIpO1xyXG4gICAgLy8gb3B0aW9uMjIuaW5uZXJIVE1MID0gXCJGZWF0aGVyc1wiO1xyXG5cclxuICAgIC8vIHR5cGVmdXJzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uMTEpO1xyXG4gICAgLy8gdHlwZWZ1cnNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24yMik7XHJcblxyXG4gICAgbGV0IGZseSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmx5XCIpO1xyXG5cclxuICAgIC8vIGZseWxhYmVsLmlubmVySFRNTCA9IFwiQ2FuIGZseTogbm9cIjtcclxuICAgIC8vIGxldCBmbHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgICAvLyBmbHkuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgXCJmYWxzZVwiKTtcclxuXHJcblxyXG4gICAgbGV0IHN3aW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN3aW1cIik7XHJcblxyXG4gICAgLy8gc3dpbWxhYmVsLmlubmVySFRNTCA9IFwiQ2FuIHN3aW06IG5vXCI7XHJcbiAgICAvLyBsZXQgc3dpbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcclxuICAgIC8vIHN3aW0uc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgXCJmYWxzZVwiKTtcclxuXHJcblxyXG4gICAgbGV0IGNvbG91cnNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29sb3VyXCIpO1xyXG5cclxuICAgIC8vIGxldCBvcHRpb24xMTEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xyXG4gICAgLy8gb3B0aW9uMTExLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIFwicmVkXCIpO1xyXG4gICAgLy8gb3B0aW9uMTExLmlubmVySFRNTCA9IFwiUmVkXCI7XHJcbiAgICAvLyBsZXQgb3B0aW9uMjIyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcclxuICAgIC8vIG9wdGlvbjIyMi5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcIm9yYW5nZVwiKTtcclxuICAgIC8vIG9wdGlvbjIyMi5pbm5lckhUTUwgPSBcIk9yYW5nZVwiO1xyXG4gICAgLy8gbGV0IG9wdGlvbjMzMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XHJcbiAgICAvLyBvcHRpb24zMzMuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgXCJicm93blwiKTtcclxuICAgIC8vIG9wdGlvbjMzMy5pbm5lckhUTUwgPSBcIkJyb3duXCI7XHJcblxyXG4gICAgLy8gY29sb3Vyc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjExMSk7XHJcbiAgICAvLyBjb2xvdXJzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uMjIyKTtcclxuICAgIC8vIGNvbG91cnNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24zMzMpO1xyXG4gIH1cclxufSk7XHJcblxyXG50aGlzLnJhZGlvX2VhcnRoLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLnVwZGF0ZUZvcm0odGhpcy5jb250cm9sbGVyKSk7XHJcblxyXG5cclxudGhpcy5yYWRpb193aW5kLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcclxuICBpZiAodGhpcy5jaGVja2VkKSB7XHJcbiAgICBsZXQgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW9uc3Rlcl9mb3JtXCIpO1xyXG4gICAgb3duY2xhc3MuY2xlYXJGb3JtKCk7XHJcbiAgICBvd25jbGFzcy5nZW5lcmFsRnJvbSgpO1xyXG5cclxuICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlbGVtZW50XCIpO1xyXG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcImZpcmVcIik7XHJcblxyXG4gICAgbGV0IGFybXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFybXNcIik7XHJcbiAgICAvLyBmb3IgbG9vcCB3aXRoIGFybXNcclxuICAgIFxyXG4gICAgLy8gZm9yKGxldCBpID0gMTsgaSA8IDc7IGkrKykge1xyXG4gICAgLy8gICBsZXQgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcclxuICAgIC8vICAgb3B0aW9uLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIGAke2l9YCk7XHJcbiAgICAvLyAgIG9wdGlvbi5pbm5lckhUTUwgPSBpO1xyXG4gICAgLy8gICBhcm1zLmFwcGVuZENoaWxkKG9wdGlvbik7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgbGV0IHR5cGVhcm1zc2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eXBlX2FybXNcIik7XHJcblxyXG4gICAgLy8gbGV0IG9wdGlvbjEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xyXG4gICAgLy8gb3B0aW9uMS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcInRlbnRhY2xlc1wiKTtcclxuICAgIC8vIG9wdGlvbjEuaW5uZXJIVE1MID0gXCJUZW50YWNsZXNcIjtcclxuICAgIC8vIGxldCBvcHRpb24yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcclxuICAgIC8vIG9wdGlvbjIuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgXCJjbGF3c1wiKTtcclxuICAgIC8vIG9wdGlvbjIuaW5uZXJIVE1MID0gXCJDbGF3c1wiO1xyXG4gICAgLy8gbGV0IG9wdGlvbjMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xyXG4gICAgLy8gb3B0aW9uMy5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcImNsYXctd2luZ3NcIik7XHJcbiAgICAvLyBvcHRpb24zLmlubmVySFRNTCA9IFwiQ2xhdy13aW5nc1wiO1xyXG5cclxuICAgIC8vIHR5cGVhcm1zc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjEpO1xyXG4gICAgLy8gdHlwZWFybXNzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uMik7XHJcbiAgICAvLyB0eXBlYXJtc3NlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24zKTtcclxuXHJcbiAgICBsZXQgbGVnc2lucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsZWdzXCIpO1xyXG4gICAgLy8gbGVnc2lucHV0LnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIFwiMlwiKTtcclxuXHJcbiAgICBsZXQgZXllc3NlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXllc1wiKTtcclxuXHJcblxyXG4gICAgLy8gZm9yKGxldCBpID0gMTsgaSA8IDU7IGkrKykge1xyXG4gICAgLy8gICBsZXQgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcclxuICAgIC8vICAgb3B0aW9uLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIGAke2l9YCk7XHJcbiAgICAvLyAgIG9wdGlvbi5pbm5lckhUTUwgPSBpO1xyXG4gICAgLy8gICBleWVzc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgbGV0IGZ1cnR5cGVzZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZ1cnR5cGVcIik7XHJcblxyXG4gICAgLy8gbGV0IG9wdGlvbjExID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcclxuICAgIC8vIG9wdGlvbjExLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIFwic2NhbGVzXCIpO1xyXG4gICAgLy8gb3B0aW9uMTEuaW5uZXJIVE1MID0gXCJTY2FsZXNcIjtcclxuICAgIC8vIGxldCBvcHRpb24yMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XHJcbiAgICAvLyBvcHRpb24yMi5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcImZlYXRoZXJzXCIpO1xyXG4gICAgLy8gb3B0aW9uMjIuaW5uZXJIVE1MID0gXCJGZWF0aGVyc1wiO1xyXG5cclxuICAgIC8vIHR5cGVmdXJzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uMTEpO1xyXG4gICAgLy8gdHlwZWZ1cnNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24yMik7XHJcblxyXG4gICAgbGV0IGZseSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmx5XCIpO1xyXG5cclxuICAgIC8vIGZseWxhYmVsLmlubmVySFRNTCA9IFwiQ2FuIGZseTogbm9cIjtcclxuICAgIC8vIGxldCBmbHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgICAvLyBmbHkuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgXCJmYWxzZVwiKTtcclxuXHJcblxyXG4gICAgbGV0IHN3aW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN3aW1cIik7XHJcblxyXG4gICAgLy8gc3dpbWxhYmVsLmlubmVySFRNTCA9IFwiQ2FuIHN3aW06IG5vXCI7XHJcbiAgICAvLyBsZXQgc3dpbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcclxuICAgIC8vIHN3aW0uc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgXCJmYWxzZVwiKTtcclxuXHJcblxyXG4gICAgbGV0IGNvbG91cnNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29sb3VyXCIpO1xyXG5cclxuICAgIC8vIGxldCBvcHRpb24xMTEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xyXG4gICAgLy8gb3B0aW9uMTExLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIFwicmVkXCIpO1xyXG4gICAgLy8gb3B0aW9uMTExLmlubmVySFRNTCA9IFwiUmVkXCI7XHJcbiAgICAvLyBsZXQgb3B0aW9uMjIyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcclxuICAgIC8vIG9wdGlvbjIyMi5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcIm9yYW5nZVwiKTtcclxuICAgIC8vIG9wdGlvbjIyMi5pbm5lckhUTUwgPSBcIk9yYW5nZVwiO1xyXG4gICAgLy8gbGV0IG9wdGlvbjMzMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XHJcbiAgICAvLyBvcHRpb24zMzMuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgXCJicm93blwiKTtcclxuICAgIC8vIG9wdGlvbjMzMy5pbm5lckhUTUwgPSBcIkJyb3duXCI7XHJcblxyXG4gICAgLy8gY29sb3Vyc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjExMSk7XHJcbiAgICAvLyBjb2xvdXJzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uMjIyKTtcclxuICAgIC8vIGNvbG91cnNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24zMzMpO1xyXG4gIH1cclxufSk7XHJcblxyXG50aGlzLnJhZGlvX3dpbmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMudXBkYXRlRm9ybSh0aGlzLmNvbnRyb2xsZXIpKTtcclxuXHJcbiAgfVxyXG5cclxuICBnZW5lcmFsRnJvbSgpe1xyXG4gICAgbGV0IGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vbnN0ZXJfZm9ybVwiKTtcclxuICAgICAgICAgICAgLy8gVE9ETzogUmVtb3ZlIHByZXZpb3VzIGZvcm1cclxuXHJcbiAgICAgICAgICAgIGxldCBmaWVsZHNldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmaWVsZHNldFwiKTtcclxuICAgICAgICAgICAgbGV0IG5hbWVsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcclxuICAgICAgICAgICAgbmFtZWxhYmVsLmlubmVySFRNTCA9IFwiTmFtZTpcIjtcclxuICAgICAgICAgICAgbGV0IG5hbWVpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcclxuICAgICAgICAgICAgbmFtZWlucHV0LnNldEF0dHJpYnV0ZShcImlkXCIsIFwibmFtZVwiKTtcclxuICAgICAgICAgICAgbmFtZWlucHV0LnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgXCJuYW1lXCIpO1xyXG5cclxuICAgICAgICAgICAgZmllbGRzZXQuYXBwZW5kQ2hpbGQobmFtZWxhYmVsKTtcclxuICAgICAgICAgICAgZmllbGRzZXQuYXBwZW5kQ2hpbGQobmFtZWlucHV0KTtcclxuXHJcbiAgICAgICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoZmllbGRzZXQpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJlbGVtZW50XCIpO1xyXG4gICAgICAgICAgICAvLyBWYWx1ZSB3aWxsIGJlIHNldCBieSBlbGVtZW50XHJcbiAgICAgICAgICAgIGVsZW1lbnQuaGlkZGVuID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoZWxlbWVudCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgZmllbGRzZXQyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZpZWxkc2V0XCIpO1xyXG4gICAgICAgICAgICBsZXQgYXJtc2xhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xyXG4gICAgICAgICAgICBhcm1zbGFiZWwuaW5uZXJIVE1MID0gXCJBcm1zOlwiO1xyXG4gICAgICAgICAgICBsZXQgc2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKTtcclxuICAgICAgICAgICAgc2VsZWN0LnNldEF0dHJpYnV0ZShcImlkXCIsIFwiYXJtc1wiKTtcclxuICAgICAgICAgICAgLy8gQW1vdW50IG9mIG9wdGlvbnMgc3dpbCBiZSBzZXQgYnkgZWxlbWVudFxyXG5cclxuICAgICAgICAgICAgZmllbGRzZXQyLmFwcGVuZENoaWxkKGFybXNsYWJlbCk7XHJcbiAgICAgICAgICAgIGZpZWxkc2V0Mi5hcHBlbmRDaGlsZChzZWxlY3QpO1xyXG5cclxuICAgICAgICAgICAgZm9ybS5hcHBlbmRDaGlsZChmaWVsZHNldDIpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGZpZWxkc2V0MyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmaWVsZHNldFwiKTtcclxuICAgICAgICAgICAgbGV0IHR5cGVhcm1zbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XHJcbiAgICAgICAgICAgIHR5cGVhcm1zbGFiZWwuaW5uZXJIVE1MID0gXCJUeXBlIGFybXM6XCJcclxuXHJcbiAgICAgICAgICAgIGxldCB0eXBlYXJtc3NlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7XHJcbiAgICAgICAgICAgIHR5cGVhcm1zc2VsZWN0LnNldEF0dHJpYnV0ZShcImlkXCIsIFwidHlwZV9hcm1zXCIpO1xyXG5cclxuICAgICAgICAgICAgZmllbGRzZXQzLmFwcGVuZENoaWxkKHR5cGVhcm1zc2VsZWN0KTtcclxuXHJcbiAgICAgICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQodHlwZWFybXNsYWJlbCk7XHJcbiAgICAgICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoZmllbGRzZXQzKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBmaWVsZHNldDQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZmllbGRzZXRcIik7XHJcbiAgICAgICAgICAgIGxldCBsZWdzbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XHJcbiAgICAgICAgICAgIGxlZ3NsYWJlbC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImxlZ3NsYWJlbFwiKTtcclxuICAgICAgICAgICAgbGVnc2xhYmVsLmlubmVySFRNTCA9IFwiTGVnczogXCI7XHJcblxyXG4gICAgICAgICAgICBsZXQgbGVnc2lucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gICAgICAgICAgICBsZWdzaW5wdXQuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJsZWdzXCIpO1xyXG4gICAgICAgICAgICBsZWdzaW5wdXQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJoaWRkZW5cIik7XHJcblxyXG4gICAgICAgICAgICBmaWVsZHNldDQuYXBwZW5kQ2hpbGQobGVnc2xhYmVsKTtcclxuICAgICAgICAgICAgZmllbGRzZXQ0LmFwcGVuZENoaWxkKGxlZ3NpbnB1dCk7XHJcbiAgICAgICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoZmllbGRzZXQ0KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBmaWVsZHNldDkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZmllbGRzZXRcIik7XHJcbiAgICAgICAgICAgIGxldCBleWVzbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XHJcbiAgICAgICAgICAgIGV5ZXNsYWJlbC5pbm5lckhUTUwgPSBcIkV5ZXM6XCI7XHJcbiAgICAgICAgICAgIGxldCBzZWxlY3QyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKTtcclxuICAgICAgICAgICAgc2VsZWN0Mi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImV5ZXNcIik7XHJcbiAgICAgICAgICAgIC8vIEFtb3VudCBvZiBleWVzIHNldCBieSBlbGVtZW50XHJcblxyXG4gICAgICAgICAgICBmaWVsZHNldDkuYXBwZW5kQ2hpbGQoZXllc2xhYmVsKTtcclxuICAgICAgICAgICAgZmllbGRzZXQ5LmFwcGVuZENoaWxkKHNlbGVjdDIpO1xyXG5cclxuICAgICAgICAgICAgZm9ybS5hcHBlbmQoZmllbGRzZXQ5KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBmaWVsZHNldDUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZmllbGRzZXRcIik7XHJcbiAgICAgICAgICAgIGxldCBmdXJ0eXBlbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XHJcbiAgICAgICAgICAgIGZ1cnR5cGVsYWJlbC5pbm5lckhUTUwgPSBcIkZ1ciB0eXBlOlwiO1xyXG4gICAgICAgICAgICBsZXQgdHlwZWZ1cnNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7XHJcbiAgICAgICAgICAgIHR5cGVmdXJzZWxlY3Quc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJmdXJ0eXBlXCIpO1xyXG5cclxuICAgICAgICAgICAgZmllbGRzZXQ1LmFwcGVuZENoaWxkKGZ1cnR5cGVsYWJlbCk7XHJcbiAgICAgICAgICAgIGZpZWxkc2V0NS5hcHBlbmRDaGlsZCh0eXBlZnVyc2VsZWN0KTtcclxuICAgICAgICAgICAgZm9ybS5hcHBlbmRDaGlsZChmaWVsZHNldDUpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGZpZWxkc2V0NiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmaWVsZHNldFwiKTtcclxuICAgICAgICAgICAgbGV0IGZseWxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xyXG4gICAgICAgICAgICBmbHlsYWJlbC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImZseWxhYmVsXCIpXHJcbiAgICAgICAgICAgIGZseWxhYmVsLmlubmVySFRNTCA9IFwiQ2FuIGZseTogXCI7XHJcbiAgICAgICAgICAgIGxldCBmbHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgICAgICAgICAgIGZseS5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImZseVwiKTtcclxuICAgICAgICAgICAgZmx5LnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIFwiXCIpO1xyXG4gICAgICAgICAgICBmbHkuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJoaWRkZW5cIik7XHJcblxyXG4gICAgICAgICAgICBmaWVsZHNldDYuYXBwZW5kQ2hpbGQoZmx5bGFiZWwpO1xyXG4gICAgICAgICAgICBmaWVsZHNldDYuYXBwZW5kQ2hpbGQoZmx5KTtcclxuXHJcbiAgICAgICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoZmllbGRzZXQ2KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBmaWVsZHNldDcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZmllbGRzZXRcIik7XHJcbiAgICAgICAgICAgIGxldCBzd2ltbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XHJcbiAgICAgICAgICAgIHN3aW1sYWJlbC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcInN3aW1sYWJlbFwiKVxyXG4gICAgICAgICAgICBzd2ltbGFiZWwuaW5uZXJIVE1MID0gXCJDYW4gc3dpbTogXCI7XHJcbiAgICAgICAgICAgIGxldCBzd2ltID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gICAgICAgICAgICBzd2ltLnNldEF0dHJpYnV0ZShcImlkXCIsIFwic3dpbVwiKTtcclxuICAgICAgICAgICAgc3dpbS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcIlwiKTtcclxuICAgICAgICAgICAgc3dpbS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImhpZGRlblwiKTtcclxuXHJcbiAgICAgICAgICAgIGZpZWxkc2V0Ni5hcHBlbmRDaGlsZChzd2ltbGFiZWwpO1xyXG4gICAgICAgICAgICBmaWVsZHNldDYuYXBwZW5kQ2hpbGQoc3dpbSk7XHJcblxyXG4gICAgICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGZpZWxkc2V0Nyk7XHJcblxyXG4gICAgICAgICAgICBsZXQgZmllbGRzZXQ4ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZpZWxkc2V0XCIpO1xyXG4gICAgICAgICAgICBsZXQgY29sb3VybGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XHJcbiAgICAgICAgICAgIGNvbG91cmxhYmVsLmlubmVySFRNTCA9IFwiQ29sb3VyOlwiXHJcblxyXG4gICAgICAgICAgICBsZXQgY29sb3Vyc2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKTtcclxuICAgICAgICAgICAgY29sb3Vyc2VsZWN0LnNldEF0dHJpYnV0ZShcImlkXCIsIFwiY29sb3VyXCIpO1xyXG5cclxuICAgICAgICAgICAgZmllbGRzZXQ4LmFwcGVuZENoaWxkKGNvbG91cnNlbGVjdCk7XHJcblxyXG4gICAgICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGNvbG91cmxhYmVsKTtcclxuICAgICAgICAgICAgZm9ybS5hcHBlbmRDaGlsZChmaWVsZHNldDgpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHJlc2V0YnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gICAgICAgICAgICByZXNldGJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwicmVzZXRcIik7XHJcbiAgICAgICAgICAgIHJlc2V0YnV0dG9uLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwibmVzLWJ0biBpcy1lcnJvclwiKTtcclxuICAgICAgICAgICAgcmVzZXRidXR0b24uc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgXCJDYW5jZWxcIik7XHJcblxyXG4gICAgICAgICAgICBsZXQgc3VibWl0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gICAgICAgICAgICBzdWJtaXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInN1Ym1pdFwiKTtcclxuICAgICAgICAgICAgc3VibWl0LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwibmVzLWJ0biBpcy1zdWNjZXNzXCIpO1xyXG4gICAgICAgICAgICBzdWJtaXQuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgXCJTdWJtaXRcIik7XHJcblxyXG4gICAgICAgICAgICBmb3JtLmFwcGVuZENoaWxkKHJlc2V0YnV0dG9uKTtcclxuICAgICAgICAgICAgZm9ybS5hcHBlbmRDaGlsZChzdWJtaXQpO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUZvcm0odGhpcy5jb250cm9sbGVyKTtcclxuICAgICAgICAgIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgTWFwVmlldyB7XHJcbiAgY29uc3RydWN0b3Ioem9vY29udHJvbGxlciwgd2VhdGhlcmNvbnRyb2xsZXIpIHtcclxuICAgIHRoaXMubWFwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXBcIik7XHJcbiAgICB0aGlzLnJlbW92ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVtb3ZlXCIpO1xyXG5cclxuICAgIHRoaXMuem9vY29udHJvbGxlciA9IHpvb2NvbnRyb2xsZXI7XHJcbiAgICB0aGlzLndlYXRoZXJjb250cm9sbGVyID0gd2VhdGhlcmNvbnRyb2xsZXI7XHJcblxyXG4gICAgLy8gWm9vIHdpZHRoICh6dykgYW5kIHpvbyBoZWlnaHQgKHpoKVxyXG5cclxuICAgIHRoaXMuencgPSAxMDtcclxuICAgIHRoaXMuemggPSAxMDtcclxuXHJcbiAgICAvLyBMb2FkIGJ1dHRvbnMgZnJvbSBpbmRleC5odG1sXHJcblxyXG4gICAgbGV0IGp1bmdsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwianVuZ2xlXCIpO1xyXG4gICAgbGV0IGRlc2VydCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVzZXJ0XCIpO1xyXG4gICAgbGV0IG5vcnRocG9sZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibm9ydGhwb2xlXCIpO1xyXG5cclxuICAgIGp1bmdsZS5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICBqdW5nbGUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJuZXMtYnRuIGlzLWRpc2FibGVkXCIpO1xyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgLy8gQnV0dG9ucyBmb3Igc3dpdGNoaW5nIGJldHdlZW4gZW52aXJvbm1lbnRzXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICBqdW5nbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgaWYgKGp1bmdsZS5kaXNhYmxlZCAhPSB0cnVlKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkR3JpZCgwKTtcclxuICAgICAgICBqdW5nbGUuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIGRlc2VydC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIG5vcnRocG9sZS5kaXNhYmxlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBqdW5nbGUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJuZXMtYnRuIGlzLWRpc2FibGVkXCIpO1xyXG4gICAgICAgIGRlc2VydC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm5lcy1idG4gaXMtd2FybmluZ1wiKTtcclxuICAgICAgICBub3J0aHBvbGUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJuZXMtYnRuXCIpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBkZXNlcnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgaWYgKGRlc2VydC5kaXNhYmxlZCAhPSB0cnVlKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkR3JpZCgyKTtcclxuICAgICAgICBkZXNlcnQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIGp1bmdsZS5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIG5vcnRocG9sZS5kaXNhYmxlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBkZXNlcnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJuZXMtYnRuIGlzLWRpc2FibGVkXCIpO1xyXG4gICAgICAgIGp1bmdsZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm5lcy1idG4gaXMtc3VjY2Vzc1wiKTtcclxuICAgICAgICBub3J0aHBvbGUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJuZXMtYnRuXCIpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBub3J0aHBvbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgaWYgKG5vcnRocG9sZS5kaXNhYmxlZCAhPSB0cnVlKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkR3JpZCgxKTtcclxuICAgICAgICBub3J0aHBvbGUuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIGRlc2VydC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIGp1bmdsZS5kaXNhYmxlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBub3J0aHBvbGUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJuZXMtYnRuIGlzLWRpc2FibGVkXCIpO1xyXG4gICAgICAgIGp1bmdsZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm5lcy1idG4gaXMtc3VjY2Vzc1wiKTtcclxuICAgICAgICBkZXNlcnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJuZXMtYnRuIGlzLXdhcm5pbmdcIik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIC8vIEluaXRpYWxpc2UgdGhlIG1hcCBmcm9tIGp1bmdsZVxyXG4gICAgdGhpcy5sb2FkR3JpZCgwKTtcclxuICB9XHJcblxyXG4gIGxvYWRHcmlkKHRlcnJhaW4pIHtcclxuICAgIC8vIFRlcnJhaW4gaW5kZXg6IDAgaXMganVuZ2xlLCAxIGlzIG5vcnRocG9sZSwgMyBpcyBkZXNlcnRcclxuICAgIHRoaXMudGVycmFpbiA9IHRlcnJhaW47XHJcbiAgICB0aGlzLnpvb2NvbnRyb2xsZXIubG9hZEdyaWQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBwYWludEdyaWQoZ3JpZCkge1xyXG4gICAgdGhpcy5ncmlkID0gZ3JpZDtcclxuICAgIHRoaXMuc2VsZWN0ZWQgPSB0aGlzLmdyaWRbdGhpcy50ZXJyYWluXS5ncmlkO1xyXG4gICAgdGhpcy53ZWF0aGVyY29udHJvbGxlci51cGRhdGVXZWF0aGVyKFxyXG4gICAgICB0aGlzLmdyaWRbdGhpcy50ZXJyYWluXS5yZWZlcmVuY2VfY2l0eVxyXG4gICAgKTtcclxuICAgIHRoaXMuaW5pdFJlbW92ZSgpO1xyXG4gICAgdGhpcy5kcmF3Qm9hcmQoKTtcclxuICB9XHJcblxyXG4gIGRyYXdCb2FyZCgpIHtcclxuICAgIGxldCBvbGRCb2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ3JpZFwiKTtcclxuICAgIGlmIChvbGRCb2FyZCAhPSBudWxsKSB7XHJcbiAgICAgIG9sZEJvYXJkLnJlbW92ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMudGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGFibGVcIik7XHJcbiAgICB0aGlzLnRhYmxlLnNldEF0dHJpYnV0ZShcImlkXCIsIFwiZ3JpZFwiKTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuenc7IGkrKykge1xyXG4gICAgICB0aGlzLnRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xyXG4gICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHRoaXMuemg7IHkrKykge1xyXG4gICAgICAgIHRoaXMudGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XHJcblxyXG4gICAgICAgIC8vIERyYWcgYW5kIGRyb3AgZXZlbnRzXHJcbiAgICAgICAgdGhpcy50ZC5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ292ZXJcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnRkLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnZW50ZXJcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsZXQgZ3JpZCA9IHRoaXMuZ3JpZDtcclxuICAgICAgICBsZXQgdGVycmFpbiA9IHRoaXMudGVycmFpbjtcclxuICAgICAgICBsZXQgem9vY29udHJvbGxlciA9IHRoaXMuem9vY29udHJvbGxlcjtcclxuXHJcbiAgICAgICAgdGhpcy50ZC5hZGRFdmVudExpc3RlbmVyKFwiZHJvcFwiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICBsZXQgZGF0YSA9IGUuZGF0YVRyYW5zZmVyLmdldERhdGEoXCJUZXh0XCIpO1xyXG4gICAgICAgICAgbGV0IG1vbnN0ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkYXRhKTtcclxuXHJcbiAgICAgICAgICBpZiAobW9uc3RlciAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAhdGhpcy5oYXNDaGlsZE5vZGVzKCkgJiZcclxuICAgICAgICAgICAgICBtb25zdGVyLmdldEF0dHJpYnV0ZShcImRyYWdnYWJsZVwiKSA9PT0gXCJ0cnVlXCJcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgbGV0IG9yaWdpbiA9IG1vbnN0ZXIuZ2V0QXR0cmlidXRlKFwiaWRcIikuc3BsaXQoXCJ4XCIpO1xyXG4gICAgICAgICAgICAgIGxldCBjb29yZGlkID0gdGhpcy5nZXRBdHRyaWJ1dGUoXCJpZFwiKS5zcGxpdChcIi1cIik7XHJcblxyXG4gICAgICAgICAgICAgIGlmKG1vbnN0ZXIuZ2V0QXR0cmlidXRlKFwiaWRcIikgPT09IFwiLTF4LTFcIikge1xyXG4gICAgICAgICAgICAgICAgem9vY29udHJvbGxlci5hZGRNb25zdGVyVG9HcmlkKFxyXG4gICAgICAgICAgICAgICAgICBncmlkLFxyXG4gICAgICAgICAgICAgICAgICB0ZXJyYWluLFxyXG4gICAgICAgICAgICAgICAgICBjb29yZGlkWzBdLFxyXG4gICAgICAgICAgICAgICAgICBjb29yZGlkWzFdXHJcbiAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBub3dncmlkID0gZ3JpZDtcclxuICAgICAgICAgICAgICAgIGxldCBtYXAgPSB0ZXJyYWluO1xyXG4gICAgICAgICAgICAgICAgbW9uc3Rlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgICBsZXQgY29vcmRzID0gbW9uc3Rlci5nZXRBdHRyaWJ1dGUoXCJpZFwiKS5zcGxpdChcInhcIik7XHJcbiAgICAgICAgICAgICAgICAgIGxldCBzZWxlY3RlZG1vbnN0ZXIgPSB6b29jb250cm9sbGVyLmdldE1vbnN0ZXJCeVBvc2l0aW9uKG5vd2dyaWQsIG1hcCwgY29vcmRzWzBdLCBjb29yZHNbMV0pO1xyXG4gIFxyXG4gICAgICBcclxuICAgICAgICAgICAgICAgICAgYWxlcnQoJ01vbnN0ZXIgc2VsZWN0ZWQ6ICcgKyBzZWxlY3RlZG1vbnN0ZXIubmFtZSArICdcXG4nICtcclxuICAgICAgICAgICAgICAgICAgJ0VsZW1lbnQ6ICcgKyBzZWxlY3RlZG1vbnN0ZXIuZWxlbWVudCArICdcXG4nICtcclxuICAgICAgICAgICAgICAgICAgJ0FybXM6ICcgKyBzZWxlY3RlZG1vbnN0ZXIuYXJtcyArICdcXG4nICtcclxuICAgICAgICAgICAgICAgICAgJ1R5cGUgb2YgYXJtczogJyArIHNlbGVjdGVkbW9uc3Rlci50eXBlYXJtcyArICdcXG4nICtcclxuICAgICAgICAgICAgICAgICAgJ0xlZ3M6ICcgKyBzZWxlY3RlZG1vbnN0ZXIubGVncyArICdcXG4nICtcclxuICAgICAgICAgICAgICAgICAgJ0V5ZXM6ICcgKyBzZWxlY3RlZG1vbnN0ZXIuZXllcyArICdcXG4nICtcclxuICAgICAgICAgICAgICAgICAgJ0Z1ciB0eXBlOiAnICsgc2VsZWN0ZWRtb25zdGVyLmZ1cnR5cGUgKyAnXFxuJyArXHJcbiAgICAgICAgICAgICAgICAgICdDYW4gZmx5OiAnICsgc2VsZWN0ZWRtb25zdGVyLmZseSArICdcXG4nICtcclxuICAgICAgICAgICAgICAgICAgJ0NhbiBzd2ltOiAnICsgc2VsZWN0ZWRtb25zdGVyLnN3aW0gKyAnXFxuJyArXHJcbiAgICAgICAgICAgICAgICAgICdDb2xvdXI6ICcgKyBzZWxlY3RlZG1vbnN0ZXIuY29sb3VyICsgJ1xcbidcclxuICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgem9vY29udHJvbGxlci5hZGRFeGlzdGluZ01vbnN0ZXJUb0dyaWQoXHJcbiAgICAgICAgICAgICAgICAgIGdyaWQsXHJcbiAgICAgICAgICAgICAgICAgIHRlcnJhaW4sXHJcbiAgICAgICAgICAgICAgICAgIG9yaWdpblswXSxcclxuICAgICAgICAgICAgICAgICAgb3JpZ2luWzFdLFxyXG4gICAgICAgICAgICAgICAgICBjb29yZGlkWzBdLFxyXG4gICAgICAgICAgICAgICAgICBjb29yZGlkWzFdXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgaWYgKG1vbnN0ZXIuZ2V0QXR0cmlidXRlKFwiaWRcIikgIT09IFwiLTF4LTFcIikge1xyXG4gICAgICAgICAgICAgICAgem9vY29udHJvbGxlci5kZWxldGVNb25zdGVyRnJvbUdyaWQoXHJcbiAgICAgICAgICAgICAgICAgIGdyaWQsXHJcbiAgICAgICAgICAgICAgICAgIHRlcnJhaW4sXHJcbiAgICAgICAgICAgICAgICAgIG9yaWdpblswXSxcclxuICAgICAgICAgICAgICAgICAgb3JpZ2luWzFdXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgbW9uc3Rlci5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBjb29yZGlkWzBdICsgXCJ4XCIgKyBjb29yZGlkWzFdKTtcclxuICAgICAgICAgICAgICB0aGlzLmFwcGVuZChtb25zdGVyKTtcclxuXHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMudGQuc2V0QXR0cmlidXRlKFwiaWRcIiwgaSArIFwiLVwiICsgeSk7XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5zZWxlY3RlZFtpXS5Db2x1bW5zW3ldID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICBsZXQgbW9uc3RlciA9IHRoaXMuc2VsZWN0ZWRbaV0uQ29sdW1uc1t5XTtcclxuICAgICAgICAgIHRoaXMuaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuICAgICAgICAgIHRoaXMuaW1nLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwibW9uc3RlclwiKTtcclxuXHJcbiAgICAgICAgICAvL0V2ZXJ5IG1vbnN0ZXIgZ2V0cyBhbiBpZCBiYXNlZCBvbiB0aGVpciBjb29yZGluYXRlc1xyXG4gICAgICAgICAgdGhpcy5pbWcuc2V0QXR0cmlidXRlKFwiaWRcIiwgaSArIFwieFwiICsgeSk7XHJcblxyXG4gICAgICAgICAgc3dpdGNoIChtb25zdGVyLmVsZW1lbnQpIHtcclxuICAgICAgICAgICAgY2FzZSBcImZpcmVcIjpcclxuICAgICAgICAgICAgICB0aGlzLmltZy5zcmMgPSBcIi4uL3NyYy9SZXNvdXJjZXMvb3JhbmdlbW9uc3Rlci5wbmdcIjtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIndhdGVyXCI6XHJcbiAgICAgICAgICAgICAgdGhpcy5pbWcuc3JjID0gXCIuLi9zcmMvUmVzb3VyY2VzL2JsdWVtb25zdGVyLnBuZ1wiO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiZWFydGhcIjpcclxuICAgICAgICAgICAgICB0aGlzLmltZy5zcmMgPSBcIi4uL3NyYy9SZXNvdXJjZXMvYnJvd25tb25zdGVyLnBuZ1wiO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwid2luZFwiOlxyXG4gICAgICAgICAgICAgIHRoaXMuaW1nLnNyYyA9IFwiLi4vc3JjL1Jlc291cmNlcy93aGl0ZW1vbnN0ZXIucG5nXCI7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgIGFsZXJ0KFwiV2FybmluZzogY291bGQgbm90IGZpbmQgcmVzb3VyY2UgZm9yIG1vbnN0ZXJcIik7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgdGhpcy5pbWcuZHJhZ2dhYmxlID0gdHJ1ZTtcclxuICAgICAgICAgIHRoaXMuaW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnc3RhcnRcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKFwiVGV4dFwiLCBlLnRhcmdldC5pZCk7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBsZXQgY2xpY2tlZCA9IHRoaXMuaW1nO1xyXG4gICAgICAgICAgbGV0IHpvb2NvbnRyb2xsZXIgPSB0aGlzLnpvb2NvbnRyb2xsZXI7XHJcbiAgICAgICAgICBsZXQgZ3JpZCA9IHRoaXMuZ3JpZDtcclxuICAgICAgICAgIGxldCBtYXAgPSB0aGlzLnRlcnJhaW47XHJcbiAgICAgICAgICB0aGlzLmltZy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBsZXQgY29vcmRzID0gY2xpY2tlZC5nZXRBdHRyaWJ1dGUoXCJpZFwiKS5zcGxpdChcInhcIik7XHJcbiAgICAgICAgICAgIGxldCBzZWxlY3RlZG1vbnN0ZXIgPSB6b29jb250cm9sbGVyLmdldE1vbnN0ZXJCeVBvc2l0aW9uKGdyaWQsIG1hcCwgY29vcmRzWzBdLCBjb29yZHNbMV0pO1xyXG5cclxuICAgICAgICAgICAgYWxlcnQoJ01vbnN0ZXIgc2VsZWN0ZWQ6ICcgKyBzZWxlY3RlZG1vbnN0ZXIubmFtZSArICdcXG4nICtcclxuICAgICAgICAgICAgJ0VsZW1lbnQ6ICcgKyBzZWxlY3RlZG1vbnN0ZXIuZWxlbWVudCArICdcXG4nICtcclxuICAgICAgICAgICAgJ0FybXM6ICcgKyBzZWxlY3RlZG1vbnN0ZXIuYXJtcyArICdcXG4nICtcclxuICAgICAgICAgICAgJ1R5cGUgb2YgYXJtczogJyArIHNlbGVjdGVkbW9uc3Rlci50eXBlYXJtcyArICdcXG4nICtcclxuICAgICAgICAgICAgJ0xlZ3M6ICcgKyBzZWxlY3RlZG1vbnN0ZXIubGVncyArICdcXG4nICtcclxuICAgICAgICAgICAgJ0V5ZXM6ICcgKyBzZWxlY3RlZG1vbnN0ZXIuZXllcyArICdcXG4nICtcclxuICAgICAgICAgICAgJ0Z1ciB0eXBlOiAnICsgc2VsZWN0ZWRtb25zdGVyLmZ1cnR5cGUgKyAnXFxuJyArXHJcbiAgICAgICAgICAgICdDYW4gZmx5OiAnICsgc2VsZWN0ZWRtb25zdGVyLmZseSArICdcXG4nICtcclxuICAgICAgICAgICAgJ0NhbiBzd2ltOiAnICsgc2VsZWN0ZWRtb25zdGVyLnN3aW0gKyAnXFxuJyArXHJcbiAgICAgICAgICAgICdDb2xvdXI6ICcgKyBzZWxlY3RlZG1vbnN0ZXIuY29sb3VyICsgJ1xcbidcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgdGhpcy50ZC5hcHBlbmRDaGlsZCh0aGlzLmltZyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZFtpXS5Db2x1bW5zW3ldID09IDEpIHtcclxuICAgICAgICAgIHRoaXMuaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuICAgICAgICAgIHRoaXMuaW1nLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwic3RvbmVcIik7XHJcblxyXG4gICAgICAgICAgLy9FdmVyeSBtb25zdGVyIGdldHMgYW4gaWQgYmFzZWQgb24gdGhlaXIgY29vcmRpbmF0ZXNcclxuICAgICAgICAgIHRoaXMuaW1nLnNldEF0dHJpYnV0ZShcImlkXCIsIGkgKyBcInhcIiArIHkpO1xyXG5cclxuICAgICAgICAgIHN3aXRjaCAodGVycmFpbikge1xyXG4gICAgICAgICAgICAvLyBKdW5nbGVcclxuICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgIHRoaXMuaW1nLnNyYyA9IFwiLi4vc3JjL1Jlc291cmNlcy9qdW5nbGVyb2NrLnBuZ1wiO1xyXG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFwXCIpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiIzI4OTE1MFwiO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgLy8gTm9ydHBvbGVcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgIHRoaXMuaW1nLnNyYyA9IFwiLi4vc3JjL1Jlc291cmNlcy9pY2VjaHVuay5wbmdcIjtcclxuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hcFwiKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNEOEZGRkZcIjtcclxuICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIC8vIERlc2VydFxyXG4gICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgdGhpcy5pbWcuc3JjID0gXCIuLi9zcmMvUmVzb3VyY2VzL2NhY3R1cy5wbmdcIjtcclxuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hcFwiKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNFREM5QUZcIjtcclxuICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLnRkLmFwcGVuZENoaWxkKHRoaXMuaW1nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50ci5hcHBlbmRDaGlsZCh0aGlzLnRkKTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnRhYmxlLmFwcGVuZENoaWxkKHRoaXMudHIpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5tYXAuYXBwZW5kQ2hpbGQodGhpcy50YWJsZSk7XHJcbiAgfVxyXG5cclxuICBpbml0UmVtb3ZlKCkge1xyXG4gICAgbGV0IGdyaWQgPSB0aGlzLmdyaWQ7XHJcbiAgICBsZXQgdGVycmFpbiA9IHRoaXMudGVycmFpbjtcclxuICAgIGxldCB6b29jb250cm9sbGVyID0gdGhpcy56b29jb250cm9sbGVyO1xyXG5cclxuICAgIHRoaXMucmVtb3ZlLmFkZEV2ZW50TGlzdGVuZXIoXCJkcm9wXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgbGV0IGRhdGEgPSBlLmRhdGFUcmFuc2Zlci5nZXREYXRhKFwiVGV4dFwiKTtcclxuICAgICAgbGV0IG1vbnN0ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkYXRhKTtcclxuICAgICAgaWYgKG1vbnN0ZXIgIT0gbnVsbCkge1xyXG4gICAgICAgIGxldCBvcmlnaW4gPSBtb25zdGVyLmdldEF0dHJpYnV0ZShcImlkXCIpLnNwbGl0KFwieFwiKTtcclxuXHJcbiAgICAgICAgem9vY29udHJvbGxlci5kZWxldGVNb25zdGVyRnJvbUdyaWQoXHJcbiAgICAgICAgICBncmlkLFxyXG4gICAgICAgICAgdGVycmFpbixcclxuICAgICAgICAgIG9yaWdpblswXSxcclxuICAgICAgICAgIG9yaWdpblsxXVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIG1vbnN0ZXIucmVtb3ZlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMucmVtb3ZlLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnb3ZlclwiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMucmVtb3ZlLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnZW50ZXJcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIFdlYXRoZXJEYXRhU2VydmljZSB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5hcGlrZXkgPSAnNmVmYzM1YzNjMjYxMWU0MTRlYTY2ZGE3NmIyZTNmMGInO1xyXG4gICAgICAgIHRoaXMudW5pdHMgPSAnbWV0cmljJztcclxuICAgIH1cclxuXHJcbiAgICBnZXRDdXJyZW50V2VhdGhlcihjaXR5TmFtZSkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgaHR0cDovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZGF0YS8yLjUvd2VhdGhlcj9xPSR7Y2l0eU5hbWV9JmFwcGlkPSR7dGhpcy5hcGlrZXl9JnVuaXRzPSR7dGhpcy51bml0c31gKVxyXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24obXlKc29uKSB7XHJcbiAgICAgICAgICByZXR1cm4gbXlKc29uO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgV2VhdGhlclZpZXcge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuaW1nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dlYXRoZXJpbWcnKTtcclxuICAgICAgICB0aGlzLnRlbXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGVtcCcpO1xyXG4gICAgICAgIHRoaXMucmFpbiA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLmluaXRSYWluU3dpdGNoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdFJhaW5Td2l0Y2goKSB7XHJcbiAgICAgICAgbGV0IHJhaW5zd2l0Y2ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmFpbnN3aXRjaCcpO1xyXG4gICAgICAgIGxldCBvd25jbGFzcyA9IHRoaXM7XHJcbiAgICAgICAgcmFpbnN3aXRjaC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGlmKG93bmNsYXNzLnJhaW4pIHtcclxuICAgICAgICAgICAgICAgIG93bmNsYXNzLnVwZGF0ZVdlYXRoZXIob3duY2xhc3MudGVtcGVyYXR1cmUsIFwiQ2xlYXJcIik7XHJcbiAgICAgICAgICAgICAgICBvd25jbGFzcy5yYWluID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBvd25jbGFzcy51cGRhdGVXZWF0aGVyKG93bmNsYXNzLnRlbXBlcmF0dXJlLCBcIlJhaW5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVXZWF0aGVyKHRlbXAsIHJhaW4pIHtcclxuICAgICAgICB0aGlzLnRlbXBlcmF0dXJlID0gdGVtcDtcclxuICAgICAgICB0aGlzLnRlbXAuaW5uZXJUZXh0ID0gYCR7dGVtcH3CsCBDZWxjaXVzYDtcclxuXHJcblxyXG4gICAgICAgIGlmKHJhaW4gPT09ICdSYWluJyB8fCByYWluID09PSAnU2hvd2VyIHJhaW4nKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmFpbiA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyYWluJykgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGxldCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICAgICAgICAgIGNhbnZhcy5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3JhaW4nKTtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAnKS5hcHBlbmRDaGlsZChjYW52YXMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydFJhaW4oMzAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmFpbicpO1xyXG4gICAgICAgICAgICBpZihjYW52YXMgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGNhbnZhcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNhbnZhcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnRSYWluKG1heFBhcnRzKSB7XHJcbiAgICAgICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmFpblwiKTtcclxuXHJcbiAgICAgICAgaWYgKGNhbnZhcy5nZXRDb250ZXh0KSB7XHJcbiAgICAgICAgICAgIGxldCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICAgICAgbGV0IHcgPSBjYW52YXMud2lkdGg7XHJcbiAgICAgICAgICAgIGxldCBoID0gY2FudmFzLmhlaWdodDtcclxuICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJ3JnYmEoNDYsODYsMTQ3LDAuMyknO1xyXG4gICAgICAgICAgICBjdHgubGluZVdpZHRoID0gMC43O1xyXG4gICAgICAgICAgICBjdHgubGluZUNhcCA9ICdyb3VuZCc7XHJcblxyXG5cclxuICAgICAgICAgICAgbGV0IGluaXQgPSBbXTtcclxuICAgICAgICAgICAgZm9yIChsZXQgYSA9IDA7IGEgPCBtYXhQYXJ0czsgYSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpbml0LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIHg6IE1hdGgucmFuZG9tKCkgKiB3LFxyXG4gICAgICAgICAgICAgICAgICAgIHk6IE1hdGgucmFuZG9tKCkgKiBoLFxyXG4gICAgICAgICAgICAgICAgICAgIGw6IE1hdGgucmFuZG9tKCkgKiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIHhzOiAtNCArIE1hdGgucmFuZG9tKCkgKiA0ICsgMixcclxuICAgICAgICAgICAgICAgICAgICB5czogTWF0aC5yYW5kb20oKSAqIDEwICsgMTBcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBwYXJ0aWNsZXMgPSBbXTtcclxuICAgICAgICAgICAgZm9yIChsZXQgYiA9IDA7IGIgPCBtYXhQYXJ0czsgYisrKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJ0aWNsZXNbYl0gPSBpbml0W2JdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBkcmF3KCkge1xyXG4gICAgICAgICAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCB3LCBoKTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGMgPSAwOyBjIDwgcGFydGljbGVzLmxlbmd0aDsgYysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHAgPSBwYXJ0aWNsZXNbY107XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5tb3ZlVG8ocC54LCBwLnkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5saW5lVG8ocC54ICsgcC5sICogcC54cywgcC55ICsgcC5sICogcC55cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbW92ZSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBtb3ZlKCkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgYiA9IDA7IGIgPCBwYXJ0aWNsZXMubGVuZ3RoOyBiKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcCA9IHBhcnRpY2xlc1tiXTtcclxuICAgICAgICAgICAgICAgICAgICBwLnggKz0gcC54cztcclxuICAgICAgICAgICAgICAgICAgICBwLnkgKz0gcC55cztcclxuICAgICAgICAgICAgICAgICAgICBpZiAocC54ID4gdyB8fCBwLnkgPiBoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHAueCA9IE1hdGgucmFuZG9tKCkgKiB3O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwLnkgPSAtMjA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzZXRJbnRlcnZhbChkcmF3LCA4MCk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IFdlYXRoZXJEYXRhU2VydmljZSB9IGZyb20gXCIuLi9Nb2RlbC9XZWF0aGVyRGF0YVNlcnZpY2VcIjtcclxuaW1wb3J0IHsgV2VhdGhlclZpZXcgfSBmcm9tIFwiLi4vVmlldy9XZWF0aGVyVmlld1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFdlYXRoZXJDb250cm9sbGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMud2VhdGhlcmRhdGEgPSBuZXcgV2VhdGhlckRhdGFTZXJ2aWNlKCk7XHJcbiAgICAgICAgdGhpcy53ZWF0aGVydmlldyA9IG5ldyBXZWF0aGVyVmlldygpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVdlYXRoZXIoY2l0eSkge1xyXG4gICAgICAgIGxldCB3ZWF0aGVydmlldyA9IHRoaXMud2VhdGhlcnZpZXc7XHJcbiAgICAgICAgdGhpcy53ZWF0aGVyZGF0YS5nZXRDdXJyZW50V2VhdGhlcihjaXR5KS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgd2VhdGhlcnZpZXcudXBkYXRlV2VhdGhlcihkYXRhLm1haW4udGVtcCwgZGF0YS53ZWF0aGVyWzBdLm1haW4pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIE1hcFNlcnZpY2Uge1xyXG4gIGxvYWRHcmlkKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKFwiLi9tYXAvZ3JpZC5qc29uXCIpXHJcbiAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oZnVuY3Rpb24oZ3JpZCkge1xyXG4gICAgICAgIGxldCBTVE9SQUdFX0tFWSA9IFwiem9vLWdyaWRcIjtcclxuXHJcbiAgICAgICAgLy8gUHV0IHRoZSB3aG9sZSBncmlkIGZyb20gbG9jYWxzdG9yYWdlIGluIGEgdmFyaWFibGVcclxuICAgICAgICBsZXQgc3RvcmFnZSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9LRVkpKTtcclxuXHJcbiAgICAgICAgaWYgKHN0b3JhZ2UgIT0gbnVsbCkge1xyXG4gICAgICAgICAgZ3JpZCA9IHN0b3JhZ2U7XHJcblxyXG4gICAgICAgIC8vIElmIHRoZSBncmlkIGlzIG5vdCBwcmVzZW50IGluIGxvY2Fsc3RvcmFnZSB5ZXQsIHB1dCB0aGUgd2hvbGUgZ3JpZCBhcyBsb2FkZWQgZnJvbSB0aGUgbG9jYWwgZ3JpZC5qc29uIGZpbGUgaW4gdGhlcmVcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oU1RPUkFHRV9LRVksIEpTT04uc3RyaW5naWZ5KGdyaWQpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBncmlkO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZE1vbnN0ZXJUb0dyaWQoZ3JpZCwgdGVycmFpbiwgbW9uc3RlciwgeCwgeSkge1xyXG4gICAgbW9uc3Rlci54ID0geDtcclxuICAgIG1vbnN0ZXIueSA9IHk7XHJcbiAgICBtb25zdGVyLm1hcCA9IHRlcnJhaW47XHJcbiAgICBncmlkW3RlcnJhaW5dLmdyaWRbeF0uQ29sdW1uc1t5XSA9IG1vbnN0ZXI7XHJcbiAgICB0aGlzLnNhdmVUb0xvY2FsU3RvcmFnZShncmlkKTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZU1vbnN0ZXJGcm9tR3JpZChncmlkLCB0ZXJyYWluLCB4LCB5KSB7XHJcbiAgICBncmlkW3RlcnJhaW5dLmdyaWRbeF0uQ29sdW1uc1t5XSA9IFwiMFwiO1xyXG4gICAgdGhpcy5zYXZlVG9Mb2NhbFN0b3JhZ2UoZ3JpZCk7XHJcbiAgfVxyXG5cclxuICBzYXZlVG9Mb2NhbFN0b3JhZ2UoZ3JpZCkge1xyXG4gICAgbGV0IFNUT1JBR0VfS0VZID0gXCJ6b28tZ3JpZFwiO1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oU1RPUkFHRV9LRVksIEpTT04uc3RyaW5naWZ5KGdyaWQpKTtcclxuICB9XHJcblxyXG4gIGdldE1vbnN0ZXJCeVBvc2l0aW9uKGdyaWQsIG1hcCwgeCwgeSkge1xyXG4gICAgcmV0dXJuIGdyaWRbbWFwXS5ncmlkW3hdLkNvbHVtbnNbeV07XHJcbiAgfVxyXG5cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgTW9uc3RlcntcclxuICAgIC8vIE1vbnN0ZXJEYXRhIGNvbnNpc3RzIG9mIGVsZW1lbnQsIG5hbWUsIGFybXMsIHR5cGVfYXJtcywgbGVncywgZXllcywgc2tpbnR5cGUsIGFiaWxpdHkgdG8gZmx5LCBhYmlsaXR5IHRvIHN3aW0sIGNvbG91ciAsbWFwLCB4IGNvb3JkaW5hdGUsIHkgY29vcmRpbmF0ZVxyXG4gICAgY29uc3RydWN0b3IobmFtZSwgZWxlbWVudCwgYXJtcywgdHlwZWFybXMsIGxlZ3MsIGV5ZXMsIGZ1cnR5cGUsIGZseSwgc3dpbSwgY29sb3VyLCBtYXAsIHgsIHkpe1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcclxuICAgICAgICB0aGlzLmFybXMgPSBhcm1zO1xyXG4gICAgICAgIHRoaXMudHlwZWFybXMgPSB0eXBlYXJtcztcclxuICAgICAgICB0aGlzLmxlZ3MgPSBsZWdzO1xyXG4gICAgICAgIHRoaXMuZXllcyA9IGV5ZXM7XHJcbiAgICAgICAgdGhpcy5mdXJ0eXBlID0gZnVydHlwZTtcclxuICAgICAgICB0aGlzLmZseSA9IGZseTtcclxuICAgICAgICB0aGlzLnN3aW0gPSBzd2ltO1xyXG4gICAgICAgIHRoaXMuY29sb3VyID0gY29sb3VyO1xyXG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xyXG4gICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0geTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEZpcmVNb25zdGVyIGV4dGVuZHMgTW9uc3RlcntcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmFybXMgPSBbMSwyLDMsNCw1LDZdO1xyXG4gICAgICAgIHRoaXMudHlwZWFybXMgPSBbXCJUZW50YWNsZXNcIixcIkNsYXdzXCIsXCJDbGF3LXdpbmdzXCJdO1xyXG4gICAgICAgIHRoaXMubGVncyA9IFsyXTtcclxuICAgICAgICB0aGlzLmV5ZXMgPSBbMSwyLDMsNF07XHJcbiAgICAgICAgdGhpcy5mdXJ0eXBlID0gW1wiU2NhbGVzXCIsXCJGZWF0aGVyc1wiXTtcclxuICAgICAgICB0aGlzLmZseSA9IFwieWVzXCI7XHJcbiAgICAgICAgdGhpcy5zd2ltID0gXCJub1wiO1xyXG4gICAgICAgIHRoaXMuY29sb3IgPSBbXCJSZWRcIixcIk9yYW5nZVwiLFwiQnJvd25cIl07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBXYXRlck1vbnN0ZXIgZXh0ZW5kcyBNb25zdGVye1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuYXJtcyA9IFsxLDIsMyw0LDUsNiw3LDhdO1xyXG4gICAgICAgIHRoaXMudHlwZWFybXMgPSBbXCJUZW50YWNsZXNcIixcIkZpbnNcIl07XHJcbiAgICAgICAgdGhpcy5sZWdzID0gWzEsMiwzLDRdO1xyXG4gICAgICAgIHRoaXMuZXllcyA9IFsxLDIsMyw0LDUsNiw3LDhdO1xyXG4gICAgICAgIHRoaXMuZnVydHlwZSA9IFtcIlNjYWxlc1wiLFwiU2xpbWVcIl07XHJcbiAgICAgICAgdGhpcy5mbHkgPSBcIm5vXCI7XHJcbiAgICAgICAgdGhpcy5zd2ltID0gXCJ5ZXNcIjtcclxuICAgICAgICB0aGlzLmNvbG9yID0gW1wiQmx1ZVwiLFwiUmVkXCIsXCJHcmVlblwiXTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEVhcnRoTW9uc3RlciBleHRlbmRzIE1vbnN0ZXJ7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5hcm1zID0gWzJdO1xyXG4gICAgICAgIHRoaXMudHlwZWFybXMgPSBcIkNsYXdzXCI7XHJcbiAgICAgICAgdGhpcy5sZWdzID0gWzIsNCw2XTtcclxuICAgICAgICB0aGlzLmV5ZXMgPSBbMl07XHJcbiAgICAgICAgdGhpcy5mdXJ0eXBlID0gW1wiSGFpclwiLFwiU2NhbGVzXCIsXCJTbGltZVwiXTtcclxuICAgICAgICB0aGlzLmZseSA9IFwibm9cIjtcclxuICAgICAgICB0aGlzLnN3aW0gPSBcIm5vXCI7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IFtcIlB1cnBsZVwiLFwiT3JhbmdlXCIsXCJXaGl0ZVwiXTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0ICBjbGFzcyBXaW5kTW9uc3RlciBleHRlbmRzIE1vbnN0ZXJ7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5hcm1zID0gWzJdO1xyXG4gICAgICAgIHRoaXMudHlwZWFybXMgPSBbXCJXaW5nc1wiLFwiQ2xhdy13aW5nc1wiXTtcclxuICAgICAgICB0aGlzLmxlZ3MgPSBbMCwyXTtcclxuICAgICAgICB0aGlzLmV5ZXMgPSBbMl07XHJcbiAgICAgICAgdGhpcy5mdXJ0eXBlID0gW1wiRmVhdGhlcnNcIixcIkhhaXJcIixcIlNjYWxlc1wiXTtcclxuICAgICAgICB0aGlzLmZseSA9IFwieWVzXCI7XHJcbiAgICAgICAgdGhpcy5zd2ltID0gXCJub1wiO1xyXG4gICAgICAgIHRoaXMuY29sb3IgPSBbXCJXaGl0ZVwiLFwiQmx1ZVwiLFwiUHVycGxlXCJdO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTW9uc3RlclNlcnZpY2UgfSBmcm9tICcuLi9tb2RlbC9Nb25zdGVyU2VydmljZSdcclxuaW1wb3J0IHsgQ3JlYXRlTW9uc3RlclZpZXcgfSBmcm9tICcuLi92aWV3L0NyZWF0ZU1vbnN0ZXJWaWV3JztcclxuaW1wb3J0IHsgTWFwVmlldyB9IGZyb20gJy4uL3ZpZXcvTWFwVmlldyc7XHJcbmltcG9ydCB7IFdlYXRoZXJDb250cm9sbGVyIH0gZnJvbSAnLi9XZWF0aGVyQ29udHJvbGxlcic7XHJcbmltcG9ydCB7IE1hcFNlcnZpY2UgfSBmcm9tICcuLi9Nb2RlbC9NYXBTZXJ2aWNlJztcclxuaW1wb3J0IHsgRmlyZU1vbnN0ZXIgfSBmcm9tICcuLi9Nb2RlbC9Nb25zdGVyJztcclxuaW1wb3J0IHsgV2F0ZXJNb25zdGVyIH0gZnJvbSAnLi4vTW9kZWwvTW9uc3Rlcic7XHJcbmltcG9ydCB7IEVhcnRoTW9uc3RlciB9IGZyb20gJy4uL01vZGVsL01vbnN0ZXInO1xyXG5pbXBvcnQgeyBXaW5kTW9uc3RlciB9IGZyb20gJy4uL01vZGVsL01vbnN0ZXInO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgWm9vQ29udHJvbGxlclxyXG57XHJcbiAgICAvL2VsIGNvbnN0cnVjdG9yXHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHRoaXMud2VhdGhlcmNvbnRyb2xsZXIgPSBuZXcgV2VhdGhlckNvbnRyb2xsZXIoKTtcclxuXHJcbiAgICAgICAgdGhpcy5tb25zdGVyc2VydmljZSA9IG5ldyBNb25zdGVyU2VydmljZSgpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlbW9uc3RlcnZpZXcgPSAgbmV3IENyZWF0ZU1vbnN0ZXJWaWV3KHRoaXMpO1xyXG4gICAgICAgIHRoaXMubWFwc2VydmljZSA9IG5ldyBNYXBTZXJ2aWNlKCk7XHJcbiAgICAgICAgdGhpcy5maXJlTW9uc3RlciA9IG5ldyBGaXJlTW9uc3RlcigpO1xyXG4gICAgICAgIHRoaXMud2F0ZXJNb25zdGVyID0gbmV3IFdhdGVyTW9uc3RlcigpO1xyXG4gICAgICAgIHRoaXMuZWFydGhNb25zdGVyID0gIG5ldyBFYXJ0aE1vbnN0ZXIoKTtcclxuICAgICAgICB0aGlzLndpbmRNb25zdGVyID0gbmV3IFdpbmRNb25zdGVyKCk7XHJcblxyXG4gICAgICAgIHRoaXMubWFwdmlldyA9IG5ldyBNYXBWaWV3KHRoaXMsIHRoaXMud2VhdGhlcmNvbnRyb2xsZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZE1vbnN0ZXJUb0dyaWQoZ3JpZCwgdGVycmFpbiwgeCwgeSkge1xyXG4gICAgICAgIHRoaXMubWFwc2VydmljZS5hZGRNb25zdGVyVG9HcmlkKGdyaWQsIHRlcnJhaW4sIHRoaXMuZ2V0TGFzdE1vbnN0ZXIoKSwgeCwgeSk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkRXhpc3RpbmdNb25zdGVyVG9HcmlkKGdyaWQsIHRlcnJhaW4sIG94LCBveSwgeCwgeSkge1xyXG4gICAgICAgIHRoaXMubWFwc2VydmljZS5hZGRNb25zdGVyVG9HcmlkKGdyaWQsIHRlcnJhaW4sIHRoaXMuZ2V0TW9uc3RlckJ5UG9zaXRpb24oZ3JpZCwgdGVycmFpbiwgb3gsIG95KSwgeCwgeSk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVsZXRlTW9uc3RlckZyb21HcmlkKGdyaWQsIHRlcnJhaW4sIHgsIHkpIHtcclxuICAgICAgICB0aGlzLm1hcHNlcnZpY2UuZGVsZXRlTW9uc3RlckZyb21HcmlkKGdyaWQsIHRlcnJhaW4sIHgsIHkpO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZE1vbnN0ZXIobmFtZSwgZWxlbWVudCwgYXJtcywgdHlwZWFybXMsIGxlZ3MsIGV5ZXMsIGZ1cnR5cGUsIGZseSwgc3dpbSwgY29sb3VyLCBtYXAsIHgsIHkpe1xyXG4gICAgICAgIHRoaXMubW9uc3RlcnNlcnZpY2Uuc2F2ZU1vbnN0ZXIobmFtZSwgZWxlbWVudCwgYXJtcywgdHlwZWFybXMsIGxlZ3MsIGV5ZXMsIGZ1cnR5cGUsIGZseSwgc3dpbSwgY29sb3VyLCBtYXAsIHgsIHkpO1xyXG4gICAgfVxyXG5cclxuICAgIGxvYWRHcmlkKG1hcHZpZXcpIHtcclxuICAgICAgICB0aGlzLm1hcHNlcnZpY2UubG9hZEdyaWQoKS50aGVuKGZ1bmN0aW9uKGdyaWQpIHtcclxuICAgICAgICAgICAgbWFwdmlldy5wYWludEdyaWQoZ3JpZCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TGFzdE1vbnN0ZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubW9uc3RlcnNlcnZpY2UuZ2V0TGFzdE1vbnN0ZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRNb25zdGVyQnlQb3NpdGlvbihncmlkLCBtYXAsIHgsIHkpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tYXBzZXJ2aWNlLmdldE1vbnN0ZXJCeVBvc2l0aW9uKGdyaWQsIG1hcCwgeCwgeSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QXJtcyh2YWx1ZSl7XHJcbiAgICAgICAgbGV0IGFybXM7XHJcbiAgICAgICAgc3dpdGNoKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJmaXJlXCI6XHJcbiAgICAgICAgICAgICAgICBhcm1zID0gdGhpcy5maXJlTW9uc3Rlci5hcm1zO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJ3YXRlclwiOlxyXG4gICAgICAgICAgICAgICAgYXJtcyA9IHRoaXMud2F0ZXJNb25zdGVyLmFybXM7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIndpbmRcIjpcclxuICAgICAgICAgICAgICAgIGFybXMgPSB0aGlzLndpbmRNb25zdGVyLmFybXM7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImVhcnRoXCI6XHJcbiAgICAgICAgICAgICAgICBhcm1zID0gdGhpcy5lYXJ0aE1vbnN0ZXIuYXJtc1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBhcm1zID0gMDtcclxuICAgICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYXJtcztcclxuICAgIH1cclxuXHJcbiAgICBnZXRUeXBlQXJtcyh2YWx1ZSl7XHJcbiAgICAgICAgbGV0IHR5cGVBcm1zO1xyXG4gICAgICAgIHN3aXRjaCh2YWx1ZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiZmlyZVwiOlxyXG4gICAgICAgICAgICAgICAgdHlwZUFybXMgPSB0aGlzLmZpcmVNb25zdGVyLnR5cGVhcm1zO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJ3YXRlclwiOlxyXG4gICAgICAgICAgICAgICAgdHlwZUFybXMgPSB0aGlzLndhdGVyTW9uc3Rlci50eXBlYXJtcztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwid2luZFwiOlxyXG4gICAgICAgICAgICAgICAgdHlwZUFybXMgPSB0aGlzLndpbmRNb25zdGVyLnR5cGVhcm1zO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJlYXJ0aFwiOlxyXG4gICAgICAgICAgICAgICAgdHlwZUFybXMgPSB0aGlzLmVhcnRoTW9uc3Rlci50eXBlYXJtcztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgdHlwZUFybXMgPSAwO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0eXBlQXJtczsgICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGdldExlZ3ModmFsdWUpe1xyXG4gICAgICAgIGxldCBsZWdzO1xyXG4gICAgICAgIHN3aXRjaCh2YWx1ZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiZmlyZVwiOlxyXG4gICAgICAgICAgICAgICAgbGVncyA9IHRoaXMuZmlyZU1vbnN0ZXIubGVncztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwid2F0ZXJcIjpcclxuICAgICAgICAgICAgICAgIGxlZ3MgPSB0aGlzLndhdGVyTW9uc3Rlci5sZWdzO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJ3aW5kXCI6XHJcbiAgICAgICAgICAgICAgICBsZWdzID0gdGhpcy53aW5kTW9uc3Rlci5sZWdzO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJlYXJ0aFwiOlxyXG4gICAgICAgICAgICAgICAgbGVncyA9IHRoaXMuZWFydGhNb25zdGVyLmxlZ3M7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGxlZ3MgPSAwO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBsZWdzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEV5ZXModmFsdWUpe1xyXG4gICAgICAgIGxldCBleWVzO1xyXG4gICAgICAgIHN3aXRjaCh2YWx1ZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiZmlyZVwiOlxyXG4gICAgICAgICAgICAgICAgZXllcyA9IHRoaXMuZmlyZU1vbnN0ZXIuZXllcztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwid2F0ZXJcIjpcclxuICAgICAgICAgICAgICAgIGV5ZXMgPSB0aGlzLndhdGVyTW9uc3Rlci5leWVzO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJ3aW5kXCI6XHJcbiAgICAgICAgICAgICAgICBleWVzID0gdGhpcy53aW5kTW9uc3Rlci5leWVzO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJlYXJ0aFwiOlxyXG4gICAgICAgICAgICAgICAgZXllcyA9IHRoaXMuZWFydGhNb25zdGVyLmV5ZXM7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGV5ZXMgPSAwO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBleWVzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEZ1clR5cGUodmFsdWUpe1xyXG4gICAgICAgIGxldCBmdXJUeXBlO1xyXG4gICAgICAgIHN3aXRjaCh2YWx1ZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiZmlyZVwiOlxyXG4gICAgICAgICAgICAgICAgZnVyVHlwZSA9IHRoaXMuZmlyZU1vbnN0ZXIuZnVydHlwZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwid2F0ZXJcIjpcclxuICAgICAgICAgICAgICAgIGZ1clR5cGUgPSB0aGlzLndhdGVyTW9uc3Rlci5mdXJ0eXBlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJ3aW5kXCI6XHJcbiAgICAgICAgICAgICAgICBmdXJUeXBlID0gdGhpcy53aW5kTW9uc3Rlci5mdXJ0eXBlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJlYXJ0aFwiOlxyXG4gICAgICAgICAgICAgICAgZnVyVHlwZSA9IHRoaXMuZWFydGhNb25zdGVyLmZ1cnR5cGU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGZ1clR5cGUgPSAwO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmdXJUeXBlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEZseSh2YWx1ZSl7XHJcbiAgICAgICAgbGV0IGZseTtcclxuICAgICAgICBzd2l0Y2godmFsdWUpIHtcclxuICAgICAgICAgICAgY2FzZSBcImZpcmVcIjpcclxuICAgICAgICAgICAgICAgIGZseSA9IHRoaXMuZmlyZU1vbnN0ZXIuZmx5O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJ3YXRlclwiOlxyXG4gICAgICAgICAgICAgICAgZmx5ID0gdGhpcy53YXRlck1vbnN0ZXIuZmx5O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJ3aW5kXCI6XHJcbiAgICAgICAgICAgICAgICBmbHkgPSB0aGlzLndpbmRNb25zdGVyLmZseTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiZWFydGhcIjpcclxuICAgICAgICAgICAgICAgIGZseSA9IHRoaXMuZWFydGhNb25zdGVyLmZseTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgZmx5ID0gMDtcclxuICAgICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmx5O1xyXG4gICAgfVxyXG5cclxuICAgIGdldFN3aW0odmFsdWUpe1xyXG4gICAgICAgIGxldCBzd2ltO1xyXG4gICAgICAgIHN3aXRjaCh2YWx1ZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiZmlyZVwiOlxyXG4gICAgICAgICAgICAgICAgc3dpbSA9IHRoaXMuZmlyZU1vbnN0ZXIuc3dpbTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwid2F0ZXJcIjpcclxuICAgICAgICAgICAgICAgIHN3aW0gPSB0aGlzLndhdGVyTW9uc3Rlci5zd2ltO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJ3aW5kXCI6XHJcbiAgICAgICAgICAgICAgICBzd2ltID0gdGhpcy53aW5kTW9uc3Rlci5zd2ltO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJlYXJ0aFwiOlxyXG4gICAgICAgICAgICAgICAgc3dpbSA9IHRoaXMuZWFydGhNb25zdGVyLnN3aW07XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHN3aW0gPSAwO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzd2ltO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENvbG9yKHZhbHVlKXtcclxuICAgICAgICBsZXQgY29sb3I7XHJcbiAgICAgICAgc3dpdGNoKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJmaXJlXCI6XHJcbiAgICAgICAgICAgICAgICBjb2xvciA9IHRoaXMuZmlyZU1vbnN0ZXIuY29sb3I7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIndhdGVyXCI6XHJcbiAgICAgICAgICAgICAgICBjb2xvciA9IHRoaXMud2F0ZXJNb25zdGVyLmNvbG9yO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJ3aW5kXCI6XHJcbiAgICAgICAgICAgICAgICBjb2xvciA9IHRoaXMud2luZE1vbnN0ZXIuY29sb3I7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImVhcnRoXCI6XHJcbiAgICAgICAgICAgICAgICBjb2xvciA9IHRoaXMuZWFydGhNb25zdGVyLmNvbG9yO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBjb2xvciA9IDA7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvbG9yO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFpvb0NvbnRyb2xsZXIgZnJvbSAnLi9Db250cm9sbGVyL1pvb0NvbnRyb2xsZXInO1xyXG5cclxubGV0IHpvb2NvbnRyb2xsZXIgPSBuZXcgWm9vQ29udHJvbGxlcigpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n')}]);