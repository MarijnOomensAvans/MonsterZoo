!function(t){var c={};function I(n){if(c[n])return c[n].exports;var e=c[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,I),e.l=!0,e.exports}I.m=t,I.c=c,I.d=function(t,c,n){I.o(t,c)||Object.defineProperty(t,c,{enumerable:!0,get:n})},I.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},I.t=function(t,c){if(1&c&&(t=I(t)),8&c)return t;if(4&c&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(I.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&c&&"string"!=typeof t)for(var e in t)I.d(n,e,function(c){return t[c]}.bind(null,e));return n},I.n=function(t){var c=t&&t.__esModule?function(){return t.default}:function(){return t};return I.d(c,"a",c),c},I.o=function(t,c){return Object.prototype.hasOwnProperty.call(t,c)},I.p="",I(I.s=1)}([function(module,exports){eval("class Monster{\r\n    // MonsterData exists of element, name, arms, type_arms, legs, eyes, skintype, ability to fly, ability to swim,color ,map, coördinaten\r\n    constructor(monsterdata){\r\n        Object.assign(this.monsterdata)\r\n    }\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvTW9uc3Rlci5qcz81MThkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgTW9uc3RlcntcclxuICAgIC8vIE1vbnN0ZXJEYXRhIGV4aXN0cyBvZiBlbGVtZW50LCBuYW1lLCBhcm1zLCB0eXBlX2FybXMsIGxlZ3MsIGV5ZXMsIHNraW50eXBlLCBhYmlsaXR5IHRvIGZseSwgYWJpbGl0eSB0byBzd2ltLGNvbG9yICxtYXAsIGNvw7ZyZGluYXRlblxyXG4gICAgY29uc3RydWN0b3IobW9uc3RlcmRhdGEpe1xyXG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5tb25zdGVyZGF0YSlcclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./src/model/Monster.js\nvar model_Monster = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/model/MonsterService.js\n\r\n\r\n\r\nclass MonsterService\r\n{\r\n    constructor(){\r\n        this.monsters = [\r\n            // new Monster({name: \'Marijn\', element: \'fire\',  arms: 2, type_arms: \'tentakels\', legs: 2, eyes: 4, skintype: \'schubben\', fly: \'nee\', swim: \'nee\', color: \'oranje\', map: 0, xcoördinaat: 1, ycoördinaat: 1}),\r\n            // new Monster({name: \'Thijs\', element: \'fire\',  arms: 6, type_arms: \'klauw-vleugels\', legs: 0, eyes: 3, skintype: \'veren\', fly: \'ja\', swim: \'nee\', color: \'bruin\', map: 0, xcoördinaat: 2, ycoördinaat: 2})\r\n        ]\r\n    }\r\n\r\n    getMonsters()\r\n    {\r\n        return this.monsters;\r\n    }\r\n\r\n    saveMonster(monster){\r\n       this.monsters.push(monster);\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/view/CreateMonsterView.js\nclass CreateMonsterView {\r\n\r\n  constructor(controller) {\r\n    this.template = document.getElementById("create_monster");\r\n\r\n    this.radio_fire = document.getElementById("element_fire");\r\n    this.radio_water = document.getElementById("element_water");\r\n    this.radio_earth = document.getElementById("element_earth");\r\n    this.radio_wind = document.getElementById("element_wind");\r\n\r\n    this.setEvents();\r\n  }\r\n\r\n  updateForm() {\r\n    this.monsterform = document.getElementById("monster_form");\r\n    let created = document.getElementById("created");\r\n\r\n    this.monsterform.addEventListener("submit", function(e) {\r\n      e.preventDefault();\r\n\r\n      if (created.hasChildNodes()) {\r\n        while (created.firstChild) {\r\n          created.removeChild(created.firstChild);\r\n        }\r\n      }\r\n      this.img = document.createElement("img");\r\n      this.img.setAttribute("class", "created");\r\n\r\n      let src = "";\r\n\r\n      switch (this.element.value) {\r\n        case "fire":\r\n          src = "../src/Resources/orangemonster.png";\r\n          break;\r\n        case "water":\r\n          src = "../src/Resources/bluemonster.png";\r\n          break;\r\n        case "earth":\r\n          src = "../src/Resources/brownmonster.png";\r\n          break;\r\n        case "wind":\r\n          src = "../src/Resources/whitemonster.png";\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n      this.img.src = src;\r\n      this.img.draggable = true;\r\n      this.img.setAttribute(\'id\', \'-1x-1\');\r\n      this.img.addEventListener("dragstart", function(e) {\r\n        e.dataTransfer.setData("Text", e.target.id);\r\n      });\r\n      created.appendChild(this.img);\r\n    });\r\n  }\r\n\r\n  setEvents() {\r\n    //events\r\n    this.radio_fire.addEventListener("click", function() {\r\n      if (this.checked) {\r\n        let firetemp = document.getElementById("fire_template");\r\n        firetemp.style.display = "block";\r\n        firetemp.childNodes[1].setAttribute("id", "monster_form");\r\n        document.getElementById("water_template").style.display = "none";\r\n        document\r\n          .getElementById("water_template")\r\n          .childNodes[1].removeAttribute("id");\r\n        document.getElementById("earth_template").style.display = "none";\r\n        document\r\n          .getElementById("earth_template")\r\n          .childNodes[1].removeAttribute("id");\r\n        document.getElementById("wind_template").style.display = "none";\r\n        document\r\n          .getElementById("wind_template")\r\n          .childNodes[1].removeAttribute("id");\r\n      }\r\n    });\r\n\r\n    this.radio_fire.addEventListener("click", this.updateForm);\r\n\r\n    this.radio_water.addEventListener("click", function() {\r\n      let watertemp = document.getElementById("water_template");\r\n      watertemp.style.display = "block";\r\n      watertemp.childNodes[1].setAttribute("id", "monster_form");\r\n      document.getElementById("fire_template").style.display = "none";\r\n      document\r\n        .getElementById("fire_template")\r\n        .childNodes[1].removeAttribute("id");\r\n      document.getElementById("earth_template").style.display = "none";\r\n      document\r\n        .getElementById("earth_template")\r\n        .childNodes[1].removeAttribute("id");\r\n      document.getElementById("wind_template").style.display = "none";\r\n      document\r\n        .getElementById("wind_template")\r\n        .childNodes[1].removeAttribute("id");\r\n    });\r\n\r\n    this.radio_water.addEventListener("click", this.updateForm);\r\n\r\n    this.radio_earth.addEventListener("click", function() {\r\n      let earthtemp = document.getElementById("earth_template");\r\n      earthtemp.style.display = "block";\r\n      earthtemp.childNodes[1].setAttribute("id", "monster_form");\r\n      document.getElementById("fire_template").style.display = "none";\r\n      document\r\n        .getElementById("fire_template")\r\n        .childNodes[1].removeAttribute("id");\r\n      document.getElementById("water_template").style.display = "none";\r\n      document\r\n        .getElementById("water_template")\r\n        .childNodes[1].removeAttribute("id");\r\n      document.getElementById("wind_template").style.display = "none";\r\n      document\r\n        .getElementById("wind_template")\r\n        .childNodes[1].removeAttribute("id");\r\n    });\r\n\r\n    this.radio_earth.addEventListener("click", this.updateForm);\r\n\r\n    this.radio_wind.addEventListener("click", function() {\r\n      let windtemp = document.getElementById("wind_template");\r\n      windtemp.style.display = "block";\r\n      windtemp.childNodes[1].setAttribute("id", "monster_form");\r\n      document.getElementById("fire_template").style.display = "none";\r\n      document\r\n        .getElementById("fire_template")\r\n        .childNodes[1].removeAttribute("id");\r\n      document.getElementById("water_template").style.display = "none";\r\n      document\r\n        .getElementById("water_template")\r\n        .childNodes[1].removeAttribute("id");\r\n      document.getElementById("earth_template").style.display = "none";\r\n      document\r\n        .getElementById("earth_template")\r\n        .childNodes[1].removeAttribute("id");\r\n    });\r\n\r\n    this.radio_wind.addEventListener("click", this.updateForm);\r\n  }\r\n}\r\n\n// CONCATENATED MODULE: ./src/view/MapView.js\nclass MapView {\r\n  constructor() {\r\n    this.STORAGE_KEY = "zoo-grid";\r\n    this.map = document.getElementById("map");\r\n\r\n    // Zoo width (zw) and zoo height (zh)\r\n\r\n    this.zw = 10;\r\n    this.zh = 10;\r\n\r\n    // Load buttons from index.html\r\n\r\n    let jungle = document.getElementById("jungle");\r\n    let desert = document.getElementById("desert");\r\n    let northpole = document.getElementById("northpole");\r\n\r\n    jungle.disabled = true;\r\n    jungle.setAttribute("class", "nes-btn is-disabled");\r\n\r\n    // ---------------------------------------------------------------------------------------------------------\r\n    // Buttons for switching between environments\r\n    // ---------------------------------------------------------------------------------------------------------\r\n\r\n    jungle.addEventListener("click", () => {\r\n      if (jungle.disabled != true) {\r\n        this.loadGrid(0);\r\n        jungle.disabled = true;\r\n        desert.disabled = false;\r\n        northpole.disabled = false;\r\n\r\n        jungle.setAttribute("class", "nes-btn is-disabled");\r\n        desert.setAttribute("class", "nes-btn is-warning");\r\n        northpole.setAttribute("class", "nes-btn");\r\n      }\r\n    });\r\n\r\n    desert.addEventListener("click", () => {\r\n      if (desert.disabled != true) {\r\n        this.loadGrid(2);\r\n        desert.disabled = true;\r\n        jungle.disabled = false;\r\n        northpole.disabled = false;\r\n\r\n        desert.setAttribute("class", "nes-btn is-disabled");\r\n        jungle.setAttribute("class", "nes-btn is-success");\r\n        northpole.setAttribute("class", "nes-btn");\r\n      }\r\n    });\r\n\r\n    northpole.addEventListener("click", () => {\r\n      if (northpole.disabled != true) {\r\n        this.loadGrid(1);\r\n        northpole.disabled = true;\r\n        desert.disabled = false;\r\n        jungle.disabled = false;\r\n\r\n        northpole.setAttribute("class", "nes-btn is-disabled");\r\n        jungle.setAttribute("class", "nes-btn is-success");\r\n        desert.setAttribute("class", "nes-btn is-warning");\r\n      }\r\n    });\r\n\r\n    // ---------------------------------------------------------------------------------------------------------\r\n\r\n    // Initialse the map from jungle\r\n    this.loadGrid(0);\r\n  }\r\n\r\n  // Fetch the right json grid based on terrian index\r\n  loadGrid(terrain) {\r\n    this.terrain = terrain;\r\n    fetch("./map/grid.json").then(response => {\r\n      response.json().then(json => {\r\n        let jsonstring = JSON.stringify(json);\r\n        this.wholegrid = JSON.parse(jsonstring);\r\n        let storage = JSON.parse(localStorage.getItem(this.STORAGE_KEY));\r\n        if(storage != null) {\r\n          this.grid = storage;\r\n        } else {\r\n          this.grid = this.wholegrid;\r\n          localStorage.setItem(this.STORAGE_KEY, JSON.stringify(this.wholegrid));\r\n        }\r\n        this.selected = this.grid[terrain].grid;\r\n        this.drawBoard(terrain);\r\n      });\r\n    });\r\n  }\r\n\r\n  drawBoard(terrain) {\r\n    let oldBoard = document.getElementById("grid");\r\n    if (oldBoard != null) {\r\n      oldBoard.remove();\r\n    }\r\n\r\n    this.table = document.createElement("table");\r\n    this.table.setAttribute("id", "grid");\r\n\r\n    for (let i = 0; i < this.zw; i++) {\r\n      this.tr = document.createElement("tr");\r\n      for (let y = 0; y < this.zh; y++) {\r\n        this.td = document.createElement("td");\r\n\r\n        // Drag and drop events\r\n\r\n        this.td.addEventListener("dragover", function(e){\r\n          e.preventDefault();\r\n        });\r\n\r\n\r\n        this.td.addEventListener("dragenter", function(e){\r\n          e.preventDefault();\r\n        });\r\n\r\n\r\n        let grid = this.grid;\r\n        let terrain = this.terrain;\r\n        let storageKey = this.STORAGE_KEY;\r\n        this.td.addEventListener("drop", function(e){\r\n          let data = e.dataTransfer.getData("Text");\r\n          let monster = document.getElementById(data);\r\n          if (!this.hasChildNodes() && monster.getAttribute("draggable") === "true") {\r\n            let origin = monster.getAttribute("id").split("x");\r\n            let coordid = this.getAttribute("id").split("-");\r\n      \r\n            \r\n            grid[terrain].grid[coordid[0]].Columns[coordid[1]] = { "Name": "Marijn" };\r\n            if(monster.getAttribute(\'id\') === \'-1x-1\') {\r\n              \r\n            } else {\r\n              grid[terrain].grid[origin[0]].Columns[origin[1]] = "0";\r\n            }\r\n\r\n            localStorage.setItem(storageKey, JSON.stringify(grid));\r\n\r\n            monster.setAttribute("id", coordid[0] + "x" + coordid[1]);\r\n            this.append(monster);\r\n          }\r\n        });\r\n\r\n\r\n        this.td.setAttribute("id", i + "-" + y);\r\n\r\n        if (typeof this.selected[i].Columns[y] === "object") {\r\n          this.img = document.createElement("img");\r\n          this.img.setAttribute("class", "monster");\r\n\r\n          //Every monster gets an id based on their coordinates\r\n          this.img.setAttribute("id", i + "x" + y);\r\n          this.img.src = "../src/Resources/orangemonster.png";\r\n\r\n          this.img.draggable = true;\r\n          this.img.addEventListener("dragstart", function(e){\r\n            e.dataTransfer.setData("Text", e.target.id);\r\n          });\r\n          this.td.appendChild(this.img);\r\n        }\r\n\r\n        if (this.selected[i].Columns[y] == 1) {\r\n          this.img = document.createElement("img");\r\n          this.img.setAttribute("class", "stone");\r\n\r\n          //Every monster gets an id based on their coordinates\r\n          this.img.setAttribute("id", i + "x" + y);\r\n\r\n          switch (terrain) {\r\n            // Jungle\r\n            case 0:\r\n              this.img.src = "../src/Resources/junglerock.png";\r\n              document.getElementById("map").style.backgroundColor = "#289150";\r\n              break;\r\n\r\n            // Nortpole\r\n            case 1:\r\n              this.img.src = "../src/Resources/icechunk.png";\r\n              document.getElementById("map").style.backgroundColor = "#D8FFFF";\r\n              break;\r\n\r\n            // Desert\r\n            case 2:\r\n              this.img.src = "../src/Resources/cactus.png";\r\n              document.getElementById("map").style.backgroundColor = "#EDC9AF";\r\n              break;\r\n\r\n            default:\r\n              break;\r\n          }\r\n          this.td.appendChild(this.img);\r\n        }\r\n\r\n        this.tr.appendChild(this.td);\r\n      }\r\n      this.table.appendChild(this.tr);\r\n    }\r\n    this.map.appendChild(this.table);\r\n  }\r\n}\r\n\n// CONCATENATED MODULE: ./src/Model/WeatherDataService.js\nclass WeatherDataService {\r\n\r\n    constructor() {\r\n        this.apikey = \'6efc35c3c2611e414ea66da76b2e3f0b\';\r\n        this.units = \'metric\';\r\n    }\r\n\r\n    getCurrentWeather(cityName) {\r\n        fetch(`http://api.openweathermap.org/data/2.5/weather?q=${cityName}&appid=${this.apikey}&units=${this.units}`)\r\n        .then(function(response) {\r\n          return response.json();\r\n        })\r\n        .then(function(myJson) {\r\n          console.log(JSON.stringify(myJson));\r\n        });\r\n      }\r\n}\n// CONCATENATED MODULE: ./src/View/WeatherView.js\nclass WeatherView {\r\n\r\n    constructor() {\r\n        this.img = document.getElementById(\'weatherimg\');\r\n        this.temp = document.getElementById(\'temp\');\r\n    }\r\n\r\n    updateWeather() {\r\n        \r\n    }\r\n}\n// CONCATENATED MODULE: ./src/Controller/WeatherController.js\n\r\n\r\n\r\nclass WeatherController_WeatherController {\r\n    constructor() {\r\n        this.weatherdata = new WeatherDataService();\r\n        this.weatherview = new WeatherView();\r\n    }\r\n}\n// CONCATENATED MODULE: ./src/Controller/ZooController.js\n\r\n\r\n\r\n\r\n\r\n\r\nclass ZooController_ZooController\r\n{\r\n    //el constructor\r\n    constructor(){\r\n        this.monsterservice = new MonsterService();\r\n        this.createmonsterview =  new CreateMonsterView(this);\r\n        this.mapview = new MapView();\r\n\r\n    }\r\n\r\n    addMonster(data){\r\n        var newMonster = new Monster(data);\r\n        this.monsterservice.saveMonster(newMonster);\r\n    }\r\n}\n// CONCATENATED MODULE: ./src/app.js\n\r\n\r\nlet zoocontroller = new ZooController_ZooController();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvTW9uc3RlclNlcnZpY2UuanM/MDg5MiIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9DcmVhdGVNb25zdGVyVmlldy5qcz9jNzcwIiwid2VicGFjazovLy8uL3NyYy92aWV3L01hcFZpZXcuanM/MDk0OCIsIndlYnBhY2s6Ly8vLi9zcmMvTW9kZWwvV2VhdGhlckRhdGFTZXJ2aWNlLmpzP2ZjOGUiLCJ3ZWJwYWNrOi8vLy4vc3JjL1ZpZXcvV2VhdGhlclZpZXcuanM/ODYxYyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29udHJvbGxlci9XZWF0aGVyQ29udHJvbGxlci5qcz8xNWY0Iiwid2VicGFjazovLy8uL3NyYy9Db250cm9sbGVyL1pvb0NvbnRyb2xsZXIuanM/YmNkOSIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwLmpzPzExMTIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQW9DOzs7QUFHN0I7QUFDUDtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNExBQTRMO0FBQ3hOLDRCQUE0QiwyTEFBMkw7QUFDdk47QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FDcEJPOztBQUVQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7O0FDN0lPO0FBQ1A7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsbUJBQW1CLGFBQWE7QUFDaEM7QUFDQSxxQkFBcUIsYUFBYTtBQUNsQzs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUzs7O0FBR1Q7QUFDQTtBQUNBLFNBQVM7OztBQUdUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0Esa0VBQWtFO0FBQ2xFOztBQUVBLGFBQWE7QUFDYjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7OztBQUdUOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNuTU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrRUFBa0UsU0FBUyxTQUFTLFlBQVksU0FBUyxXQUFXO0FBQ3BIO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEM7O0FDaEJPOztBQUVQO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsQzs7QUNWaUU7QUFDZjs7QUFFM0MsTUFBTSxtQ0FBaUI7QUFDOUI7QUFDQSwrQkFBK0Isa0JBQWtCO0FBQ2pELCtCQUErQixXQUFXO0FBQzFDO0FBQ0EsQzs7QUNSd0Q7QUFDTTtBQUNwQjtBQUN1QjtBQUNUOztBQUV6QyxNQUFNLDJCQUFhO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxjQUFjO0FBQ2hELHNDQUFzQyxpQkFBaUI7QUFDdkQsMkJBQTJCLE9BQU87O0FBRWxDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQzs7QUNwQnVEOztBQUV2RCx3QkFBd0IsMkJBQWEiLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1vbnN0ZXIgfSBmcm9tICcuL01vbnN0ZXInO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBNb25zdGVyU2VydmljZVxyXG57XHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHRoaXMubW9uc3RlcnMgPSBbXHJcbiAgICAgICAgICAgIC8vIG5ldyBNb25zdGVyKHtuYW1lOiAnTWFyaWpuJywgZWxlbWVudDogJ2ZpcmUnLCAgYXJtczogMiwgdHlwZV9hcm1zOiAndGVudGFrZWxzJywgbGVnczogMiwgZXllczogNCwgc2tpbnR5cGU6ICdzY2h1YmJlbicsIGZseTogJ25lZScsIHN3aW06ICduZWUnLCBjb2xvcjogJ29yYW5qZScsIG1hcDogMCwgeGNvw7ZyZGluYWF0OiAxLCB5Y2/DtnJkaW5hYXQ6IDF9KSxcclxuICAgICAgICAgICAgLy8gbmV3IE1vbnN0ZXIoe25hbWU6ICdUaGlqcycsIGVsZW1lbnQ6ICdmaXJlJywgIGFybXM6IDYsIHR5cGVfYXJtczogJ2tsYXV3LXZsZXVnZWxzJywgbGVnczogMCwgZXllczogMywgc2tpbnR5cGU6ICd2ZXJlbicsIGZseTogJ2phJywgc3dpbTogJ25lZScsIGNvbG9yOiAnYnJ1aW4nLCBtYXA6IDAsIHhjb8O2cmRpbmFhdDogMiwgeWNvw7ZyZGluYWF0OiAyfSlcclxuICAgICAgICBdXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TW9uc3RlcnMoKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1vbnN0ZXJzO1xyXG4gICAgfVxyXG5cclxuICAgIHNhdmVNb25zdGVyKG1vbnN0ZXIpe1xyXG4gICAgICAgdGhpcy5tb25zdGVycy5wdXNoKG1vbnN0ZXIpO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBDcmVhdGVNb25zdGVyVmlldyB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGNvbnRyb2xsZXIpIHtcclxuICAgIHRoaXMudGVtcGxhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNyZWF0ZV9tb25zdGVyXCIpO1xyXG5cclxuICAgIHRoaXMucmFkaW9fZmlyZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWxlbWVudF9maXJlXCIpO1xyXG4gICAgdGhpcy5yYWRpb193YXRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWxlbWVudF93YXRlclwiKTtcclxuICAgIHRoaXMucmFkaW9fZWFydGggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVsZW1lbnRfZWFydGhcIik7XHJcbiAgICB0aGlzLnJhZGlvX3dpbmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVsZW1lbnRfd2luZFwiKTtcclxuXHJcbiAgICB0aGlzLnNldEV2ZW50cygpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlRm9ybSgpIHtcclxuICAgIHRoaXMubW9uc3RlcmZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vbnN0ZXJfZm9ybVwiKTtcclxuICAgIGxldCBjcmVhdGVkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjcmVhdGVkXCIpO1xyXG5cclxuICAgIHRoaXMubW9uc3RlcmZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgIGlmIChjcmVhdGVkLmhhc0NoaWxkTm9kZXMoKSkge1xyXG4gICAgICAgIHdoaWxlIChjcmVhdGVkLmZpcnN0Q2hpbGQpIHtcclxuICAgICAgICAgIGNyZWF0ZWQucmVtb3ZlQ2hpbGQoY3JlYXRlZC5maXJzdENoaWxkKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5pbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG4gICAgICB0aGlzLmltZy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNyZWF0ZWRcIik7XHJcblxyXG4gICAgICBsZXQgc3JjID0gXCJcIjtcclxuXHJcbiAgICAgIHN3aXRjaCAodGhpcy5lbGVtZW50LnZhbHVlKSB7XHJcbiAgICAgICAgY2FzZSBcImZpcmVcIjpcclxuICAgICAgICAgIHNyYyA9IFwiLi4vc3JjL1Jlc291cmNlcy9vcmFuZ2Vtb25zdGVyLnBuZ1wiO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcIndhdGVyXCI6XHJcbiAgICAgICAgICBzcmMgPSBcIi4uL3NyYy9SZXNvdXJjZXMvYmx1ZW1vbnN0ZXIucG5nXCI7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwiZWFydGhcIjpcclxuICAgICAgICAgIHNyYyA9IFwiLi4vc3JjL1Jlc291cmNlcy9icm93bm1vbnN0ZXIucG5nXCI7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwid2luZFwiOlxyXG4gICAgICAgICAgc3JjID0gXCIuLi9zcmMvUmVzb3VyY2VzL3doaXRlbW9uc3Rlci5wbmdcIjtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5pbWcuc3JjID0gc3JjO1xyXG4gICAgICB0aGlzLmltZy5kcmFnZ2FibGUgPSB0cnVlO1xyXG4gICAgICB0aGlzLmltZy5zZXRBdHRyaWJ1dGUoJ2lkJywgJy0xeC0xJyk7XHJcbiAgICAgIHRoaXMuaW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnc3RhcnRcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGUuZGF0YVRyYW5zZmVyLnNldERhdGEoXCJUZXh0XCIsIGUudGFyZ2V0LmlkKTtcclxuICAgICAgfSk7XHJcbiAgICAgIGNyZWF0ZWQuYXBwZW5kQ2hpbGQodGhpcy5pbWcpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudHMoKSB7XHJcbiAgICAvL2V2ZW50c1xyXG4gICAgdGhpcy5yYWRpb19maXJlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcclxuICAgICAgaWYgKHRoaXMuY2hlY2tlZCkge1xyXG4gICAgICAgIGxldCBmaXJldGVtcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmlyZV90ZW1wbGF0ZVwiKTtcclxuICAgICAgICBmaXJldGVtcC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICAgIGZpcmV0ZW1wLmNoaWxkTm9kZXNbMV0uc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJtb25zdGVyX2Zvcm1cIik7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ3YXRlcl90ZW1wbGF0ZVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgZG9jdW1lbnRcclxuICAgICAgICAgIC5nZXRFbGVtZW50QnlJZChcIndhdGVyX3RlbXBsYXRlXCIpXHJcbiAgICAgICAgICAuY2hpbGROb2Rlc1sxXS5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVhcnRoX3RlbXBsYXRlXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICBkb2N1bWVudFxyXG4gICAgICAgICAgLmdldEVsZW1lbnRCeUlkKFwiZWFydGhfdGVtcGxhdGVcIilcclxuICAgICAgICAgIC5jaGlsZE5vZGVzWzFdLnJlbW92ZUF0dHJpYnV0ZShcImlkXCIpO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid2luZF90ZW1wbGF0ZVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgZG9jdW1lbnRcclxuICAgICAgICAgIC5nZXRFbGVtZW50QnlJZChcIndpbmRfdGVtcGxhdGVcIilcclxuICAgICAgICAgIC5jaGlsZE5vZGVzWzFdLnJlbW92ZUF0dHJpYnV0ZShcImlkXCIpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnJhZGlvX2ZpcmUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMudXBkYXRlRm9ybSk7XHJcblxyXG4gICAgdGhpcy5yYWRpb193YXRlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgIGxldCB3YXRlcnRlbXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIndhdGVyX3RlbXBsYXRlXCIpO1xyXG4gICAgICB3YXRlcnRlbXAuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgd2F0ZXJ0ZW1wLmNoaWxkTm9kZXNbMV0uc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJtb25zdGVyX2Zvcm1cIik7XHJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmlyZV90ZW1wbGF0ZVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgIGRvY3VtZW50XHJcbiAgICAgICAgLmdldEVsZW1lbnRCeUlkKFwiZmlyZV90ZW1wbGF0ZVwiKVxyXG4gICAgICAgIC5jaGlsZE5vZGVzWzFdLnJlbW92ZUF0dHJpYnV0ZShcImlkXCIpO1xyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVhcnRoX3RlbXBsYXRlXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgZG9jdW1lbnRcclxuICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoXCJlYXJ0aF90ZW1wbGF0ZVwiKVxyXG4gICAgICAgIC5jaGlsZE5vZGVzWzFdLnJlbW92ZUF0dHJpYnV0ZShcImlkXCIpO1xyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIndpbmRfdGVtcGxhdGVcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICBkb2N1bWVudFxyXG4gICAgICAgIC5nZXRFbGVtZW50QnlJZChcIndpbmRfdGVtcGxhdGVcIilcclxuICAgICAgICAuY2hpbGROb2Rlc1sxXS5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMucmFkaW9fd2F0ZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMudXBkYXRlRm9ybSk7XHJcblxyXG4gICAgdGhpcy5yYWRpb19lYXJ0aC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgIGxldCBlYXJ0aHRlbXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVhcnRoX3RlbXBsYXRlXCIpO1xyXG4gICAgICBlYXJ0aHRlbXAuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgZWFydGh0ZW1wLmNoaWxkTm9kZXNbMV0uc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJtb25zdGVyX2Zvcm1cIik7XHJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmlyZV90ZW1wbGF0ZVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgIGRvY3VtZW50XHJcbiAgICAgICAgLmdldEVsZW1lbnRCeUlkKFwiZmlyZV90ZW1wbGF0ZVwiKVxyXG4gICAgICAgIC5jaGlsZE5vZGVzWzFdLnJlbW92ZUF0dHJpYnV0ZShcImlkXCIpO1xyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIndhdGVyX3RlbXBsYXRlXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgZG9jdW1lbnRcclxuICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoXCJ3YXRlcl90ZW1wbGF0ZVwiKVxyXG4gICAgICAgIC5jaGlsZE5vZGVzWzFdLnJlbW92ZUF0dHJpYnV0ZShcImlkXCIpO1xyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIndpbmRfdGVtcGxhdGVcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICBkb2N1bWVudFxyXG4gICAgICAgIC5nZXRFbGVtZW50QnlJZChcIndpbmRfdGVtcGxhdGVcIilcclxuICAgICAgICAuY2hpbGROb2Rlc1sxXS5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMucmFkaW9fZWFydGguYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMudXBkYXRlRm9ybSk7XHJcblxyXG4gICAgdGhpcy5yYWRpb193aW5kLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcclxuICAgICAgbGV0IHdpbmR0ZW1wID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ3aW5kX3RlbXBsYXRlXCIpO1xyXG4gICAgICB3aW5kdGVtcC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICB3aW5kdGVtcC5jaGlsZE5vZGVzWzFdLnNldEF0dHJpYnV0ZShcImlkXCIsIFwibW9uc3Rlcl9mb3JtXCIpO1xyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpcmVfdGVtcGxhdGVcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICBkb2N1bWVudFxyXG4gICAgICAgIC5nZXRFbGVtZW50QnlJZChcImZpcmVfdGVtcGxhdGVcIilcclxuICAgICAgICAuY2hpbGROb2Rlc1sxXS5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKTtcclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ3YXRlcl90ZW1wbGF0ZVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgIGRvY3VtZW50XHJcbiAgICAgICAgLmdldEVsZW1lbnRCeUlkKFwid2F0ZXJfdGVtcGxhdGVcIilcclxuICAgICAgICAuY2hpbGROb2Rlc1sxXS5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKTtcclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlYXJ0aF90ZW1wbGF0ZVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgIGRvY3VtZW50XHJcbiAgICAgICAgLmdldEVsZW1lbnRCeUlkKFwiZWFydGhfdGVtcGxhdGVcIilcclxuICAgICAgICAuY2hpbGROb2Rlc1sxXS5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMucmFkaW9fd2luZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy51cGRhdGVGb3JtKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIE1hcFZpZXcge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5TVE9SQUdFX0tFWSA9IFwiem9vLWdyaWRcIjtcclxuICAgIHRoaXMubWFwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXBcIik7XHJcblxyXG4gICAgLy8gWm9vIHdpZHRoICh6dykgYW5kIHpvbyBoZWlnaHQgKHpoKVxyXG5cclxuICAgIHRoaXMuencgPSAxMDtcclxuICAgIHRoaXMuemggPSAxMDtcclxuXHJcbiAgICAvLyBMb2FkIGJ1dHRvbnMgZnJvbSBpbmRleC5odG1sXHJcblxyXG4gICAgbGV0IGp1bmdsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwianVuZ2xlXCIpO1xyXG4gICAgbGV0IGRlc2VydCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVzZXJ0XCIpO1xyXG4gICAgbGV0IG5vcnRocG9sZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibm9ydGhwb2xlXCIpO1xyXG5cclxuICAgIGp1bmdsZS5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICBqdW5nbGUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJuZXMtYnRuIGlzLWRpc2FibGVkXCIpO1xyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgLy8gQnV0dG9ucyBmb3Igc3dpdGNoaW5nIGJldHdlZW4gZW52aXJvbm1lbnRzXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICBqdW5nbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgaWYgKGp1bmdsZS5kaXNhYmxlZCAhPSB0cnVlKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkR3JpZCgwKTtcclxuICAgICAgICBqdW5nbGUuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIGRlc2VydC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIG5vcnRocG9sZS5kaXNhYmxlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBqdW5nbGUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJuZXMtYnRuIGlzLWRpc2FibGVkXCIpO1xyXG4gICAgICAgIGRlc2VydC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm5lcy1idG4gaXMtd2FybmluZ1wiKTtcclxuICAgICAgICBub3J0aHBvbGUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJuZXMtYnRuXCIpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBkZXNlcnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgaWYgKGRlc2VydC5kaXNhYmxlZCAhPSB0cnVlKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkR3JpZCgyKTtcclxuICAgICAgICBkZXNlcnQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIGp1bmdsZS5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIG5vcnRocG9sZS5kaXNhYmxlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBkZXNlcnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJuZXMtYnRuIGlzLWRpc2FibGVkXCIpO1xyXG4gICAgICAgIGp1bmdsZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm5lcy1idG4gaXMtc3VjY2Vzc1wiKTtcclxuICAgICAgICBub3J0aHBvbGUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJuZXMtYnRuXCIpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBub3J0aHBvbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgaWYgKG5vcnRocG9sZS5kaXNhYmxlZCAhPSB0cnVlKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkR3JpZCgxKTtcclxuICAgICAgICBub3J0aHBvbGUuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIGRlc2VydC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIGp1bmdsZS5kaXNhYmxlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBub3J0aHBvbGUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJuZXMtYnRuIGlzLWRpc2FibGVkXCIpO1xyXG4gICAgICAgIGp1bmdsZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm5lcy1idG4gaXMtc3VjY2Vzc1wiKTtcclxuICAgICAgICBkZXNlcnQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJuZXMtYnRuIGlzLXdhcm5pbmdcIik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIC8vIEluaXRpYWxzZSB0aGUgbWFwIGZyb20ganVuZ2xlXHJcbiAgICB0aGlzLmxvYWRHcmlkKDApO1xyXG4gIH1cclxuXHJcbiAgLy8gRmV0Y2ggdGhlIHJpZ2h0IGpzb24gZ3JpZCBiYXNlZCBvbiB0ZXJyaWFuIGluZGV4XHJcbiAgbG9hZEdyaWQodGVycmFpbikge1xyXG4gICAgdGhpcy50ZXJyYWluID0gdGVycmFpbjtcclxuICAgIGZldGNoKFwiLi9tYXAvZ3JpZC5qc29uXCIpLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICByZXNwb25zZS5qc29uKCkudGhlbihqc29uID0+IHtcclxuICAgICAgICBsZXQganNvbnN0cmluZyA9IEpTT04uc3RyaW5naWZ5KGpzb24pO1xyXG4gICAgICAgIHRoaXMud2hvbGVncmlkID0gSlNPTi5wYXJzZShqc29uc3RyaW5nKTtcclxuICAgICAgICBsZXQgc3RvcmFnZSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5TVE9SQUdFX0tFWSkpO1xyXG4gICAgICAgIGlmKHN0b3JhZ2UgIT0gbnVsbCkge1xyXG4gICAgICAgICAgdGhpcy5ncmlkID0gc3RvcmFnZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5ncmlkID0gdGhpcy53aG9sZWdyaWQ7XHJcbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLlNUT1JBR0VfS0VZLCBKU09OLnN0cmluZ2lmeSh0aGlzLndob2xlZ3JpZCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNlbGVjdGVkID0gdGhpcy5ncmlkW3RlcnJhaW5dLmdyaWQ7XHJcbiAgICAgICAgdGhpcy5kcmF3Qm9hcmQodGVycmFpbik7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBkcmF3Qm9hcmQodGVycmFpbikge1xyXG4gICAgbGV0IG9sZEJvYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJncmlkXCIpO1xyXG4gICAgaWYgKG9sZEJvYXJkICE9IG51bGwpIHtcclxuICAgICAgb2xkQm9hcmQucmVtb3ZlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy50YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKTtcclxuICAgIHRoaXMudGFibGUuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJncmlkXCIpO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy56dzsgaSsrKSB7XHJcbiAgICAgIHRoaXMudHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XHJcbiAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGhpcy56aDsgeSsrKSB7XHJcbiAgICAgICAgdGhpcy50ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuXHJcbiAgICAgICAgLy8gRHJhZyBhbmQgZHJvcCBldmVudHNcclxuXHJcbiAgICAgICAgdGhpcy50ZC5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ292ZXJcIiwgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLnRkLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnZW50ZXJcIiwgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICBsZXQgZ3JpZCA9IHRoaXMuZ3JpZDtcclxuICAgICAgICBsZXQgdGVycmFpbiA9IHRoaXMudGVycmFpbjtcclxuICAgICAgICBsZXQgc3RvcmFnZUtleSA9IHRoaXMuU1RPUkFHRV9LRVk7XHJcbiAgICAgICAgdGhpcy50ZC5hZGRFdmVudExpc3RlbmVyKFwiZHJvcFwiLCBmdW5jdGlvbihlKXtcclxuICAgICAgICAgIGxldCBkYXRhID0gZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YShcIlRleHRcIik7XHJcbiAgICAgICAgICBsZXQgbW9uc3RlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRhdGEpO1xyXG4gICAgICAgICAgaWYgKCF0aGlzLmhhc0NoaWxkTm9kZXMoKSAmJiBtb25zdGVyLmdldEF0dHJpYnV0ZShcImRyYWdnYWJsZVwiKSA9PT0gXCJ0cnVlXCIpIHtcclxuICAgICAgICAgICAgbGV0IG9yaWdpbiA9IG1vbnN0ZXIuZ2V0QXR0cmlidXRlKFwiaWRcIikuc3BsaXQoXCJ4XCIpO1xyXG4gICAgICAgICAgICBsZXQgY29vcmRpZCA9IHRoaXMuZ2V0QXR0cmlidXRlKFwiaWRcIikuc3BsaXQoXCItXCIpO1xyXG4gICAgICBcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGdyaWRbdGVycmFpbl0uZ3JpZFtjb29yZGlkWzBdXS5Db2x1bW5zW2Nvb3JkaWRbMV1dID0geyBcIk5hbWVcIjogXCJNYXJpam5cIiB9O1xyXG4gICAgICAgICAgICBpZihtb25zdGVyLmdldEF0dHJpYnV0ZSgnaWQnKSA9PT0gJy0xeC0xJykge1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGdyaWRbdGVycmFpbl0uZ3JpZFtvcmlnaW5bMF1dLkNvbHVtbnNbb3JpZ2luWzFdXSA9IFwiMFwiO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShzdG9yYWdlS2V5LCBKU09OLnN0cmluZ2lmeShncmlkKSk7XHJcblxyXG4gICAgICAgICAgICBtb25zdGVyLnNldEF0dHJpYnV0ZShcImlkXCIsIGNvb3JkaWRbMF0gKyBcInhcIiArIGNvb3JkaWRbMV0pO1xyXG4gICAgICAgICAgICB0aGlzLmFwcGVuZChtb25zdGVyKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMudGQuc2V0QXR0cmlidXRlKFwiaWRcIiwgaSArIFwiLVwiICsgeSk7XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5zZWxlY3RlZFtpXS5Db2x1bW5zW3ldID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICB0aGlzLmltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcbiAgICAgICAgICB0aGlzLmltZy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm1vbnN0ZXJcIik7XHJcblxyXG4gICAgICAgICAgLy9FdmVyeSBtb25zdGVyIGdldHMgYW4gaWQgYmFzZWQgb24gdGhlaXIgY29vcmRpbmF0ZXNcclxuICAgICAgICAgIHRoaXMuaW1nLnNldEF0dHJpYnV0ZShcImlkXCIsIGkgKyBcInhcIiArIHkpO1xyXG4gICAgICAgICAgdGhpcy5pbWcuc3JjID0gXCIuLi9zcmMvUmVzb3VyY2VzL29yYW5nZW1vbnN0ZXIucG5nXCI7XHJcblxyXG4gICAgICAgICAgdGhpcy5pbWcuZHJhZ2dhYmxlID0gdHJ1ZTtcclxuICAgICAgICAgIHRoaXMuaW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnc3RhcnRcIiwgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgIGUuZGF0YVRyYW5zZmVyLnNldERhdGEoXCJUZXh0XCIsIGUudGFyZ2V0LmlkKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgdGhpcy50ZC5hcHBlbmRDaGlsZCh0aGlzLmltZyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZFtpXS5Db2x1bW5zW3ldID09IDEpIHtcclxuICAgICAgICAgIHRoaXMuaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuICAgICAgICAgIHRoaXMuaW1nLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwic3RvbmVcIik7XHJcblxyXG4gICAgICAgICAgLy9FdmVyeSBtb25zdGVyIGdldHMgYW4gaWQgYmFzZWQgb24gdGhlaXIgY29vcmRpbmF0ZXNcclxuICAgICAgICAgIHRoaXMuaW1nLnNldEF0dHJpYnV0ZShcImlkXCIsIGkgKyBcInhcIiArIHkpO1xyXG5cclxuICAgICAgICAgIHN3aXRjaCAodGVycmFpbikge1xyXG4gICAgICAgICAgICAvLyBKdW5nbGVcclxuICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgIHRoaXMuaW1nLnNyYyA9IFwiLi4vc3JjL1Jlc291cmNlcy9qdW5nbGVyb2NrLnBuZ1wiO1xyXG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFwXCIpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiIzI4OTE1MFwiO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgLy8gTm9ydHBvbGVcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgIHRoaXMuaW1nLnNyYyA9IFwiLi4vc3JjL1Jlc291cmNlcy9pY2VjaHVuay5wbmdcIjtcclxuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hcFwiKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNEOEZGRkZcIjtcclxuICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIC8vIERlc2VydFxyXG4gICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgdGhpcy5pbWcuc3JjID0gXCIuLi9zcmMvUmVzb3VyY2VzL2NhY3R1cy5wbmdcIjtcclxuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hcFwiKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNFREM5QUZcIjtcclxuICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLnRkLmFwcGVuZENoaWxkKHRoaXMuaW1nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudHIuYXBwZW5kQ2hpbGQodGhpcy50ZCk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy50YWJsZS5hcHBlbmRDaGlsZCh0aGlzLnRyKTtcclxuICAgIH1cclxuICAgIHRoaXMubWFwLmFwcGVuZENoaWxkKHRoaXMudGFibGUpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgV2VhdGhlckRhdGFTZXJ2aWNlIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmFwaWtleSA9ICc2ZWZjMzVjM2MyNjExZTQxNGVhNjZkYTc2YjJlM2YwYic7XHJcbiAgICAgICAgdGhpcy51bml0cyA9ICdtZXRyaWMnO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEN1cnJlbnRXZWF0aGVyKGNpdHlOYW1lKSB7XHJcbiAgICAgICAgZmV0Y2goYGh0dHA6Ly9hcGkub3BlbndlYXRoZXJtYXAub3JnL2RhdGEvMi41L3dlYXRoZXI/cT0ke2NpdHlOYW1lfSZhcHBpZD0ke3RoaXMuYXBpa2V5fSZ1bml0cz0ke3RoaXMudW5pdHN9YClcclxuICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKG15SnNvbikge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkobXlKc29uKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBXZWF0aGVyVmlldyB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5pbWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2VhdGhlcmltZycpO1xyXG4gICAgICAgIHRoaXMudGVtcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZW1wJyk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlV2VhdGhlcigpIHtcclxuICAgICAgICBcclxuICAgIH1cclxufSIsImltcG9ydCB7IFdlYXRoZXJEYXRhU2VydmljZSB9IGZyb20gXCIuLi9Nb2RlbC9XZWF0aGVyRGF0YVNlcnZpY2VcIjtcclxuaW1wb3J0IHsgV2VhdGhlclZpZXcgfSBmcm9tIFwiLi4vVmlldy9XZWF0aGVyVmlld1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFdlYXRoZXJDb250cm9sbGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMud2VhdGhlcmRhdGEgPSBuZXcgV2VhdGhlckRhdGFTZXJ2aWNlKCk7XHJcbiAgICAgICAgdGhpcy53ZWF0aGVydmlldyA9IG5ldyBXZWF0aGVyVmlldygpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTW9uc3RlclNlcnZpY2UgfSBmcm9tICcuLi9tb2RlbC9Nb25zdGVyU2VydmljZSdcclxuaW1wb3J0IHsgQ3JlYXRlTW9uc3RlclZpZXcgfSBmcm9tICcuLi92aWV3L0NyZWF0ZU1vbnN0ZXJWaWV3JztcclxuaW1wb3J0IHsgTWFwVmlldyB9IGZyb20gJy4uL3ZpZXcvTWFwVmlldyc7XHJcbmltcG9ydCB7IFdlYXRoZXJEYXRhU2VydmljZSB9IGZyb20gJy4uL01vZGVsL1dlYXRoZXJEYXRhU2VydmljZSc7XHJcbmltcG9ydCB7IFdlYXRoZXJDb250cm9sbGVyIH0gZnJvbSAnLi9XZWF0aGVyQ29udHJvbGxlcic7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBab29Db250cm9sbGVyXHJcbntcclxuICAgIC8vZWwgY29uc3RydWN0b3JcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgdGhpcy5tb25zdGVyc2VydmljZSA9IG5ldyBNb25zdGVyU2VydmljZSgpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlbW9uc3RlcnZpZXcgPSAgbmV3IENyZWF0ZU1vbnN0ZXJWaWV3KHRoaXMpO1xyXG4gICAgICAgIHRoaXMubWFwdmlldyA9IG5ldyBNYXBWaWV3KCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGFkZE1vbnN0ZXIoZGF0YSl7XHJcbiAgICAgICAgdmFyIG5ld01vbnN0ZXIgPSBuZXcgTW9uc3RlcihkYXRhKTtcclxuICAgICAgICB0aGlzLm1vbnN0ZXJzZXJ2aWNlLnNhdmVNb25zdGVyKG5ld01vbnN0ZXIpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFpvb0NvbnRyb2xsZXIgZnJvbSAnLi9Db250cm9sbGVyL1pvb0NvbnRyb2xsZXInO1xyXG5cclxubGV0IHpvb2NvbnRyb2xsZXIgPSBuZXcgWm9vQ29udHJvbGxlcigpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1\n')}]);