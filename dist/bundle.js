!function(t){var c={};function e(n){if(c[n])return c[n].exports;var I=c[n]={i:n,l:!1,exports:{}};return t[n].call(I.exports,I,I.exports,e),I.l=!0,I.exports}e.m=t,e.c=c,e.d=function(t,c,n){e.o(t,c)||Object.defineProperty(t,c,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,c){if(1&c&&(t=e(t)),8&c)return t;if(4&c&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&c&&"string"!=typeof t)for(var I in t)e.d(n,I,function(c){return t[c]}.bind(null,I));return n},e.n=function(t){var c=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(c,"a",c),c},e.o=function(t,c){return Object.prototype.hasOwnProperty.call(t,c)},e.p="",e(e.s=1)}([function(module,exports){eval("class Monster{\r\n    // MonsterData exists of element, name, arms, type_arms, legs, eyes, skintype, ability to fly, ability to swim,color ,map, coördinaten\r\n    constructor(monsterdata){\r\n        Object.assign(this, monsterdata);\r\n    }\r\n}\r\n\r\nclass fireMonster extends Monster{\r\n\r\n}\r\nclass waterfireMonster extends Monster{\r\n    \r\n}\r\nclass earthMonster extends Monster{\r\n    \r\n}\r\nclass windMonster extends Monster{\r\n    \r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvTW9uc3Rlci5qcz81MThkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgTW9uc3RlcntcclxuICAgIC8vIE1vbnN0ZXJEYXRhIGV4aXN0cyBvZiBlbGVtZW50LCBuYW1lLCBhcm1zLCB0eXBlX2FybXMsIGxlZ3MsIGV5ZXMsIHNraW50eXBlLCBhYmlsaXR5IHRvIGZseSwgYWJpbGl0eSB0byBzd2ltLGNvbG9yICxtYXAsIGNvw7ZyZGluYXRlblxyXG4gICAgY29uc3RydWN0b3IobW9uc3RlcmRhdGEpe1xyXG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgbW9uc3RlcmRhdGEpO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBmaXJlTW9uc3RlciBleHRlbmRzIE1vbnN0ZXJ7XHJcblxyXG59XHJcbmNsYXNzIHdhdGVyZmlyZU1vbnN0ZXIgZXh0ZW5kcyBNb25zdGVye1xyXG4gICAgXHJcbn1cclxuY2xhc3MgZWFydGhNb25zdGVyIGV4dGVuZHMgTW9uc3RlcntcclxuICAgIFxyXG59XHJcbmNsYXNzIHdpbmRNb25zdGVyIGV4dGVuZHMgTW9uc3RlcntcclxuICAgIFxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./src/model/Monster.js\nvar model_Monster = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/model/MonsterService.js\n\r\n\r\n\r\nclass MonsterService\r\n{\r\n    constructor(){\r\n        this.monsters = [\r\n            // new Monster({name: \'Marijn\', element: \'fire\',  arms: 2, type_arms: \'tentakels\', legs: 2, eyes: 4, skintype: \'schubben\', fly: \'nee\', swim: \'nee\', color: \'oranje\', map: 0, xcoördinaat: 1, ycoördinaat: 1}),\r\n            // new Monster({name: \'Thijs\', element: \'fire\',  arms: 6, type_arms: \'klauw-vleugels\', legs: 0, eyes: 3, skintype: \'veren\', fly: \'ja\', swim: \'nee\', color: \'bruin\', map: 0, xcoördinaat: 2, ycoördinaat: 2})\r\n        ]\r\n    }\r\n\r\n    getMonsters()\r\n    {\r\n        return this.monsters;\r\n    }\r\n\r\n    saveMonster(monster){\r\n       this.monsters.push(monster);\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/view/CreateMonsterView.js\nclass CreateMonsterView {\r\n\r\n  constructor(controller) {\r\n    this.controller = controller;\r\n\r\n    this.template = document.getElementById("create_monster");\r\n\r\n    this.radio_fire = document.getElementById("element_fire");\r\n    this.radio_water = document.getElementById("element_water");\r\n    this.radio_earth = document.getElementById("element_earth");\r\n    this.radio_wind = document.getElementById("element_wind");\r\n    this.remove = document.getElementById("remove");\r\n\r\n    this.setEvents();\r\n  }\r\n\r\n  updateForm() {\r\n    this.monsterform = document.getElementById("monster_form");\r\n    let created = document.getElementById("created");\r\n\r\n    this.monsterform.addEventListener("submit", function(e) {\r\n      e.preventDefault();\r\n\r\n      if (created.hasChildNodes()) {\r\n        while (created.firstChild) {\r\n          created.removeChild(created.firstChild);\r\n        }\r\n      }\r\n      this.img = document.createElement("img");\r\n      this.img.setAttribute("class", "created");\r\n\r\n      let src = "";\r\n\r\n      switch (this.element.value) {\r\n        case "fire":\r\n          src = "../src/Resources/orangemonster.png";\r\n          break;\r\n        case "water":\r\n          src = "../src/Resources/bluemonster.png";\r\n          break;\r\n        case "earth":\r\n          src = "../src/Resources/brownmonster.png";\r\n          break;\r\n        case "wind":\r\n          src = "../src/Resources/whitemonster.png";\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n      this.img.src = src;\r\n      this.img.draggable = true;\r\n      this.img.setAttribute(\'id\', \'-1x-1\');\r\n      this.img.addEventListener("dragstart", function(e) {\r\n        e.dataTransfer.setData("Text", e.target.id);\r\n      });\r\n      created.appendChild(this.img);\r\n\r\n      controller.addMonster(this.name.value, this.element.value, this.arms.value, this.tentacles.value, this.legs.value, this.eyes.value, this.swimtype.value, this.fly.value, this.swim.value, this.colour.value, this.map.value, this.x.value, this.y.value);\r\n\r\n    });\r\n  }\r\n\r\n  setEvents() {\r\n    //events\r\n    this.radio_fire.addEventListener("click", function() {\r\n      if (this.checked) {\r\n        let firetemp = document.getElementById("fire_template");\r\n        firetemp.style.display = "block";\r\n        firetemp.childNodes[1].setAttribute("id", "monster_form");\r\n        document.getElementById("water_template").style.display = "none";\r\n        document\r\n          .getElementById("water_template")\r\n          .childNodes[1].removeAttribute("id");\r\n        document.getElementById("earth_template").style.display = "none";\r\n        document\r\n          .getElementById("earth_template")\r\n          .childNodes[1].removeAttribute("id");\r\n        document.getElementById("wind_template").style.display = "none";\r\n        document\r\n          .getElementById("wind_template")\r\n          .childNodes[1].removeAttribute("id");\r\n      }\r\n    });\r\n\r\n    this.radio_fire.addEventListener("click", this.updateForm);\r\n\r\n    this.radio_water.addEventListener("click", function() {\r\n      let watertemp = document.getElementById("water_template");\r\n      watertemp.style.display = "block";\r\n      watertemp.childNodes[1].setAttribute("id", "monster_form");\r\n      document.getElementById("fire_template").style.display = "none";\r\n      document\r\n        .getElementById("fire_template")\r\n        .childNodes[1].removeAttribute("id");\r\n      document.getElementById("earth_template").style.display = "none";\r\n      document\r\n        .getElementById("earth_template")\r\n        .childNodes[1].removeAttribute("id");\r\n      document.getElementById("wind_template").style.display = "none";\r\n      document\r\n        .getElementById("wind_template")\r\n        .childNodes[1].removeAttribute("id");\r\n    });\r\n\r\n    this.radio_water.addEventListener("click", this.updateForm);\r\n\r\n    this.radio_earth.addEventListener("click", function() {\r\n      let earthtemp = document.getElementById("earth_template");\r\n      earthtemp.style.display = "block";\r\n      earthtemp.childNodes[1].setAttribute("id", "monster_form");\r\n      document.getElementById("fire_template").style.display = "none";\r\n      document\r\n        .getElementById("fire_template")\r\n        .childNodes[1].removeAttribute("id");\r\n      document.getElementById("water_template").style.display = "none";\r\n      document\r\n        .getElementById("water_template")\r\n        .childNodes[1].removeAttribute("id");\r\n      document.getElementById("wind_template").style.display = "none";\r\n      document\r\n        .getElementById("wind_template")\r\n        .childNodes[1].removeAttribute("id");\r\n    });\r\n\r\n    this.radio_earth.addEventListener("click", this.updateForm);\r\n\r\n    this.radio_wind.addEventListener("click", function() {\r\n      let windtemp = document.getElementById("wind_template");\r\n      windtemp.style.display = "block";\r\n      windtemp.childNodes[1].setAttribute("id", "monster_form");\r\n      document.getElementById("fire_template").style.display = "none";\r\n      document\r\n        .getElementById("fire_template")\r\n        .childNodes[1].removeAttribute("id");\r\n      document.getElementById("water_template").style.display = "none";\r\n      document\r\n        .getElementById("water_template")\r\n        .childNodes[1].removeAttribute("id");\r\n      document.getElementById("earth_template").style.display = "none";\r\n      document\r\n        .getElementById("earth_template")\r\n        .childNodes[1].removeAttribute("id");\r\n    });\r\n\r\n    this.radio_wind.addEventListener("click", this.updateForm);\r\n  }\r\n}\r\n\n// CONCATENATED MODULE: ./src/view/MapView.js\nclass MapView {\r\n  constructor(weathercontroller) {\r\n    this.STORAGE_KEY = "zoo-grid";\r\n    this.map = document.getElementById("map");\r\n    this.remove = document.getElementById("remove");\r\n\r\n    this.weathercontroller = weathercontroller;\r\n\r\n    // Zoo width (zw) and zoo height (zh)\r\n\r\n    this.zw = 10;\r\n    this.zh = 10;\r\n\r\n    // Load buttons from index.html\r\n\r\n    let jungle = document.getElementById("jungle");\r\n    let desert = document.getElementById("desert");\r\n    let northpole = document.getElementById("northpole");\r\n\r\n    jungle.disabled = true;\r\n    jungle.setAttribute("class", "nes-btn is-disabled");\r\n\r\n    // ---------------------------------------------------------------------------------------------------------\r\n    // Buttons for switching between environments\r\n    // ---------------------------------------------------------------------------------------------------------\r\n\r\n    jungle.addEventListener("click", () => {\r\n      if (jungle.disabled != true) {\r\n        this.loadGrid(0);\r\n        jungle.disabled = true;\r\n        desert.disabled = false;\r\n        northpole.disabled = false;\r\n\r\n        jungle.setAttribute("class", "nes-btn is-disabled");\r\n        desert.setAttribute("class", "nes-btn is-warning");\r\n        northpole.setAttribute("class", "nes-btn");\r\n      }\r\n    });\r\n\r\n    desert.addEventListener("click", () => {\r\n      if (desert.disabled != true) {\r\n        this.loadGrid(2);\r\n        desert.disabled = true;\r\n        jungle.disabled = false;\r\n        northpole.disabled = false;\r\n\r\n        desert.setAttribute("class", "nes-btn is-disabled");\r\n        jungle.setAttribute("class", "nes-btn is-success");\r\n        northpole.setAttribute("class", "nes-btn");\r\n      }\r\n    });\r\n\r\n    northpole.addEventListener("click", () => {\r\n      if (northpole.disabled != true) {\r\n        this.loadGrid(1);\r\n        northpole.disabled = true;\r\n        desert.disabled = false;\r\n        jungle.disabled = false;\r\n\r\n        northpole.setAttribute("class", "nes-btn is-disabled");\r\n        jungle.setAttribute("class", "nes-btn is-success");\r\n        desert.setAttribute("class", "nes-btn is-warning");\r\n      }\r\n    });\r\n\r\n    // ---------------------------------------------------------------------------------------------------------\r\n\r\n    // Initialse the map from jungle\r\n    this.loadGrid(0);\r\n  }\r\n\r\n  // Fetch the right json grid based on terrian index\r\n  loadGrid(terrain) {\r\n    this.terrain = terrain;\r\n    fetch("./map/grid.json").then(response => {\r\n      response.json().then(json => {\r\n        let jsonstring = JSON.stringify(json);\r\n        this.wholegrid = JSON.parse(jsonstring);\r\n        let storage = JSON.parse(localStorage.getItem(this.STORAGE_KEY));\r\n        if (storage != null) {\r\n          this.grid = storage;\r\n        } else {\r\n          this.grid = this.wholegrid;\r\n          localStorage.setItem(\r\n            this.STORAGE_KEY,\r\n            JSON.stringify(this.wholegrid)\r\n          );\r\n        }\r\n        this.selected = this.grid[terrain].grid;\r\n        this.weathercontroller.updateWeather(this.grid[terrain].reference_city);\r\n        this.initRemove();\r\n        this.drawBoard();\r\n      });\r\n    });\r\n  }\r\n\r\n  drawBoard() {\r\n    let oldBoard = document.getElementById("grid");\r\n    if (oldBoard != null) {\r\n      oldBoard.remove();\r\n    }\r\n\r\n    this.table = document.createElement("table");\r\n    this.table.setAttribute("id", "grid");\r\n\r\n    for (let i = 0; i < this.zw; i++) {\r\n      this.tr = document.createElement("tr");\r\n      for (let y = 0; y < this.zh; y++) {\r\n        this.td = document.createElement("td");\r\n\r\n        // Drag and drop events\r\n\r\n        this.td.addEventListener("dragover", function(e) {\r\n          e.preventDefault();\r\n        });\r\n\r\n        this.td.addEventListener("dragenter", function(e) {\r\n          e.preventDefault();\r\n        });\r\n\r\n        let grid = this.grid;\r\n        let terrain = this.terrain;\r\n        let storageKey = this.STORAGE_KEY;\r\n\r\n        this.td.addEventListener("drop", function(e) {\r\n          let data = e.dataTransfer.getData("Text");\r\n          let monster = document.getElementById(data);\r\n          if (\r\n            !this.hasChildNodes() &&\r\n            monster.getAttribute("draggable") === "true"\r\n          ) {\r\n            let origin = monster.getAttribute("id").split("x");\r\n            let coordid = this.getAttribute("id").split("-");\r\n\r\n            grid[terrain].grid[coordid[0]].Columns[coordid[1]] = {\r\n              Name: "Marijn"\r\n            };\r\n            if (monster.getAttribute("id") === "-1x-1") {\r\n            } else {\r\n              grid[terrain].grid[origin[0]].Columns[origin[1]] = "0";\r\n            }\r\n\r\n            localStorage.setItem(storageKey, JSON.stringify(grid));\r\n\r\n            monster.setAttribute("id", coordid[0] + "x" + coordid[1]);\r\n            this.append(monster);\r\n          }\r\n        });\r\n\r\n        this.td.setAttribute("id", i + "-" + y);\r\n\r\n        if (typeof this.selected[i].Columns[y] === "object") {\r\n          this.img = document.createElement("img");\r\n          this.img.setAttribute("class", "monster");\r\n\r\n          //Every monster gets an id based on their coordinates\r\n          this.img.setAttribute("id", i + "x" + y);\r\n          this.img.src = "../src/Resources/orangemonster.png";\r\n\r\n          this.img.draggable = true;\r\n          this.img.addEventListener("dragstart", function(e) {\r\n            e.dataTransfer.setData("Text", e.target.id);\r\n          });\r\n          this.td.appendChild(this.img);\r\n        }\r\n\r\n        if (this.selected[i].Columns[y] == 1) {\r\n          this.img = document.createElement("img");\r\n          this.img.setAttribute("class", "stone");\r\n\r\n          //Every monster gets an id based on their coordinates\r\n          this.img.setAttribute("id", i + "x" + y);\r\n\r\n          switch (terrain) {\r\n            // Jungle\r\n            case 0:\r\n              this.img.src = "../src/Resources/junglerock.png";\r\n              document.getElementById("map").style.backgroundColor = "#289150";\r\n              break;\r\n\r\n            // Nortpole\r\n            case 1:\r\n              this.img.src = "../src/Resources/icechunk.png";\r\n              document.getElementById("map").style.backgroundColor = "#D8FFFF";\r\n              break;\r\n\r\n            // Desert\r\n            case 2:\r\n              this.img.src = "../src/Resources/cactus.png";\r\n              document.getElementById("map").style.backgroundColor = "#EDC9AF";\r\n              break;\r\n\r\n            default:\r\n              break;\r\n          }\r\n          this.td.appendChild(this.img);\r\n        }\r\n        this.tr.appendChild(this.td);\r\n      }\r\n      this.table.appendChild(this.tr);\r\n    }\r\n    this.map.appendChild(this.table);\r\n  }\r\n\r\n  initRemove() {\r\n    let grid = this.grid;\r\n    let terrain = this.terrain;\r\n    let storageKey = this.STORAGE_KEY;\r\n    this.remove.addEventListener("drop", function(e) {\r\n      let data = e.dataTransfer.getData("Text");\r\n      let monster = document.getElementById(data);\r\n      let origin = monster.getAttribute("id").split("x");\r\n\r\n      grid[terrain].grid[origin[0]].Columns[origin[1]] = "0";\r\n\r\n      localStorage.setItem(storageKey, JSON.stringify(grid));\r\n\r\n      monster.remove();\r\n    });\r\n\r\n    this.remove.addEventListener("dragover", function(e) {\r\n      e.preventDefault();\r\n    });\r\n\r\n    this.remove.addEventListener("dragenter", function(e) {\r\n      e.preventDefault();\r\n    });\r\n  }\r\n}\r\n\n// CONCATENATED MODULE: ./src/Model/WeatherDataService.js\nclass WeatherDataService {\r\n\r\n    constructor() {\r\n        this.apikey = \'6efc35c3c2611e414ea66da76b2e3f0b\';\r\n        this.units = \'metric\';\r\n    }\r\n\r\n    getCurrentWeather(cityName) {\r\n        return fetch(`http://api.openweathermap.org/data/2.5/weather?q=${cityName}&appid=${this.apikey}&units=${this.units}`)\r\n        .then(function(response) {\r\n          return response.json();\r\n        })\r\n        .then(function(myJson) {\r\n          return myJson;\r\n        });\r\n      }\r\n}\n// CONCATENATED MODULE: ./src/View/WeatherView.js\nclass WeatherView {\r\n\r\n    constructor() {\r\n        this.img = document.getElementById(\'weatherimg\');\r\n        this.temp = document.getElementById(\'temp\');\r\n    }\r\n\r\n    updateWeather(temp) {\r\n        this.temp.innerText = `${temp}° Celcius`;\r\n    }\r\n}\n// CONCATENATED MODULE: ./src/Controller/WeatherController.js\n\r\n\r\n\r\nclass WeatherController_WeatherController {\r\n    constructor() {\r\n        this.weatherdata = new WeatherDataService();\r\n        this.weatherview = new WeatherView();\r\n    }\r\n\r\n    updateWeather(city) {\r\n        let weatherview = this.weatherview;\r\n        this.weatherdata.getCurrentWeather(city).then(function(data) {\r\n            weatherview.updateWeather(data.main.temp);\r\n        });\r\n    }\r\n}\n// CONCATENATED MODULE: ./src/Controller/ZooController.js\n\r\n\r\n\r\n\r\n\r\nclass ZooController_ZooController\r\n{\r\n    //el constructor\r\n    constructor(){\r\n        this.weathercontroller = new WeatherController_WeatherController();\r\n\r\n        this.monsterservice = new MonsterService();\r\n        this.createmonsterview =  new CreateMonsterView(this);\r\n\r\n        this.mapview = new MapView(this.weathercontroller);\r\n    }\r\n\r\n    addMonster(data){\r\n        let newMonster = new Monster(data);\r\n        this.monsterservice.saveMonster(newMonster);\r\n    }\r\n}\n// CONCATENATED MODULE: ./src/app.js\n\r\n\r\nlet zoocontroller = new ZooController_ZooController();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvTW9uc3RlclNlcnZpY2UuanM/MDg5MiIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9DcmVhdGVNb25zdGVyVmlldy5qcz9jNzcwIiwid2VicGFjazovLy8uL3NyYy92aWV3L01hcFZpZXcuanM/MDk0OCIsIndlYnBhY2s6Ly8vLi9zcmMvTW9kZWwvV2VhdGhlckRhdGFTZXJ2aWNlLmpzP2ZjOGUiLCJ3ZWJwYWNrOi8vLy4vc3JjL1ZpZXcvV2VhdGhlclZpZXcuanM/ODYxYyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29udHJvbGxlci9XZWF0aGVyQ29udHJvbGxlci5qcz8xNWY0Iiwid2VicGFjazovLy8uL3NyYy9Db250cm9sbGVyL1pvb0NvbnRyb2xsZXIuanM/YmNkOSIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwLmpzPzExMTIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQW9DOzs7QUFHN0I7QUFDUDtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNExBQTRMO0FBQ3hOLDRCQUE0QiwyTEFBMkw7QUFDdk47QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FDcEJPOztBQUVQO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7O0FBRUEsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7O0FDbkpPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsbUJBQW1CLGFBQWE7QUFDaEM7QUFDQSxxQkFBcUIsYUFBYTtBQUNsQzs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7OztBQ3BPTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHlFQUF5RSxTQUFTLFNBQVMsWUFBWSxTQUFTLFdBQVc7QUFDM0g7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsQzs7QUNoQk87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpQ0FBaUMsS0FBSztBQUN0QztBQUNBLEM7O0FDVmlFO0FBQ2Y7O0FBRTNDLE1BQU0sbUNBQWlCO0FBQzlCO0FBQ0EsK0JBQStCLGtCQUFrQjtBQUNqRCwrQkFBK0IsV0FBVztBQUMxQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEM7O0FDZndEO0FBQ007QUFDcEI7QUFDYzs7QUFFekMsTUFBTSwyQkFBYTtBQUNsQztBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsbUNBQWlCOztBQUV0RCxrQ0FBa0MsY0FBYztBQUNoRCxzQ0FBc0MsaUJBQWlCOztBQUV2RCwyQkFBMkIsT0FBTztBQUNsQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEM7O0FDckJ1RDs7QUFFdkQsd0JBQXdCLDJCQUFhIiwiZmlsZSI6IjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNb25zdGVyIH0gZnJvbSAnLi9Nb25zdGVyJztcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgTW9uc3RlclNlcnZpY2Vcclxue1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICB0aGlzLm1vbnN0ZXJzID0gW1xyXG4gICAgICAgICAgICAvLyBuZXcgTW9uc3Rlcih7bmFtZTogJ01hcmlqbicsIGVsZW1lbnQ6ICdmaXJlJywgIGFybXM6IDIsIHR5cGVfYXJtczogJ3RlbnRha2VscycsIGxlZ3M6IDIsIGV5ZXM6IDQsIHNraW50eXBlOiAnc2NodWJiZW4nLCBmbHk6ICduZWUnLCBzd2ltOiAnbmVlJywgY29sb3I6ICdvcmFuamUnLCBtYXA6IDAsIHhjb8O2cmRpbmFhdDogMSwgeWNvw7ZyZGluYWF0OiAxfSksXHJcbiAgICAgICAgICAgIC8vIG5ldyBNb25zdGVyKHtuYW1lOiAnVGhpanMnLCBlbGVtZW50OiAnZmlyZScsICBhcm1zOiA2LCB0eXBlX2FybXM6ICdrbGF1dy12bGV1Z2VscycsIGxlZ3M6IDAsIGV5ZXM6IDMsIHNraW50eXBlOiAndmVyZW4nLCBmbHk6ICdqYScsIHN3aW06ICduZWUnLCBjb2xvcjogJ2JydWluJywgbWFwOiAwLCB4Y2/DtnJkaW5hYXQ6IDIsIHljb8O2cmRpbmFhdDogMn0pXHJcbiAgICAgICAgXVxyXG4gICAgfVxyXG5cclxuICAgIGdldE1vbnN0ZXJzKClcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tb25zdGVycztcclxuICAgIH1cclxuXHJcbiAgICBzYXZlTW9uc3Rlcihtb25zdGVyKXtcclxuICAgICAgIHRoaXMubW9uc3RlcnMucHVzaChtb25zdGVyKTtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgQ3JlYXRlTW9uc3RlclZpZXcge1xyXG5cclxuICBjb25zdHJ1Y3Rvcihjb250cm9sbGVyKSB7XHJcbiAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xyXG5cclxuICAgIHRoaXMudGVtcGxhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNyZWF0ZV9tb25zdGVyXCIpO1xyXG5cclxuICAgIHRoaXMucmFkaW9fZmlyZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWxlbWVudF9maXJlXCIpO1xyXG4gICAgdGhpcy5yYWRpb193YXRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWxlbWVudF93YXRlclwiKTtcclxuICAgIHRoaXMucmFkaW9fZWFydGggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVsZW1lbnRfZWFydGhcIik7XHJcbiAgICB0aGlzLnJhZGlvX3dpbmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVsZW1lbnRfd2luZFwiKTtcclxuICAgIHRoaXMucmVtb3ZlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZW1vdmVcIik7XHJcblxyXG4gICAgdGhpcy5zZXRFdmVudHMoKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZUZvcm0oKSB7XHJcbiAgICB0aGlzLm1vbnN0ZXJmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb25zdGVyX2Zvcm1cIik7XHJcbiAgICBsZXQgY3JlYXRlZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY3JlYXRlZFwiKTtcclxuXHJcbiAgICB0aGlzLm1vbnN0ZXJmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICBpZiAoY3JlYXRlZC5oYXNDaGlsZE5vZGVzKCkpIHtcclxuICAgICAgICB3aGlsZSAoY3JlYXRlZC5maXJzdENoaWxkKSB7XHJcbiAgICAgICAgICBjcmVhdGVkLnJlbW92ZUNoaWxkKGNyZWF0ZWQuZmlyc3RDaGlsZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuICAgICAgdGhpcy5pbWcuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjcmVhdGVkXCIpO1xyXG5cclxuICAgICAgbGV0IHNyYyA9IFwiXCI7XHJcblxyXG4gICAgICBzd2l0Y2ggKHRoaXMuZWxlbWVudC52YWx1ZSkge1xyXG4gICAgICAgIGNhc2UgXCJmaXJlXCI6XHJcbiAgICAgICAgICBzcmMgPSBcIi4uL3NyYy9SZXNvdXJjZXMvb3JhbmdlbW9uc3Rlci5wbmdcIjtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJ3YXRlclwiOlxyXG4gICAgICAgICAgc3JjID0gXCIuLi9zcmMvUmVzb3VyY2VzL2JsdWVtb25zdGVyLnBuZ1wiO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcImVhcnRoXCI6XHJcbiAgICAgICAgICBzcmMgPSBcIi4uL3NyYy9SZXNvdXJjZXMvYnJvd25tb25zdGVyLnBuZ1wiO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcIndpbmRcIjpcclxuICAgICAgICAgIHNyYyA9IFwiLi4vc3JjL1Jlc291cmNlcy93aGl0ZW1vbnN0ZXIucG5nXCI7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuaW1nLnNyYyA9IHNyYztcclxuICAgICAgdGhpcy5pbWcuZHJhZ2dhYmxlID0gdHJ1ZTtcclxuICAgICAgdGhpcy5pbWcuc2V0QXR0cmlidXRlKCdpZCcsICctMXgtMScpO1xyXG4gICAgICB0aGlzLmltZy5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ3N0YXJ0XCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKFwiVGV4dFwiLCBlLnRhcmdldC5pZCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBjcmVhdGVkLmFwcGVuZENoaWxkKHRoaXMuaW1nKTtcclxuXHJcbiAgICAgIGNvbnRyb2xsZXIuYWRkTW9uc3Rlcih0aGlzLm5hbWUudmFsdWUsIHRoaXMuZWxlbWVudC52YWx1ZSwgdGhpcy5hcm1zLnZhbHVlLCB0aGlzLnRlbnRhY2xlcy52YWx1ZSwgdGhpcy5sZWdzLnZhbHVlLCB0aGlzLmV5ZXMudmFsdWUsIHRoaXMuc3dpbXR5cGUudmFsdWUsIHRoaXMuZmx5LnZhbHVlLCB0aGlzLnN3aW0udmFsdWUsIHRoaXMuY29sb3VyLnZhbHVlLCB0aGlzLm1hcC52YWx1ZSwgdGhpcy54LnZhbHVlLCB0aGlzLnkudmFsdWUpO1xyXG5cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRzKCkge1xyXG4gICAgLy9ldmVudHNcclxuICAgIHRoaXMucmFkaW9fZmlyZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgIGlmICh0aGlzLmNoZWNrZWQpIHtcclxuICAgICAgICBsZXQgZmlyZXRlbXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpcmVfdGVtcGxhdGVcIik7XHJcbiAgICAgICAgZmlyZXRlbXAuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgICBmaXJldGVtcC5jaGlsZE5vZGVzWzFdLnNldEF0dHJpYnV0ZShcImlkXCIsIFwibW9uc3Rlcl9mb3JtXCIpO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid2F0ZXJfdGVtcGxhdGVcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgIGRvY3VtZW50XHJcbiAgICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoXCJ3YXRlcl90ZW1wbGF0ZVwiKVxyXG4gICAgICAgICAgLmNoaWxkTm9kZXNbMV0ucmVtb3ZlQXR0cmlidXRlKFwiaWRcIik7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlYXJ0aF90ZW1wbGF0ZVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgZG9jdW1lbnRcclxuICAgICAgICAgIC5nZXRFbGVtZW50QnlJZChcImVhcnRoX3RlbXBsYXRlXCIpXHJcbiAgICAgICAgICAuY2hpbGROb2Rlc1sxXS5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIndpbmRfdGVtcGxhdGVcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgIGRvY3VtZW50XHJcbiAgICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoXCJ3aW5kX3RlbXBsYXRlXCIpXHJcbiAgICAgICAgICAuY2hpbGROb2Rlc1sxXS5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5yYWRpb19maXJlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLnVwZGF0ZUZvcm0pO1xyXG5cclxuICAgIHRoaXMucmFkaW9fd2F0ZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICBsZXQgd2F0ZXJ0ZW1wID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ3YXRlcl90ZW1wbGF0ZVwiKTtcclxuICAgICAgd2F0ZXJ0ZW1wLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgIHdhdGVydGVtcC5jaGlsZE5vZGVzWzFdLnNldEF0dHJpYnV0ZShcImlkXCIsIFwibW9uc3Rlcl9mb3JtXCIpO1xyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpcmVfdGVtcGxhdGVcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICBkb2N1bWVudFxyXG4gICAgICAgIC5nZXRFbGVtZW50QnlJZChcImZpcmVfdGVtcGxhdGVcIilcclxuICAgICAgICAuY2hpbGROb2Rlc1sxXS5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKTtcclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlYXJ0aF90ZW1wbGF0ZVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgIGRvY3VtZW50XHJcbiAgICAgICAgLmdldEVsZW1lbnRCeUlkKFwiZWFydGhfdGVtcGxhdGVcIilcclxuICAgICAgICAuY2hpbGROb2Rlc1sxXS5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKTtcclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ3aW5kX3RlbXBsYXRlXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgZG9jdW1lbnRcclxuICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoXCJ3aW5kX3RlbXBsYXRlXCIpXHJcbiAgICAgICAgLmNoaWxkTm9kZXNbMV0ucmVtb3ZlQXR0cmlidXRlKFwiaWRcIik7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnJhZGlvX3dhdGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLnVwZGF0ZUZvcm0pO1xyXG5cclxuICAgIHRoaXMucmFkaW9fZWFydGguYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICBsZXQgZWFydGh0ZW1wID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlYXJ0aF90ZW1wbGF0ZVwiKTtcclxuICAgICAgZWFydGh0ZW1wLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgIGVhcnRodGVtcC5jaGlsZE5vZGVzWzFdLnNldEF0dHJpYnV0ZShcImlkXCIsIFwibW9uc3Rlcl9mb3JtXCIpO1xyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpcmVfdGVtcGxhdGVcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICBkb2N1bWVudFxyXG4gICAgICAgIC5nZXRFbGVtZW50QnlJZChcImZpcmVfdGVtcGxhdGVcIilcclxuICAgICAgICAuY2hpbGROb2Rlc1sxXS5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKTtcclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ3YXRlcl90ZW1wbGF0ZVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgIGRvY3VtZW50XHJcbiAgICAgICAgLmdldEVsZW1lbnRCeUlkKFwid2F0ZXJfdGVtcGxhdGVcIilcclxuICAgICAgICAuY2hpbGROb2Rlc1sxXS5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKTtcclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ3aW5kX3RlbXBsYXRlXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgZG9jdW1lbnRcclxuICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoXCJ3aW5kX3RlbXBsYXRlXCIpXHJcbiAgICAgICAgLmNoaWxkTm9kZXNbMV0ucmVtb3ZlQXR0cmlidXRlKFwiaWRcIik7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnJhZGlvX2VhcnRoLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLnVwZGF0ZUZvcm0pO1xyXG5cclxuICAgIHRoaXMucmFkaW9fd2luZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgIGxldCB3aW5kdGVtcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid2luZF90ZW1wbGF0ZVwiKTtcclxuICAgICAgd2luZHRlbXAuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgd2luZHRlbXAuY2hpbGROb2Rlc1sxXS5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcIm1vbnN0ZXJfZm9ybVwiKTtcclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmaXJlX3RlbXBsYXRlXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgZG9jdW1lbnRcclxuICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoXCJmaXJlX3RlbXBsYXRlXCIpXHJcbiAgICAgICAgLmNoaWxkTm9kZXNbMV0ucmVtb3ZlQXR0cmlidXRlKFwiaWRcIik7XHJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid2F0ZXJfdGVtcGxhdGVcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICBkb2N1bWVudFxyXG4gICAgICAgIC5nZXRFbGVtZW50QnlJZChcIndhdGVyX3RlbXBsYXRlXCIpXHJcbiAgICAgICAgLmNoaWxkTm9kZXNbMV0ucmVtb3ZlQXR0cmlidXRlKFwiaWRcIik7XHJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWFydGhfdGVtcGxhdGVcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICBkb2N1bWVudFxyXG4gICAgICAgIC5nZXRFbGVtZW50QnlJZChcImVhcnRoX3RlbXBsYXRlXCIpXHJcbiAgICAgICAgLmNoaWxkTm9kZXNbMV0ucmVtb3ZlQXR0cmlidXRlKFwiaWRcIik7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnJhZGlvX3dpbmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMudXBkYXRlRm9ybSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBNYXBWaWV3IHtcclxuICBjb25zdHJ1Y3Rvcih3ZWF0aGVyY29udHJvbGxlcikge1xyXG4gICAgdGhpcy5TVE9SQUdFX0tFWSA9IFwiem9vLWdyaWRcIjtcclxuICAgIHRoaXMubWFwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXBcIik7XHJcbiAgICB0aGlzLnJlbW92ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVtb3ZlXCIpO1xyXG5cclxuICAgIHRoaXMud2VhdGhlcmNvbnRyb2xsZXIgPSB3ZWF0aGVyY29udHJvbGxlcjtcclxuXHJcbiAgICAvLyBab28gd2lkdGggKHp3KSBhbmQgem9vIGhlaWdodCAoemgpXHJcblxyXG4gICAgdGhpcy56dyA9IDEwO1xyXG4gICAgdGhpcy56aCA9IDEwO1xyXG5cclxuICAgIC8vIExvYWQgYnV0dG9ucyBmcm9tIGluZGV4Lmh0bWxcclxuXHJcbiAgICBsZXQganVuZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJqdW5nbGVcIik7XHJcbiAgICBsZXQgZGVzZXJ0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNlcnRcIik7XHJcbiAgICBsZXQgbm9ydGhwb2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJub3J0aHBvbGVcIik7XHJcblxyXG4gICAganVuZ2xlLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIGp1bmdsZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm5lcy1idG4gaXMtZGlzYWJsZWRcIik7XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAvLyBCdXR0b25zIGZvciBzd2l0Y2hpbmcgYmV0d2VlbiBlbnZpcm9ubWVudHNcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIGp1bmdsZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBpZiAoanVuZ2xlLmRpc2FibGVkICE9IHRydWUpIHtcclxuICAgICAgICB0aGlzLmxvYWRHcmlkKDApO1xyXG4gICAgICAgIGp1bmdsZS5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgZGVzZXJ0LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgbm9ydGhwb2xlLmRpc2FibGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGp1bmdsZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm5lcy1idG4gaXMtZGlzYWJsZWRcIik7XHJcbiAgICAgICAgZGVzZXJ0LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwibmVzLWJ0biBpcy13YXJuaW5nXCIpO1xyXG4gICAgICAgIG5vcnRocG9sZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm5lcy1idG5cIik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGRlc2VydC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBpZiAoZGVzZXJ0LmRpc2FibGVkICE9IHRydWUpIHtcclxuICAgICAgICB0aGlzLmxvYWRHcmlkKDIpO1xyXG4gICAgICAgIGRlc2VydC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAganVuZ2xlLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgbm9ydGhwb2xlLmRpc2FibGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGRlc2VydC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm5lcy1idG4gaXMtZGlzYWJsZWRcIik7XHJcbiAgICAgICAganVuZ2xlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwibmVzLWJ0biBpcy1zdWNjZXNzXCIpO1xyXG4gICAgICAgIG5vcnRocG9sZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm5lcy1idG5cIik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIG5vcnRocG9sZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBpZiAobm9ydGhwb2xlLmRpc2FibGVkICE9IHRydWUpIHtcclxuICAgICAgICB0aGlzLmxvYWRHcmlkKDEpO1xyXG4gICAgICAgIG5vcnRocG9sZS5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgZGVzZXJ0LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAganVuZ2xlLmRpc2FibGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIG5vcnRocG9sZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm5lcy1idG4gaXMtZGlzYWJsZWRcIik7XHJcbiAgICAgICAganVuZ2xlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwibmVzLWJ0biBpcy1zdWNjZXNzXCIpO1xyXG4gICAgICAgIGRlc2VydC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm5lcy1idG4gaXMtd2FybmluZ1wiKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgLy8gSW5pdGlhbHNlIHRoZSBtYXAgZnJvbSBqdW5nbGVcclxuICAgIHRoaXMubG9hZEdyaWQoMCk7XHJcbiAgfVxyXG5cclxuICAvLyBGZXRjaCB0aGUgcmlnaHQganNvbiBncmlkIGJhc2VkIG9uIHRlcnJpYW4gaW5kZXhcclxuICBsb2FkR3JpZCh0ZXJyYWluKSB7XHJcbiAgICB0aGlzLnRlcnJhaW4gPSB0ZXJyYWluO1xyXG4gICAgZmV0Y2goXCIuL21hcC9ncmlkLmpzb25cIikudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgIHJlc3BvbnNlLmpzb24oKS50aGVuKGpzb24gPT4ge1xyXG4gICAgICAgIGxldCBqc29uc3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoanNvbik7XHJcbiAgICAgICAgdGhpcy53aG9sZWdyaWQgPSBKU09OLnBhcnNlKGpzb25zdHJpbmcpO1xyXG4gICAgICAgIGxldCBzdG9yYWdlID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLlNUT1JBR0VfS0VZKSk7XHJcbiAgICAgICAgaWYgKHN0b3JhZ2UgIT0gbnVsbCkge1xyXG4gICAgICAgICAgdGhpcy5ncmlkID0gc3RvcmFnZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5ncmlkID0gdGhpcy53aG9sZWdyaWQ7XHJcbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcclxuICAgICAgICAgICAgdGhpcy5TVE9SQUdFX0tFWSxcclxuICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkodGhpcy53aG9sZWdyaWQpXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNlbGVjdGVkID0gdGhpcy5ncmlkW3RlcnJhaW5dLmdyaWQ7XHJcbiAgICAgICAgdGhpcy53ZWF0aGVyY29udHJvbGxlci51cGRhdGVXZWF0aGVyKHRoaXMuZ3JpZFt0ZXJyYWluXS5yZWZlcmVuY2VfY2l0eSk7XHJcbiAgICAgICAgdGhpcy5pbml0UmVtb3ZlKCk7XHJcbiAgICAgICAgdGhpcy5kcmF3Qm9hcmQoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGRyYXdCb2FyZCgpIHtcclxuICAgIGxldCBvbGRCb2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ3JpZFwiKTtcclxuICAgIGlmIChvbGRCb2FyZCAhPSBudWxsKSB7XHJcbiAgICAgIG9sZEJvYXJkLnJlbW92ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMudGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGFibGVcIik7XHJcbiAgICB0aGlzLnRhYmxlLnNldEF0dHJpYnV0ZShcImlkXCIsIFwiZ3JpZFwiKTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuenc7IGkrKykge1xyXG4gICAgICB0aGlzLnRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xyXG4gICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHRoaXMuemg7IHkrKykge1xyXG4gICAgICAgIHRoaXMudGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XHJcblxyXG4gICAgICAgIC8vIERyYWcgYW5kIGRyb3AgZXZlbnRzXHJcblxyXG4gICAgICAgIHRoaXMudGQuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdvdmVyXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy50ZC5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ2VudGVyXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbGV0IGdyaWQgPSB0aGlzLmdyaWQ7XHJcbiAgICAgICAgbGV0IHRlcnJhaW4gPSB0aGlzLnRlcnJhaW47XHJcbiAgICAgICAgbGV0IHN0b3JhZ2VLZXkgPSB0aGlzLlNUT1JBR0VfS0VZO1xyXG5cclxuICAgICAgICB0aGlzLnRkLmFkZEV2ZW50TGlzdGVuZXIoXCJkcm9wXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIGxldCBkYXRhID0gZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YShcIlRleHRcIik7XHJcbiAgICAgICAgICBsZXQgbW9uc3RlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRhdGEpO1xyXG4gICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAhdGhpcy5oYXNDaGlsZE5vZGVzKCkgJiZcclxuICAgICAgICAgICAgbW9uc3Rlci5nZXRBdHRyaWJ1dGUoXCJkcmFnZ2FibGVcIikgPT09IFwidHJ1ZVwiXHJcbiAgICAgICAgICApIHtcclxuICAgICAgICAgICAgbGV0IG9yaWdpbiA9IG1vbnN0ZXIuZ2V0QXR0cmlidXRlKFwiaWRcIikuc3BsaXQoXCJ4XCIpO1xyXG4gICAgICAgICAgICBsZXQgY29vcmRpZCA9IHRoaXMuZ2V0QXR0cmlidXRlKFwiaWRcIikuc3BsaXQoXCItXCIpO1xyXG5cclxuICAgICAgICAgICAgZ3JpZFt0ZXJyYWluXS5ncmlkW2Nvb3JkaWRbMF1dLkNvbHVtbnNbY29vcmRpZFsxXV0gPSB7XHJcbiAgICAgICAgICAgICAgTmFtZTogXCJNYXJpam5cIlxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBpZiAobW9uc3Rlci5nZXRBdHRyaWJ1dGUoXCJpZFwiKSA9PT0gXCItMXgtMVwiKSB7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgZ3JpZFt0ZXJyYWluXS5ncmlkW29yaWdpblswXV0uQ29sdW1uc1tvcmlnaW5bMV1dID0gXCIwXCI7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHN0b3JhZ2VLZXksIEpTT04uc3RyaW5naWZ5KGdyaWQpKTtcclxuXHJcbiAgICAgICAgICAgIG1vbnN0ZXIuc2V0QXR0cmlidXRlKFwiaWRcIiwgY29vcmRpZFswXSArIFwieFwiICsgY29vcmRpZFsxXSk7XHJcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kKG1vbnN0ZXIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnRkLnNldEF0dHJpYnV0ZShcImlkXCIsIGkgKyBcIi1cIiArIHkpO1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMuc2VsZWN0ZWRbaV0uQ29sdW1uc1t5XSA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgdGhpcy5pbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG4gICAgICAgICAgdGhpcy5pbWcuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJtb25zdGVyXCIpO1xyXG5cclxuICAgICAgICAgIC8vRXZlcnkgbW9uc3RlciBnZXRzIGFuIGlkIGJhc2VkIG9uIHRoZWlyIGNvb3JkaW5hdGVzXHJcbiAgICAgICAgICB0aGlzLmltZy5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBpICsgXCJ4XCIgKyB5KTtcclxuICAgICAgICAgIHRoaXMuaW1nLnNyYyA9IFwiLi4vc3JjL1Jlc291cmNlcy9vcmFuZ2Vtb25zdGVyLnBuZ1wiO1xyXG5cclxuICAgICAgICAgIHRoaXMuaW1nLmRyYWdnYWJsZSA9IHRydWU7XHJcbiAgICAgICAgICB0aGlzLmltZy5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ3N0YXJ0XCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgZS5kYXRhVHJhbnNmZXIuc2V0RGF0YShcIlRleHRcIiwgZS50YXJnZXQuaWQpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICB0aGlzLnRkLmFwcGVuZENoaWxkKHRoaXMuaW1nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkW2ldLkNvbHVtbnNbeV0gPT0gMSkge1xyXG4gICAgICAgICAgdGhpcy5pbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG4gICAgICAgICAgdGhpcy5pbWcuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJzdG9uZVwiKTtcclxuXHJcbiAgICAgICAgICAvL0V2ZXJ5IG1vbnN0ZXIgZ2V0cyBhbiBpZCBiYXNlZCBvbiB0aGVpciBjb29yZGluYXRlc1xyXG4gICAgICAgICAgdGhpcy5pbWcuc2V0QXR0cmlidXRlKFwiaWRcIiwgaSArIFwieFwiICsgeSk7XHJcblxyXG4gICAgICAgICAgc3dpdGNoICh0ZXJyYWluKSB7XHJcbiAgICAgICAgICAgIC8vIEp1bmdsZVxyXG4gICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgdGhpcy5pbWcuc3JjID0gXCIuLi9zcmMvUmVzb3VyY2VzL2p1bmdsZXJvY2sucG5nXCI7XHJcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXBcIikuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCIjMjg5MTUwXCI7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAvLyBOb3J0cG9sZVxyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgdGhpcy5pbWcuc3JjID0gXCIuLi9zcmMvUmVzb3VyY2VzL2ljZWNodW5rLnBuZ1wiO1xyXG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFwXCIpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiI0Q4RkZGRlwiO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgLy8gRGVzZXJ0XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICB0aGlzLmltZy5zcmMgPSBcIi4uL3NyYy9SZXNvdXJjZXMvY2FjdHVzLnBuZ1wiO1xyXG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFwXCIpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiI0VEQzlBRlwiO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRoaXMudGQuYXBwZW5kQ2hpbGQodGhpcy5pbWcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRyLmFwcGVuZENoaWxkKHRoaXMudGQpO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMudGFibGUuYXBwZW5kQ2hpbGQodGhpcy50cik7XHJcbiAgICB9XHJcbiAgICB0aGlzLm1hcC5hcHBlbmRDaGlsZCh0aGlzLnRhYmxlKTtcclxuICB9XHJcblxyXG4gIGluaXRSZW1vdmUoKSB7XHJcbiAgICBsZXQgZ3JpZCA9IHRoaXMuZ3JpZDtcclxuICAgIGxldCB0ZXJyYWluID0gdGhpcy50ZXJyYWluO1xyXG4gICAgbGV0IHN0b3JhZ2VLZXkgPSB0aGlzLlNUT1JBR0VfS0VZO1xyXG4gICAgdGhpcy5yZW1vdmUuYWRkRXZlbnRMaXN0ZW5lcihcImRyb3BcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICBsZXQgZGF0YSA9IGUuZGF0YVRyYW5zZmVyLmdldERhdGEoXCJUZXh0XCIpO1xyXG4gICAgICBsZXQgbW9uc3RlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRhdGEpO1xyXG4gICAgICBsZXQgb3JpZ2luID0gbW9uc3Rlci5nZXRBdHRyaWJ1dGUoXCJpZFwiKS5zcGxpdChcInhcIik7XHJcblxyXG4gICAgICBncmlkW3RlcnJhaW5dLmdyaWRbb3JpZ2luWzBdXS5Db2x1bW5zW29yaWdpblsxXV0gPSBcIjBcIjtcclxuXHJcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHN0b3JhZ2VLZXksIEpTT04uc3RyaW5naWZ5KGdyaWQpKTtcclxuXHJcbiAgICAgIG1vbnN0ZXIucmVtb3ZlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnJlbW92ZS5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ292ZXJcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnJlbW92ZS5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ2VudGVyXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBXZWF0aGVyRGF0YVNlcnZpY2Uge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuYXBpa2V5ID0gJzZlZmMzNWMzYzI2MTFlNDE0ZWE2NmRhNzZiMmUzZjBiJztcclxuICAgICAgICB0aGlzLnVuaXRzID0gJ21ldHJpYyc7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q3VycmVudFdlYXRoZXIoY2l0eU5hbWUpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYGh0dHA6Ly9hcGkub3BlbndlYXRoZXJtYXAub3JnL2RhdGEvMi41L3dlYXRoZXI/cT0ke2NpdHlOYW1lfSZhcHBpZD0ke3RoaXMuYXBpa2V5fSZ1bml0cz0ke3RoaXMudW5pdHN9YClcclxuICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKG15SnNvbikge1xyXG4gICAgICAgICAgcmV0dXJuIG15SnNvbjtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIFdlYXRoZXJWaWV3IHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmltZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3ZWF0aGVyaW1nJyk7XHJcbiAgICAgICAgdGhpcy50ZW1wID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RlbXAnKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVXZWF0aGVyKHRlbXApIHtcclxuICAgICAgICB0aGlzLnRlbXAuaW5uZXJUZXh0ID0gYCR7dGVtcH3CsCBDZWxjaXVzYDtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFdlYXRoZXJEYXRhU2VydmljZSB9IGZyb20gXCIuLi9Nb2RlbC9XZWF0aGVyRGF0YVNlcnZpY2VcIjtcclxuaW1wb3J0IHsgV2VhdGhlclZpZXcgfSBmcm9tIFwiLi4vVmlldy9XZWF0aGVyVmlld1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFdlYXRoZXJDb250cm9sbGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMud2VhdGhlcmRhdGEgPSBuZXcgV2VhdGhlckRhdGFTZXJ2aWNlKCk7XHJcbiAgICAgICAgdGhpcy53ZWF0aGVydmlldyA9IG5ldyBXZWF0aGVyVmlldygpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVdlYXRoZXIoY2l0eSkge1xyXG4gICAgICAgIGxldCB3ZWF0aGVydmlldyA9IHRoaXMud2VhdGhlcnZpZXc7XHJcbiAgICAgICAgdGhpcy53ZWF0aGVyZGF0YS5nZXRDdXJyZW50V2VhdGhlcihjaXR5KS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgd2VhdGhlcnZpZXcudXBkYXRlV2VhdGhlcihkYXRhLm1haW4udGVtcCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBNb25zdGVyU2VydmljZSB9IGZyb20gJy4uL21vZGVsL01vbnN0ZXJTZXJ2aWNlJ1xyXG5pbXBvcnQgeyBDcmVhdGVNb25zdGVyVmlldyB9IGZyb20gJy4uL3ZpZXcvQ3JlYXRlTW9uc3RlclZpZXcnO1xyXG5pbXBvcnQgeyBNYXBWaWV3IH0gZnJvbSAnLi4vdmlldy9NYXBWaWV3JztcclxuaW1wb3J0IHsgV2VhdGhlckNvbnRyb2xsZXIgfSBmcm9tICcuL1dlYXRoZXJDb250cm9sbGVyJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFpvb0NvbnRyb2xsZXJcclxue1xyXG4gICAgLy9lbCBjb25zdHJ1Y3RvclxyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICB0aGlzLndlYXRoZXJjb250cm9sbGVyID0gbmV3IFdlYXRoZXJDb250cm9sbGVyKCk7XHJcblxyXG4gICAgICAgIHRoaXMubW9uc3RlcnNlcnZpY2UgPSBuZXcgTW9uc3RlclNlcnZpY2UoKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZW1vbnN0ZXJ2aWV3ID0gIG5ldyBDcmVhdGVNb25zdGVyVmlldyh0aGlzKTtcclxuXHJcbiAgICAgICAgdGhpcy5tYXB2aWV3ID0gbmV3IE1hcFZpZXcodGhpcy53ZWF0aGVyY29udHJvbGxlcik7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkTW9uc3RlcihkYXRhKXtcclxuICAgICAgICBsZXQgbmV3TW9uc3RlciA9IG5ldyBNb25zdGVyKGRhdGEpO1xyXG4gICAgICAgIHRoaXMubW9uc3RlcnNlcnZpY2Uuc2F2ZU1vbnN0ZXIobmV3TW9uc3Rlcik7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgWm9vQ29udHJvbGxlciBmcm9tICcuL0NvbnRyb2xsZXIvWm9vQ29udHJvbGxlcic7XHJcblxyXG5sZXQgem9vY29udHJvbGxlciA9IG5ldyBab29Db250cm9sbGVyKCk7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n')}]);