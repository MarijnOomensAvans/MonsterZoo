!function(n){var I={};function g(t){if(I[t])return I[t].exports;var e=I[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,g),e.l=!0,e.exports}g.m=n,g.c=I,g.d=function(n,I,t){g.o(n,I)||Object.defineProperty(n,I,{enumerable:!0,get:t})},g.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},g.t=function(n,I){if(1&I&&(n=g(n)),8&I)return n;if(4&I&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(g.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&I&&"string"!=typeof n)for(var e in n)g.d(t,e,function(I){return n[I]}.bind(null,e));return t},g.n=function(n){var I=n&&n.__esModule?function(){return n.default}:function(){return n};return g.d(I,"a",I),I},g.o=function(n,I){return Object.prototype.hasOwnProperty.call(n,I)},g.p="",g(g.s=1)}([function(module,exports){eval("class Monster{\r\n    // MonsterData exists of element, name, arms, type_arms, legs, eyes, skintype, ability to fly, ability to swim,color ,map, coördinaten\r\n    constructor(monsterdata){\r\n        Object.assign(this.monsterdata)\r\n    }\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvTW9uc3Rlci5qcz81MThkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgTW9uc3RlcntcclxuICAgIC8vIE1vbnN0ZXJEYXRhIGV4aXN0cyBvZiBlbGVtZW50LCBuYW1lLCBhcm1zLCB0eXBlX2FybXMsIGxlZ3MsIGV5ZXMsIHNraW50eXBlLCBhYmlsaXR5IHRvIGZseSwgYWJpbGl0eSB0byBzd2ltLGNvbG9yICxtYXAsIGNvw7ZyZGluYXRlblxyXG4gICAgY29uc3RydWN0b3IobW9uc3RlcmRhdGEpe1xyXG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5tb25zdGVyZGF0YSlcclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./src/model/Monster.js\nvar model_Monster = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/model/MonsterService.js\n\r\n\r\n\r\nclass MonsterService\r\n{\r\n    constructor(){\r\n        this.monsters = [\r\n            // new Monster({name: \'Marijn\', element: \'fire\',  arms: 2, type_arms: \'tentakels\', legs: 2, eyes: 4, skintype: \'schubben\', fly: \'nee\', swim: \'nee\', color: \'oranje\', map: 0, xcoördinaat: 1, ycoördinaat: 1}),\r\n            // new Monster({name: \'Thijs\', element: \'fire\',  arms: 6, type_arms: \'klauw-vleugels\', legs: 0, eyes: 3, skintype: \'veren\', fly: \'ja\', swim: \'nee\', color: \'bruin\', map: 0, xcoördinaat: 2, ycoördinaat: 2})\r\n        ]\r\n    }\r\n\r\n    getMonsters()\r\n    {\r\n        return this.monsters;\r\n    }\r\n\r\n    saveMonster(monster){\r\n       this.monsters.push(monster);\r\n    }\r\n}\r\n\n// CONCATENATED MODULE: ./src/view/CreateMonsterView.js\nclass CreateMonsterView {\r\n\r\n    // template;\r\n    // monsterform;\r\n    // radio_fire;\r\n    // radio_water;\r\n    // radio_earth;\r\n    // radio_wind;\r\n    // switch_int;\r\n\r\n\r\n    constructor(controller) {\r\n        this.template = document.getElementById(\'create_monster\');\r\n        this.monsterform = document.getElementById(\'monster_form\');\r\n\r\n        this.radio_fire = document.getElementById(\'element_fire\');\r\n        this.radio_water = document.getElementById(\'element_water\');\r\n        this.radio_earth = document.getElementById(\'element_earth\');\r\n        this.radio_wind = document.getElementById(\'element_wind\');\r\n        this.windfurselect = document.getElementById(\'windfurtype\');\r\n        this.firefurselect = document.getElementById(\'firefurtype\');\r\n        this.firearmsselect = document.getElementById(\'firearms\');\r\n        this.waterarmsselect = document.getElementById(\'waterarms\');\r\n\r\n        //events\r\n        this.radio_fire.addEventListener(\'click\', function () {\r\n            document.getElementById("fire_template").style.display =\r\n                this.checked ? "block" : "none";\r\n            document.getElementById("water_template").style.display = \'none\';\r\n            document.getElementById("earth_template").style.display = \'none\';\r\n            document.getElementById("wind_template").style.display = \'none\';\r\n        });\r\n\r\n        this.radio_water.addEventListener(\'click\', function () {\r\n            document.getElementById("water_template").style.display =\r\n                this.checked ? "block" : "none";\r\n            document.getElementById("fire_template").style.display = \'none\';\r\n            document.getElementById("earth_template").style.display = \'none\';\r\n            document.getElementById("wind_template").style.display = \'none\';\r\n        });\r\n\r\n        this.radio_earth.addEventListener(\'click\', function () {\r\n            document.getElementById("earth_template").style.display =\r\n                this.checked ? "block" : "none";\r\n            document.getElementById("fire_template").style.display = \'none\';\r\n            document.getElementById("water_template").style.display = \'none\';\r\n            document.getElementById("wind_template").style.display = \'none\';\r\n        });\r\n\r\n        this.radio_wind.addEventListener(\'click\', function () {\r\n            document.getElementById("wind_template").style.display =\r\n                this.checked ? "block" : "none";\r\n            document.getElementById("fire_template").style.display = \'none\';\r\n            document.getElementById("water_template").style.display = \'none\';\r\n            document.getElementById("earth_template").style.display = \'none\';\r\n        });\r\n\r\n\r\n        this.windfurselect.addEventListener(\'change\', function () {\r\n            var wind_fur = document.getElementById("windfurtype").value;\r\n            if (wind_fur == "Feathers") {\r\n                document.getElementById("windSwim").innerHTML = "no";\r\n                document.getElementById("windSwim").value = false;\r\n            }\r\n            else {\r\n                document.getElementById("windSwim").innerHTML = "yes";\r\n                document.getElementById("windSwim").value = true;\r\n            }\r\n        });\r\n\r\n        this.firefurselect.addEventListener(\'change\', function () {\r\n            var fire_fur = document.getElementById("firefurtype").value;\r\n            if (fire_fur == "Feathers") {\r\n                document.getElementById("fireFly").innerHTML = "yes";\r\n                document.getElementById("fireFly").value = true;\r\n\r\n            }\r\n            else {\r\n                document.getElementById("fireFly").innerHTML = "no";\r\n                document.getElementById("fireFly").value = true;\r\n            }\r\n        });\r\n\r\n        this.waterarmsselect.addEventListener(\'change\', function () {\r\n            var water_int = document.getElementById("waterarms").value;\r\n            if (water_int <= 4) {\r\n                document.getElementById("water_legs").innerHTML = "";\r\n                document.getElementById("options").style.display = \'block\';\r\n            }\r\n            else {\r\n                document.getElementById("water_legs").innerHTML = 0;\r\n                document.getElementById("options").style.display = \'none\';\r\n                document.getElementById("options").value = 0;\r\n            }\r\n        });\r\n\r\n        this.firearmsselect.addEventListener(\'change\', function () {\r\n            var fire_int = document.getElementById("firearms").value;\r\n            if (fire_int <= 2) {\r\n                document.getElementById("fire_legs").innerHTML = 2;\r\n                document.getElementById("fire_legs").value = 2;\r\n            }\r\n            else {\r\n                document.getElementById("fire_legs").innerHTML = 0;\r\n                document.getElementById("fire_legs").value = 0;\r\n            }\r\n        });\r\n\r\n        this.monsterform.addEventListener(\'submit\', function (e) {\r\n            e.preventDefault();\r\n            controller.addMonster({\r\n                name: this.name.value,\r\n                element: this.element.value,\r\n                arms: this.arms.value,\r\n                type_arms: this.type_arms.value,\r\n                legs: this.legs.value,\r\n                eyes: this.eyes.value,\r\n                furtype: this.furtype.value,\r\n                fly: this.fly.value,\r\n                swim: this.swim.value,\r\n                color: this.color.value\r\n            })\r\n        })\r\n    }\r\n}\n// CONCATENATED MODULE: ./src/view/MapView.js\nclass MapView {\r\n  constructor() {\r\n    this.map = document.getElementById("map");\r\n\r\n    // Zoo width (zw) and zoo height (zh)\r\n\r\n    this.zw = 10;\r\n    this.zh = 10;\r\n\r\n    // Load buttons from index.html\r\n\r\n    let jungle = document.getElementById("jungle");\r\n    let desert = document.getElementById("desert");\r\n    let northpole = document.getElementById("northpole");\r\n\r\n    jungle.disabled = true;\r\n    jungle.setAttribute("class", "nes-btn is-disabled");\r\n\r\n    \r\n    // ---------------------------------------------------------------------------------------------------------\r\n    // Buttons for switching between environments\r\n    // ---------------------------------------------------------------------------------------------------------\r\n\r\n    jungle.addEventListener("click", () => {\r\n      if (jungle.disabled != true) {\r\n        this.loadGrid(0);\r\n        jungle.disabled = true;\r\n        desert.disabled = false;\r\n        northpole.disabled = false;\r\n\r\n        jungle.setAttribute("class", "nes-btn is-disabled");\r\n        desert.setAttribute("class", "nes-btn is-warning");\r\n        northpole.setAttribute("class", "nes-btn");\r\n      }\r\n    });\r\n\r\n    desert.addEventListener("click", () => {\r\n      if (desert.disabled != true) {\r\n        this.loadGrid(2);\r\n        desert.disabled = true;\r\n        jungle.disabled = false;\r\n        northpole.disabled = false;\r\n\r\n        desert.setAttribute("class", "nes-btn is-disabled");\r\n        jungle.setAttribute("class", "nes-btn is-success");\r\n        northpole.setAttribute("class", "nes-btn");\r\n      }\r\n    });\r\n\r\n    northpole.addEventListener("click", () => {\r\n      if (northpole.disabled != true) {\r\n        this.loadGrid(1);\r\n        northpole.disabled = true;\r\n        desert.disabled = false;\r\n        jungle.disabled = false;\r\n\r\n        northpole.setAttribute("class", "nes-btn is-disabled");\r\n        jungle.setAttribute("class", "nes-btn is-success");\r\n        desert.setAttribute("class", "nes-btn is-warning");\r\n      }\r\n    });\r\n\r\n    // ---------------------------------------------------------------------------------------------------------\r\n\r\n\r\n    // Initialse the map from jungle\r\n    this.loadGrid(0);\r\n  }\r\n\r\n  // Fetch the right json grid based on terrian index\r\n  loadGrid(terrain) {\r\n    fetch("./map/grid.json").then(response => {\r\n      response.json().then(json => {\r\n        let jsonstring = JSON.stringify(json);\r\n        this.grid = JSON.parse(jsonstring)[terrain].grid;\r\n        this.drawBoard(terrain);\r\n      });\r\n    });\r\n  }\r\n\r\n  drawBoard(terrain) {\r\n    let oldBoard = document.getElementById("grid");\r\n    if (oldBoard != null) {\r\n      oldBoard.remove();\r\n    }\r\n\r\n    this.table = document.createElement("table");\r\n    this.table.setAttribute("id", "grid");\r\n\r\n    for (let i = 0; i < this.zw; i++) {\r\n      this.tr = document.createElement("tr");\r\n      for (let y = 0; y < this.zh; y++) {\r\n        this.td = document.createElement("td");\r\n\r\n        // Drag and drop events\r\n\r\n        this.td.addEventListener("dragover", this.dragover);\r\n        this.td.addEventListener("dragenter", this.dragenter);\r\n        this.td.addEventListener("drop", this.drop);\r\n        this.td.setAttribute("id", i + "-" + y);\r\n\r\n        if (typeof(this.grid[i].Columns[y]) === \'object\') {\r\n          this.img = document.createElement("img");\r\n          this.img.setAttribute("class", "monster");\r\n\r\n          //Every monster gets an id based on their coordinates\r\n          this.img.setAttribute("id", i + "x" + y);\r\n                this.img.src =\r\n                "../src/Resources/orangemonster.png";\r\n\r\n          this.img.draggable = true;\r\n          this.img.addEventListener("dragstart", this.drag);\r\n          this.td.appendChild(this.img);\r\n        }\r\n\r\n        if (this.grid[i].Columns[y] == 1) {\r\n          this.img = document.createElement("img");\r\n          this.img.setAttribute("class", "stone");\r\n\r\n          //Every monster gets an id based on their coordinates\r\n          this.img.setAttribute("id", i + "x" + y);\r\n\r\n          switch (terrain) {\r\n            // Jungle\r\n            case 0:\r\n                this.img.src =\r\n                "../src/Resources/junglerock.png";\r\n              break;\r\n\r\n            // Nortpole\r\n            case 1:\r\n                this.img.src =\r\n                "../src/Resources/icechunk.png";\r\n              break;\r\n\r\n            // Desert\r\n            case 2:\r\n                this.img.src =\r\n                "../src/Resources/cactus.png";\r\n              break;\r\n\r\n            default:\r\n              break;\r\n          }\r\n          this.td.appendChild(this.img);\r\n        }\r\n\r\n        this.tr.appendChild(this.td);\r\n      }\r\n      this.table.appendChild(this.tr);\r\n    }\r\n    this.map.appendChild(this.table);\r\n  }\r\n\r\n  drag(e) {\r\n    e.dataTransfer.setData("Text", e.target.id);\r\n  }\r\n  dragover(e) {\r\n    e.preventDefault();\r\n  }\r\n  dragenter(e) {\r\n    e.preventDefault();\r\n  }\r\n  drop(e) {\r\n    let data = e.dataTransfer.getData("Text");\r\n    let monster = document.getElementById(data);\r\n    if(!this.hasChildNodes() && monster.getAttribute("draggable") === "true") {\r\n      this.append(monster);\r\n    }\r\n  }\r\n}\r\n\n// CONCATENATED MODULE: ./src/Model/WeatherDataService.js\nclass WeatherDataService {\r\n\r\n    constructor() {\r\n        this.apikey = \'6efc35c3c2611e414ea66da76b2e3f0b\';\r\n        this.units = \'metric\';\r\n    }\r\n\r\n    getCurrentWeather(cityName) {\r\n        fetch(`http://api.openweathermap.org/data/2.5/weather?q=${cityName}&appid=${this.apikey}&units=${this.units}`)\r\n        .then(function(response) {\r\n          return response.json();\r\n        })\r\n        .then(function(myJson) {\r\n          console.log(JSON.stringify(myJson));\r\n        });\r\n      }\r\n}\n// CONCATENATED MODULE: ./src/Controller/WeatherController.js\n\r\n\r\nclass WeatherController_WeatherController {\r\n    constructor() {\r\n        this.weatherdata = new WeatherDataService();\r\n    }\r\n}\n// CONCATENATED MODULE: ./src/Controller/ZooController.js\n\r\n\r\n\r\n\r\n\r\n\r\nclass ZooController_ZooController\r\n{\r\n    //el constructor\r\n    constructor(){\r\n        this.monsterservice = new MonsterService();\r\n        this.createmonsterview =  new CreateMonsterView(this);\r\n        this.mapview = new MapView();\r\n\r\n    }\r\n\r\n    addMonster(data){\r\n        var newMonster = new Monster(data);\r\n        this.monsterservice.saveMonster(newMonster);\r\n    }\r\n}\n// CONCATENATED MODULE: ./src/app.js\n\r\n\r\nlet zoocontroller = new ZooController_ZooController();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvTW9uc3RlclNlcnZpY2UuanM/MDg5MiIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9DcmVhdGVNb25zdGVyVmlldy5qcz9jNzcwIiwid2VicGFjazovLy8uL3NyYy92aWV3L01hcFZpZXcuanM/MDk0OCIsIndlYnBhY2s6Ly8vLi9zcmMvTW9kZWwvV2VhdGhlckRhdGFTZXJ2aWNlLmpzP2ZjOGUiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbnRyb2xsZXIvV2VhdGhlckNvbnRyb2xsZXIuanM/MTVmNCIsIndlYnBhY2s6Ly8vLi9zcmMvQ29udHJvbGxlci9ab29Db250cm9sbGVyLmpzP2JjZDkiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC5qcz8xMTEyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFvQzs7O0FBRzdCO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDRMQUE0TDtBQUN4Tiw0QkFBNEIsMkxBQTJMO0FBQ3ZOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQ3BCTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOzs7QUFHVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0EsQzs7QUM1SE87QUFDUDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsbUJBQW1CLGFBQWE7QUFDaEM7QUFDQSxxQkFBcUIsYUFBYTtBQUNsQzs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUMxS087O0FBRVA7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrRUFBa0UsU0FBUyxTQUFTLFlBQVksU0FBUyxXQUFXO0FBQ3BIO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEM7O0FDaEJpRTs7QUFFMUQsTUFBTSxtQ0FBaUI7QUFDOUI7QUFDQSwrQkFBK0Isa0JBQWtCO0FBQ2pEO0FBQ0EsQzs7QUNOd0Q7QUFDTTtBQUNwQjtBQUN1QjtBQUNUOztBQUV6QyxNQUFNLDJCQUFhO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxjQUFjO0FBQ2hELHNDQUFzQyxpQkFBaUI7QUFDdkQsMkJBQTJCLE9BQU87O0FBRWxDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQzs7QUNwQnVEOztBQUV2RCx3QkFBd0IsMkJBQWEiLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1vbnN0ZXIgfSBmcm9tICcuL01vbnN0ZXInO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBNb25zdGVyU2VydmljZVxyXG57XHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHRoaXMubW9uc3RlcnMgPSBbXHJcbiAgICAgICAgICAgIC8vIG5ldyBNb25zdGVyKHtuYW1lOiAnTWFyaWpuJywgZWxlbWVudDogJ2ZpcmUnLCAgYXJtczogMiwgdHlwZV9hcm1zOiAndGVudGFrZWxzJywgbGVnczogMiwgZXllczogNCwgc2tpbnR5cGU6ICdzY2h1YmJlbicsIGZseTogJ25lZScsIHN3aW06ICduZWUnLCBjb2xvcjogJ29yYW5qZScsIG1hcDogMCwgeGNvw7ZyZGluYWF0OiAxLCB5Y2/DtnJkaW5hYXQ6IDF9KSxcclxuICAgICAgICAgICAgLy8gbmV3IE1vbnN0ZXIoe25hbWU6ICdUaGlqcycsIGVsZW1lbnQ6ICdmaXJlJywgIGFybXM6IDYsIHR5cGVfYXJtczogJ2tsYXV3LXZsZXVnZWxzJywgbGVnczogMCwgZXllczogMywgc2tpbnR5cGU6ICd2ZXJlbicsIGZseTogJ2phJywgc3dpbTogJ25lZScsIGNvbG9yOiAnYnJ1aW4nLCBtYXA6IDAsIHhjb8O2cmRpbmFhdDogMiwgeWNvw7ZyZGluYWF0OiAyfSlcclxuICAgICAgICBdXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TW9uc3RlcnMoKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1vbnN0ZXJzO1xyXG4gICAgfVxyXG5cclxuICAgIHNhdmVNb25zdGVyKG1vbnN0ZXIpe1xyXG4gICAgICAgdGhpcy5tb25zdGVycy5wdXNoKG1vbnN0ZXIpO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBDcmVhdGVNb25zdGVyVmlldyB7XHJcblxyXG4gICAgLy8gdGVtcGxhdGU7XHJcbiAgICAvLyBtb25zdGVyZm9ybTtcclxuICAgIC8vIHJhZGlvX2ZpcmU7XHJcbiAgICAvLyByYWRpb193YXRlcjtcclxuICAgIC8vIHJhZGlvX2VhcnRoO1xyXG4gICAgLy8gcmFkaW9fd2luZDtcclxuICAgIC8vIHN3aXRjaF9pbnQ7XHJcblxyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNvbnRyb2xsZXIpIHtcclxuICAgICAgICB0aGlzLnRlbXBsYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NyZWF0ZV9tb25zdGVyJyk7XHJcbiAgICAgICAgdGhpcy5tb25zdGVyZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb25zdGVyX2Zvcm0nKTtcclxuXHJcbiAgICAgICAgdGhpcy5yYWRpb19maXJlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VsZW1lbnRfZmlyZScpO1xyXG4gICAgICAgIHRoaXMucmFkaW9fd2F0ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWxlbWVudF93YXRlcicpO1xyXG4gICAgICAgIHRoaXMucmFkaW9fZWFydGggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWxlbWVudF9lYXJ0aCcpO1xyXG4gICAgICAgIHRoaXMucmFkaW9fd2luZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbGVtZW50X3dpbmQnKTtcclxuICAgICAgICB0aGlzLndpbmRmdXJzZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2luZGZ1cnR5cGUnKTtcclxuICAgICAgICB0aGlzLmZpcmVmdXJzZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlyZWZ1cnR5cGUnKTtcclxuICAgICAgICB0aGlzLmZpcmVhcm1zc2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpcmVhcm1zJyk7XHJcbiAgICAgICAgdGhpcy53YXRlcmFybXNzZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2F0ZXJhcm1zJyk7XHJcblxyXG4gICAgICAgIC8vZXZlbnRzXHJcbiAgICAgICAgdGhpcy5yYWRpb19maXJlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpcmVfdGVtcGxhdGVcIikuc3R5bGUuZGlzcGxheSA9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrZWQgPyBcImJsb2NrXCIgOiBcIm5vbmVcIjtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ3YXRlcl90ZW1wbGF0ZVwiKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVhcnRoX3RlbXBsYXRlXCIpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid2luZF90ZW1wbGF0ZVwiKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnJhZGlvX3dhdGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIndhdGVyX3RlbXBsYXRlXCIpLnN0eWxlLmRpc3BsYXkgPVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja2VkID8gXCJibG9ja1wiIDogXCJub25lXCI7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmlyZV90ZW1wbGF0ZVwiKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVhcnRoX3RlbXBsYXRlXCIpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid2luZF90ZW1wbGF0ZVwiKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnJhZGlvX2VhcnRoLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVhcnRoX3RlbXBsYXRlXCIpLnN0eWxlLmRpc3BsYXkgPVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja2VkID8gXCJibG9ja1wiIDogXCJub25lXCI7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmlyZV90ZW1wbGF0ZVwiKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIndhdGVyX3RlbXBsYXRlXCIpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid2luZF90ZW1wbGF0ZVwiKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnJhZGlvX3dpbmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid2luZF90ZW1wbGF0ZVwiKS5zdHlsZS5kaXNwbGF5ID1cclxuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tlZCA/IFwiYmxvY2tcIiA6IFwibm9uZVwiO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpcmVfdGVtcGxhdGVcIikuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ3YXRlcl90ZW1wbGF0ZVwiKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVhcnRoX3RlbXBsYXRlXCIpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLndpbmRmdXJzZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgd2luZF9mdXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIndpbmRmdXJ0eXBlXCIpLnZhbHVlO1xyXG4gICAgICAgICAgICBpZiAod2luZF9mdXIgPT0gXCJGZWF0aGVyc1wiKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIndpbmRTd2ltXCIpLmlubmVySFRNTCA9IFwibm9cIjtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid2luZFN3aW1cIikudmFsdWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid2luZFN3aW1cIikuaW5uZXJIVE1MID0gXCJ5ZXNcIjtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid2luZFN3aW1cIikudmFsdWUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuZmlyZWZ1cnNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBmaXJlX2Z1ciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmlyZWZ1cnR5cGVcIikudmFsdWU7XHJcbiAgICAgICAgICAgIGlmIChmaXJlX2Z1ciA9PSBcIkZlYXRoZXJzXCIpIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmlyZUZseVwiKS5pbm5lckhUTUwgPSBcInllc1wiO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmaXJlRmx5XCIpLnZhbHVlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpcmVGbHlcIikuaW5uZXJIVE1MID0gXCJub1wiO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmaXJlRmx5XCIpLnZhbHVlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLndhdGVyYXJtc3NlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciB3YXRlcl9pbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIndhdGVyYXJtc1wiKS52YWx1ZTtcclxuICAgICAgICAgICAgaWYgKHdhdGVyX2ludCA8PSA0KSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIndhdGVyX2xlZ3NcIikuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwib3B0aW9uc1wiKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid2F0ZXJfbGVnc1wiKS5pbm5lckhUTUwgPSAwO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJvcHRpb25zXCIpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm9wdGlvbnNcIikudmFsdWUgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuZmlyZWFybXNzZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZmlyZV9pbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpcmVhcm1zXCIpLnZhbHVlO1xyXG4gICAgICAgICAgICBpZiAoZmlyZV9pbnQgPD0gMikge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmaXJlX2xlZ3NcIikuaW5uZXJIVE1MID0gMjtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmlyZV9sZWdzXCIpLnZhbHVlID0gMjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmlyZV9sZWdzXCIpLmlubmVySFRNTCA9IDA7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpcmVfbGVnc1wiKS52YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5tb25zdGVyZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuYWRkTW9uc3Rlcih7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUudmFsdWUsXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50OiB0aGlzLmVsZW1lbnQudmFsdWUsXHJcbiAgICAgICAgICAgICAgICBhcm1zOiB0aGlzLmFybXMudmFsdWUsXHJcbiAgICAgICAgICAgICAgICB0eXBlX2FybXM6IHRoaXMudHlwZV9hcm1zLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgbGVnczogdGhpcy5sZWdzLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgZXllczogdGhpcy5leWVzLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgZnVydHlwZTogdGhpcy5mdXJ0eXBlLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgZmx5OiB0aGlzLmZseS52YWx1ZSxcclxuICAgICAgICAgICAgICAgIHN3aW06IHRoaXMuc3dpbS52YWx1ZSxcclxuICAgICAgICAgICAgICAgIGNvbG9yOiB0aGlzLmNvbG9yLnZhbHVlXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBNYXBWaWV3IHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMubWFwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXBcIik7XHJcblxyXG4gICAgLy8gWm9vIHdpZHRoICh6dykgYW5kIHpvbyBoZWlnaHQgKHpoKVxyXG5cclxuICAgIHRoaXMuencgPSAxMDtcclxuICAgIHRoaXMuemggPSAxMDtcclxuXHJcbiAgICAvLyBMb2FkIGJ1dHRvbnMgZnJvbSBpbmRleC5odG1sXHJcblxyXG4gICAgbGV0IGp1bmdsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwianVuZ2xlXCIpO1xyXG4gICAgbGV0IGRlc2VydCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVzZXJ0XCIpO1xyXG4gICAgbGV0IG5vcnRocG9sZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibm9ydGhwb2xlXCIpO1xyXG5cclxuICAgIGp1bmdsZS5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICBqdW5nbGUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJuZXMtYnRuIGlzLWRpc2FibGVkXCIpO1xyXG5cclxuICAgIFxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAvLyBCdXR0b25zIGZvciBzd2l0Y2hpbmcgYmV0d2VlbiBlbnZpcm9ubWVudHNcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIGp1bmdsZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBpZiAoanVuZ2xlLmRpc2FibGVkICE9IHRydWUpIHtcclxuICAgICAgICB0aGlzLmxvYWRHcmlkKDApO1xyXG4gICAgICAgIGp1bmdsZS5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgZGVzZXJ0LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgbm9ydGhwb2xlLmRpc2FibGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGp1bmdsZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm5lcy1idG4gaXMtZGlzYWJsZWRcIik7XHJcbiAgICAgICAgZGVzZXJ0LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwibmVzLWJ0biBpcy13YXJuaW5nXCIpO1xyXG4gICAgICAgIG5vcnRocG9sZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm5lcy1idG5cIik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGRlc2VydC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBpZiAoZGVzZXJ0LmRpc2FibGVkICE9IHRydWUpIHtcclxuICAgICAgICB0aGlzLmxvYWRHcmlkKDIpO1xyXG4gICAgICAgIGRlc2VydC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAganVuZ2xlLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgbm9ydGhwb2xlLmRpc2FibGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGRlc2VydC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm5lcy1idG4gaXMtZGlzYWJsZWRcIik7XHJcbiAgICAgICAganVuZ2xlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwibmVzLWJ0biBpcy1zdWNjZXNzXCIpO1xyXG4gICAgICAgIG5vcnRocG9sZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm5lcy1idG5cIik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIG5vcnRocG9sZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBpZiAobm9ydGhwb2xlLmRpc2FibGVkICE9IHRydWUpIHtcclxuICAgICAgICB0aGlzLmxvYWRHcmlkKDEpO1xyXG4gICAgICAgIG5vcnRocG9sZS5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgZGVzZXJ0LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAganVuZ2xlLmRpc2FibGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIG5vcnRocG9sZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm5lcy1idG4gaXMtZGlzYWJsZWRcIik7XHJcbiAgICAgICAganVuZ2xlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwibmVzLWJ0biBpcy1zdWNjZXNzXCIpO1xyXG4gICAgICAgIGRlc2VydC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm5lcy1idG4gaXMtd2FybmluZ1wiKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5cclxuICAgIC8vIEluaXRpYWxzZSB0aGUgbWFwIGZyb20ganVuZ2xlXHJcbiAgICB0aGlzLmxvYWRHcmlkKDApO1xyXG4gIH1cclxuXHJcbiAgLy8gRmV0Y2ggdGhlIHJpZ2h0IGpzb24gZ3JpZCBiYXNlZCBvbiB0ZXJyaWFuIGluZGV4XHJcbiAgbG9hZEdyaWQodGVycmFpbikge1xyXG4gICAgZmV0Y2goXCIuL21hcC9ncmlkLmpzb25cIikudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgIHJlc3BvbnNlLmpzb24oKS50aGVuKGpzb24gPT4ge1xyXG4gICAgICAgIGxldCBqc29uc3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoanNvbik7XHJcbiAgICAgICAgdGhpcy5ncmlkID0gSlNPTi5wYXJzZShqc29uc3RyaW5nKVt0ZXJyYWluXS5ncmlkO1xyXG4gICAgICAgIHRoaXMuZHJhd0JvYXJkKHRlcnJhaW4pO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZHJhd0JvYXJkKHRlcnJhaW4pIHtcclxuICAgIGxldCBvbGRCb2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ3JpZFwiKTtcclxuICAgIGlmIChvbGRCb2FyZCAhPSBudWxsKSB7XHJcbiAgICAgIG9sZEJvYXJkLnJlbW92ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMudGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGFibGVcIik7XHJcbiAgICB0aGlzLnRhYmxlLnNldEF0dHJpYnV0ZShcImlkXCIsIFwiZ3JpZFwiKTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuenc7IGkrKykge1xyXG4gICAgICB0aGlzLnRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xyXG4gICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHRoaXMuemg7IHkrKykge1xyXG4gICAgICAgIHRoaXMudGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XHJcblxyXG4gICAgICAgIC8vIERyYWcgYW5kIGRyb3AgZXZlbnRzXHJcblxyXG4gICAgICAgIHRoaXMudGQuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdvdmVyXCIsIHRoaXMuZHJhZ292ZXIpO1xyXG4gICAgICAgIHRoaXMudGQuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdlbnRlclwiLCB0aGlzLmRyYWdlbnRlcik7XHJcbiAgICAgICAgdGhpcy50ZC5hZGRFdmVudExpc3RlbmVyKFwiZHJvcFwiLCB0aGlzLmRyb3ApO1xyXG4gICAgICAgIHRoaXMudGQuc2V0QXR0cmlidXRlKFwiaWRcIiwgaSArIFwiLVwiICsgeSk7XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YodGhpcy5ncmlkW2ldLkNvbHVtbnNbeV0pID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgdGhpcy5pbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG4gICAgICAgICAgdGhpcy5pbWcuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJtb25zdGVyXCIpO1xyXG5cclxuICAgICAgICAgIC8vRXZlcnkgbW9uc3RlciBnZXRzIGFuIGlkIGJhc2VkIG9uIHRoZWlyIGNvb3JkaW5hdGVzXHJcbiAgICAgICAgICB0aGlzLmltZy5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBpICsgXCJ4XCIgKyB5KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1nLnNyYyA9XHJcbiAgICAgICAgICAgICAgICBcIi4uL3NyYy9SZXNvdXJjZXMvb3JhbmdlbW9uc3Rlci5wbmdcIjtcclxuXHJcbiAgICAgICAgICB0aGlzLmltZy5kcmFnZ2FibGUgPSB0cnVlO1xyXG4gICAgICAgICAgdGhpcy5pbWcuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdzdGFydFwiLCB0aGlzLmRyYWcpO1xyXG4gICAgICAgICAgdGhpcy50ZC5hcHBlbmRDaGlsZCh0aGlzLmltZyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5ncmlkW2ldLkNvbHVtbnNbeV0gPT0gMSkge1xyXG4gICAgICAgICAgdGhpcy5pbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG4gICAgICAgICAgdGhpcy5pbWcuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJzdG9uZVwiKTtcclxuXHJcbiAgICAgICAgICAvL0V2ZXJ5IG1vbnN0ZXIgZ2V0cyBhbiBpZCBiYXNlZCBvbiB0aGVpciBjb29yZGluYXRlc1xyXG4gICAgICAgICAgdGhpcy5pbWcuc2V0QXR0cmlidXRlKFwiaWRcIiwgaSArIFwieFwiICsgeSk7XHJcblxyXG4gICAgICAgICAgc3dpdGNoICh0ZXJyYWluKSB7XHJcbiAgICAgICAgICAgIC8vIEp1bmdsZVxyXG4gICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltZy5zcmMgPVxyXG4gICAgICAgICAgICAgICAgXCIuLi9zcmMvUmVzb3VyY2VzL2p1bmdsZXJvY2sucG5nXCI7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAvLyBOb3J0cG9sZVxyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltZy5zcmMgPVxyXG4gICAgICAgICAgICAgICAgXCIuLi9zcmMvUmVzb3VyY2VzL2ljZWNodW5rLnBuZ1wiO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgLy8gRGVzZXJ0XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1nLnNyYyA9XHJcbiAgICAgICAgICAgICAgICBcIi4uL3NyYy9SZXNvdXJjZXMvY2FjdHVzLnBuZ1wiO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRoaXMudGQuYXBwZW5kQ2hpbGQodGhpcy5pbWcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy50ci5hcHBlbmRDaGlsZCh0aGlzLnRkKTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnRhYmxlLmFwcGVuZENoaWxkKHRoaXMudHIpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5tYXAuYXBwZW5kQ2hpbGQodGhpcy50YWJsZSk7XHJcbiAgfVxyXG5cclxuICBkcmFnKGUpIHtcclxuICAgIGUuZGF0YVRyYW5zZmVyLnNldERhdGEoXCJUZXh0XCIsIGUudGFyZ2V0LmlkKTtcclxuICB9XHJcbiAgZHJhZ292ZXIoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIH1cclxuICBkcmFnZW50ZXIoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIH1cclxuICBkcm9wKGUpIHtcclxuICAgIGxldCBkYXRhID0gZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YShcIlRleHRcIik7XHJcbiAgICBsZXQgbW9uc3RlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRhdGEpO1xyXG4gICAgaWYoIXRoaXMuaGFzQ2hpbGROb2RlcygpICYmIG1vbnN0ZXIuZ2V0QXR0cmlidXRlKFwiZHJhZ2dhYmxlXCIpID09PSBcInRydWVcIikge1xyXG4gICAgICB0aGlzLmFwcGVuZChtb25zdGVyKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIFdlYXRoZXJEYXRhU2VydmljZSB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5hcGlrZXkgPSAnNmVmYzM1YzNjMjYxMWU0MTRlYTY2ZGE3NmIyZTNmMGInO1xyXG4gICAgICAgIHRoaXMudW5pdHMgPSAnbWV0cmljJztcclxuICAgIH1cclxuXHJcbiAgICBnZXRDdXJyZW50V2VhdGhlcihjaXR5TmFtZSkge1xyXG4gICAgICAgIGZldGNoKGBodHRwOi8vYXBpLm9wZW53ZWF0aGVybWFwLm9yZy9kYXRhLzIuNS93ZWF0aGVyP3E9JHtjaXR5TmFtZX0mYXBwaWQ9JHt0aGlzLmFwaWtleX0mdW5pdHM9JHt0aGlzLnVuaXRzfWApXHJcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbihmdW5jdGlvbihteUpzb24pIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KG15SnNvbikpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbn0iLCJpbXBvcnQgeyBXZWF0aGVyRGF0YVNlcnZpY2UgfSBmcm9tIFwiLi4vTW9kZWwvV2VhdGhlckRhdGFTZXJ2aWNlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgV2VhdGhlckNvbnRyb2xsZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy53ZWF0aGVyZGF0YSA9IG5ldyBXZWF0aGVyRGF0YVNlcnZpY2UoKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IE1vbnN0ZXJTZXJ2aWNlIH0gZnJvbSAnLi4vbW9kZWwvTW9uc3RlclNlcnZpY2UnXHJcbmltcG9ydCB7IENyZWF0ZU1vbnN0ZXJWaWV3IH0gZnJvbSAnLi4vdmlldy9DcmVhdGVNb25zdGVyVmlldyc7XHJcbmltcG9ydCB7IE1hcFZpZXcgfSBmcm9tICcuLi92aWV3L01hcFZpZXcnO1xyXG5pbXBvcnQgeyBXZWF0aGVyRGF0YVNlcnZpY2UgfSBmcm9tICcuLi9Nb2RlbC9XZWF0aGVyRGF0YVNlcnZpY2UnO1xyXG5pbXBvcnQgeyBXZWF0aGVyQ29udHJvbGxlciB9IGZyb20gJy4vV2VhdGhlckNvbnRyb2xsZXInO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgWm9vQ29udHJvbGxlclxyXG57XHJcbiAgICAvL2VsIGNvbnN0cnVjdG9yXHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHRoaXMubW9uc3RlcnNlcnZpY2UgPSBuZXcgTW9uc3RlclNlcnZpY2UoKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZW1vbnN0ZXJ2aWV3ID0gIG5ldyBDcmVhdGVNb25zdGVyVmlldyh0aGlzKTtcclxuICAgICAgICB0aGlzLm1hcHZpZXcgPSBuZXcgTWFwVmlldygpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBhZGRNb25zdGVyKGRhdGEpe1xyXG4gICAgICAgIHZhciBuZXdNb25zdGVyID0gbmV3IE1vbnN0ZXIoZGF0YSk7XHJcbiAgICAgICAgdGhpcy5tb25zdGVyc2VydmljZS5zYXZlTW9uc3RlcihuZXdNb25zdGVyKTtcclxuICAgIH1cclxufSIsImltcG9ydCBab29Db250cm9sbGVyIGZyb20gJy4vQ29udHJvbGxlci9ab29Db250cm9sbGVyJztcclxuXHJcbmxldCB6b29jb250cm9sbGVyID0gbmV3IFpvb0NvbnRyb2xsZXIoKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n')}]);